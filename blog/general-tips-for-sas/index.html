<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>General Tips for SAS</title>
  <meta name="author" content="Ben Chuanlong Du">

  <link href="http://www.legendu.net/misc/atom.xml" type="application/atom+xml" rel="alternate"
        title="Ben Chuanlong Du's Blog Atom Feed" />


  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="http://www.legendu.net/misc/favicon.png" rel="icon">
  <link href="http://www.legendu.net/misc/theme/css/main_2.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="http://www.legendu.net/misc/theme/js/modernizr-2.0.js"></script>
  <script src="http://www.legendu.net/misc/theme/js/ender.js"></script>
  <script src="http://www.legendu.net/misc/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="http://www.legendu.net/misc/">Ben Chuanlong Du's Blog</a></h1>
    <h2>It is never too late to learn.</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://www.legendu.net/misc/atom.xml" rel="subscribe-rss">RSS</a></li>
</ul>

<form name="search" action="https://www.bing.com/search" method="get" onSubmit="return build_query()">
  <fieldset role="search">
      <!--
    <input type="hidden" name="q" value="site:http://www.legendu.net/misc" />
        -->
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<script type = "text/javascript">
    function build_query() {
        var query = document.forms["search"]["q"].value;
        var prefix = "site:http://www.legendu.net/misc "
        if (!query.startsWith(prefix)) {
            query = prefix + query;
            document.forms["search"]["q"].value = query;
        }
        return true;
    }
</script>

<ul class="main-navigation">
    <li><a href="http://www.legendu.net">Home</a></li>
    <li><a href="http://www.legendu.net/misc">Blog</a></li>
    <li><a href="http://www.legendu.net/misc/archives.html">Archives</a></li>
    <li><a href="http://www.legendu.net/misc/pages/links.html">Links</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">General Tips for SAS</h1>
      <p class="meta"><time datetime="2015-08-02T12:05:07-07:00" pubdate>Aug 02, 2015</time></p>
</header>

  <div class="entry-content"><p><strong>
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement. 
</strong></p>
<ol>
<li>
<p>Do not go crazy in encapsulating/reusing code in SAS.
SAS is too stupid on this.</p>
</li>
<li>
<p><code>proc univariate</code> only works on numerical variables.
You can use <code>proc freq</code> or <code>proc sql</code> to summary statistics of character variables.</p>
</li>
<li>
<p>sometimes, you need to use plain password to access some database (due to stupid steup ...)
one way to make things a little bit secure is to define you username 
and password as macros in a sas file 
and put them into your home directory 
and do not any other people read access ...</p>
</li>
<li>
<p>You can run <code>dm 'clear log';</code> to clear log information.</p>
</li>
<li>
<p>There are two kinds of modules in SAS.
One is data step, 
the other is procedure.
The data steps read in, create and modify data sets.
The procedures are mainly used to analyze data sets and display results.
However, 
procedures can also manipulate data, 
e.g., the <code>SQL</code>, <code>SORT</code>, <code>TRANSPOSE</code> procedures and so on.
Every procedure in SAS has tons of options 
that help you accomplish different tasks. </p>
</li>
<li>
<p>There are 2 ways (<code>*...;</code> and <code>/*...*/</code>) to make comment in SAS. 
It is recommended that you always use the <code>/*...*/</code> comment style.
The reason is that <code>*...;</code> might cause problems in user-defined macro functions.</p>
</li>
<li>
<p>In SAS, 
a key word can have different means in different context. 
For example, 
a key word can be an option, 
a function or a procedure. </p>
</li>
<li>
<p>SAS is a very stupid language. 
It is very annoying in the sense 
that the identical code might not work in a different environment.
And even if it works, 
it might give you different results.
For example,</p>
<div class="highlight"><pre><span></span><span class="k">data</span> <span class="n">test</span><span class="p">;</span>
    <span class="n">x</span><span class="o">=</span><span class="n">intnx</span><span class="p">(</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;17oct03&#39;</span><span class="n">d</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
    <span class="n">put</span> <span class="n">x</span> <span class="n">date9</span><span class="p">.;</span>
<span class="n">run</span><span class="p">;</span>
</pre></div>


</li>
</ol>
<p>prints <code>16032</code> while</p>
<div class="highlight"><pre><span></span><span class="k">data</span> <span class="n">_null_</span><span class="p">;</span>
    <span class="n">x</span><span class="o">=</span><span class="n">intnx</span><span class="p">(</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;17oct03&#39;</span><span class="n">d</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
    <span class="n">put</span> <span class="n">x</span> <span class="n">date9</span><span class="p">.;</span>
<span class="n">run</span><span class="p">;</span>
</pre></div>


<p>prints <code>23NOV2003</code> in the log 
(Note that you should not put <code>date9.</code> in single/double quotations. 
Please refer to Confusing string in SAS for more on this).</p>
<ol>
<li>
<p>The <code>_null_</code> date step is good environment for testing SAS code.
Neither macro (outside data steps or procedures) 
nor the <code>IML</code> procedure is as convenient.</p>
</li>
<li>
<p>The <code>intnx</code> function returns the SAS date value 
for the <strong>beginning</strong> date, time, 
or datetime value of the interval that you specify in the start-from argument. 
For example, 
<code>intnx('month', '08aug2013'd, 0);</code> 
returns a value that represent Aug 1, 2013.
To convert the SAS date value to a calendar date, 
use any valid SAS date format (such as the <code>date9.</code> format).
The following example shows 
how to determine the date of the start of the week 
that is six weeks from the week of October 17, 2003.</p>
<div class="highlight"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="n">intnx</span><span class="p">(</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;17oct03&#39;</span><span class="n">d</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
<span class="n">put</span> <span class="n">x</span> <span class="n">date9</span><span class="p">.;</span>
</pre></div>


</li>
<li>
<p>Every SAS command must be ended with a semicolon (<code>;</code>).
If you miss a semicolon in SAS,
code following might turn red in SAS enhanced editor.
And you will get wild error messages if you run the code.</p>
</li>
<li>
<p>Most procedures in SAS take data sets 
(with rows stand for observations and columns stand for variables) as input. 
However, 
some procedures also accept other special types of data (e.g., covariance matrix) as input.
When you want to use a special type of data as input, 
you must explicit specify its type (use <code>type=data_type</code>).  </p>
</li>
<li>
<p>It is suggested that you keep variable names in SAS short 
(best not to exceed 8 characters),
because you cannot use names with more than 8 characters in some situations,<br>
e.g., when you create shortcut using <code>filename</code> 
(not sure whether this has been changed in new versions of SAS).</p>
</li>
</ol>
<h2 id="output">Output</h2>
<ol>
<li>It is very slow to display results in HTML format 
when there are massive results. 
Instead of using the <code>print</code> procedure, 
it might be much faster to just rerun the code. </li>
</ol>
<h2 id="linear-models">Linear Models</h2>
<ol>
<li>
<p>Prefer nested than distinct (many) levels,
for example, instead of 1-9, 
prefer 1-3 inside another factor of 3 levels. 
This is a performance concern. </p>
</li>
<li>
<p>Prefer numerical values to character values: 
first, character variables has a default length of 8 which is usually too short
while numerical values are 64 bits. 
Second, the <code>IML</code> procedure accepts matrices only, 
so you cannot mix numeric and character values in the <code>IML</code> procedure.</p>
</li>
<li>
<p>You can use the <code>SetInit</code> procedure (see code below) 
to list SAS expiration date, licensed components, etc.</p>
<div class="highlight"><pre><span></span><span class="n">proc</span> <span class="n">setinit</span><span class="p">;</span>
<span class="n">run</span><span class="p">;</span>
</pre></div>


</li>
<li>
<p>You can include a SAS file using the <code>%include</code> macro.
To include a single file, 
use <code>%include path_to_file;</code>.
You can also include multiple SAS files at a time using the following statement</p>
<div class="highlight"><pre><span></span><span class="nf">%include</span> <span class="n">mylib</span><span class="p">(</span><span class="s">&quot;c1.sas&quot;</span><span class="p">,</span> <span class="s">&quot;c2.txt&quot;</span><span class="p">);</span>
</pre></div>


</li>
</ol>
<p>where <code>mylib</code> is SAS library.
You can ignore the extention and quotations marks for "c1.sas" 
as it has an SAS file extension. 
However,
it is recommended that you always use quotation marks and full file names.
You can also include an SAS file interactively using <code>%include *;</code>.</p>
<ol>
<li>
<p>A <code>filename</code> shortcut points to a location on the machine that runs SAS.
For example, 
if you run SAS on a server using SAS Enterprise Guide, 
a <code>filename</code> shortcut should point to a location 
on the server not a location on your local computer.</p>
</li>
<li>
<p>The maximum length for numeric variables is 8. 
SAS has only 2 types of data: numeric and character.
The SQL procedure supports more numeric data types,
but they are just alias to numeric (type).</p>
</li>
</ol></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">Ben Chuanlong Du</span>
  </span>
<time datetime="2015-08-02T12:05:07-07:00" pubdate>Aug 02, 2015</time>  <span class="categories">
    <a class="category" href="http://www.legendu.net/misc/tag/character.html">character</a>
    <a class="category" href="http://www.legendu.net/misc/tag/programming.html">programming</a>
    <a class="category" href="http://www.legendu.net/misc/tag/sas.html">SAS</a>
    <a class="category" href="http://www.legendu.net/misc/tag/procedure.html">procedure</a>
    <a class="category" href="http://www.legendu.net/misc/tag/data-step.html">data step</a>
    <a class="category" href="http://www.legendu.net/misc/tag/tip.html">tip</a>
  </span>
</p>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/python-tips/">Tips on Python</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/python-tips-and-traps/">Python Tips and Traps</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/exception-and-error-handling-in-python/">Exception and Error Handling in Python</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/ipython-tips/">Tips on IPython</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/tips-for-git-large-file-storage/">Tips for Git Large File Storage</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="http://www.legendu.net/misc/category/ai.html">AI</a></li>
        <li><a href="http://www.legendu.net/misc/category/career.html">Career</a></li>
        <li><a href="http://www.legendu.net/misc/category/cloud.html">Cloud</a></li>
        <li><a href="http://www.legendu.net/misc/category/database.html">Database</a></li>
        <li><a href="http://www.legendu.net/misc/category/encryption.html">Encryption</a></li>
        <li><a href="http://www.legendu.net/misc/category/english.html">English</a></li>
        <li><a href="http://www.legendu.net/misc/category/finance.html">Finance</a></li>
        <li><a href="http://www.legendu.net/misc/category/fun-problems.html">Fun Problems</a></li>
        <li><a href="http://www.legendu.net/misc/category/hardware.html">Hardware</a></li>
        <li><a href="http://www.legendu.net/misc/category/internet.html">Internet</a></li>
        <li><a href="http://www.legendu.net/misc/category/job.html">Job</a></li>
        <li><a href="http://www.legendu.net/misc/category/jupyterlab.html">JupyterLab</a></li>
        <li><a href="http://www.legendu.net/misc/category/language.html">Language</a></li>
        <li><a href="http://www.legendu.net/misc/category/life.html">Life</a></li>
        <li><a href="http://www.legendu.net/misc/category/links.html">Links</a></li>
        <li><a href="http://www.legendu.net/misc/category/linux.html">Linux</a></li>
        <li><a href="http://www.legendu.net/misc/category/machine-learning.html">Machine Learning</a></li>
        <li><a href="http://www.legendu.net/misc/category/macos.html">macOS</a></li>
        <li><a href="http://www.legendu.net/misc/category/network.html">Network</a></li>
        <li><a href="http://www.legendu.net/misc/category/os.html">OS</a></li>
        <li><a href="http://www.legendu.net/misc/category/people.html">People</a></li>
        <li><a href="http://www.legendu.net/misc/category/philosophy.html">Philosophy</a></li>
        <li><a href="http://www.legendu.net/misc/category/programming.html">Programming</a></li>
        <li><a href="http://www.legendu.net/misc/category/research.html">Research</a></li>
        <li><a href="http://www.legendu.net/misc/category/sheng-huo.html">生活</a></li>
        <li><a href="http://www.legendu.net/misc/category/si-suo.html">思索</a></li>
        <li><a href="http://www.legendu.net/misc/category/software.html">Software</a></li>
        <li><a href="http://www.legendu.net/misc/category/statistics.html">Statistics</a></li>
        <li><a href="http://www.legendu.net/misc/category/teleconference.html">Teleconference</a></li>
        <li><a href="http://www.legendu.net/misc/category/tools.html">Tools</a></li>
        <li><a href="http://www.legendu.net/misc/category/trading.html">Trading</a></li>
        <li><a href="http://www.legendu.net/misc/category/unix.html">Unix</a></li>
        <li><a href="http://www.legendu.net/misc/category/visualization.html">Visualization</a></li>
        <li><a href="http://www.legendu.net/misc/category/windows.html">Windows</a></li>
        <li><a href="http://www.legendu.net/misc/category/work.html">Work</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
  <p class="tagcloud">
  </p>
  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/dclong">@dclong</a> on GitHub
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'http://www.legendu.net/misc/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'dclong',
              count: 3,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="http://www.legendu.net/misc/theme/js/github.js" type="text/javascript"> </script>
  </section>

    <section>
        <h1>Social</h2>
        <ul>
            <li><a href="https://www.linkedin.com/in/ben-chuanlong-du-1239b221/" target="_blank">LinkedIn</a></li>
            <li><a href="https://twitter.com/longendu" target="_blank">Twitter</a></li>
            <li><a href="https://www.facebook.com/chuanlong.du" target="_blank">Facebook</a></li>
        <!--
            <li><a href="http://www.legendu.net/misc/" type="application/rss+xml" rel="alternate">RSS</a></li>
            -->
        </ul>
    </section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Ben Chuanlong Du -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30259661-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
	<script type="text/javascript">
	  var disqus_shortname = 'dclong';
          var disqus_identifier = '/blog/general-tips-for-sas/';
          var disqus_url = 'http://www.legendu.net/misc/blog/general-tips-for-sas/';
          var disqus_title = 'General Tips for SAS';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>