<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Graphics in R</title>
  <meta name="author" content="Ben Chuanlong Du">

  <link href="http://www.legendu.net/misc/atom.xml" type="application/atom+xml" rel="alternate"
        title="Ben Chuanlong Du's Blog Atom Feed" />


  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="http://www.legendu.net/misc/favicon.png" rel="icon">
  <link href="http://www.legendu.net/misc/theme/css/main_2.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="http://www.legendu.net/misc/theme/js/modernizr-2.0.js"></script>
  <script src="http://www.legendu.net/misc/theme/js/ender.js"></script>
  <script src="http://www.legendu.net/misc/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="http://www.legendu.net/misc/">Ben Chuanlong Du's Blog</a></h1>
    <h2>It is never too late to learn.</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://www.legendu.net/misc/atom.xml" rel="subscribe-rss">RSS</a></li>
</ul>

<form name="search" action="https://www.bing.com/search" method="get" onSubmit="return build_query()">
  <fieldset role="search">
      <!--
    <input type="hidden" name="q" value="site:http://www.legendu.net/misc" />
        -->
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<script type = "text/javascript">
    function build_query() {
        var query = document.forms["search"]["q"].value;
        var prefix = "site:http://www.legendu.net/misc "
        if (!query.startsWith(prefix)) {
            query = prefix + query;
            document.forms["search"]["q"].value = query;
        }
        return true;
    }
</script>

<ul class="main-navigation">
    <li><a href="http://www.legendu.net">Home</a></li>
    <li><a href="http://www.legendu.net/misc">Blog</a></li>
    <li><a href="http://www.legendu.net/misc/archives.html">Archives</a></li>
    <li><a href="http://www.legendu.net/misc/pages/links.html">Links</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">Graphics in R</h1>
      <p class="meta"><time datetime="2016-06-11T18:28:16-07:00" pubdate>Jun 11, 2016</time></p>
</header>

  <div class="entry-content"><p><strong>
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
</strong></p>
<ol>
<li>
<p><code>par("din")</code> gets the dimension 
(i.e. width and height) of the graphics device.
If no graphics device has been open, 
it opens a new one.</p>
</li>
<li>
<p>To force a plot to have a fixed aspect ratio, 
you can use option <code>asp=aspRatio</code> in plotting function. 
For example, <code>plot(x, y, asp=1)</code> makes a scatter plot with aspect ratio 1. 
This is helpful when you do not want a plot to get stretched.</p>
</li>
<li>
<p>The function <code>title</code> adds titles and axes labels for an existing plot,
so if you forget to specify a title 
or axes labels when you use produce a plot, 
you can use <code>title</code> to add them into the plot
instead of producing a new plot 
(sometimes it is very time-consuming to produce a plot, 
e.g., when you analyze gene data.). 
<code>legend</code> adds legends for an existing plot. 
For example, see the code which produces the following image (need to add title).</p>
</li>
</ol>
<p><img alt="image" src="./res/title-legend.pdf"></p>
<ol>
<li>
<p>Functions <code>pdf</code> and <code>postscript</code> starts the graphics device driver 
for producing <code>pdf</code> and <code>ps</code> graphics respectively, 
which are vectorgraph. 
Similarly, <code>jpeg</code>, <code>bmp</code>, <code>png</code> and <code>tiff</code> start graphics device driver 
for producing <code>jpeg</code>, <code>bmp</code>, <code>png</code> and <code>tiff</code> graphics, 
which are bitmaps.</p>
</li>
<li>
<p>There are several ways 
to divide a window device to sub window devices (to make plots on them). 
First, you can use <code>par</code>,
e.g. to divide a window device to <span class="math">\(2\times3\)</span> sub window devices, 
you can use <code>par(mfrow=c(2,3))</code> or  <code>par(mfcol=c(2,3))</code>. 
The difference between them is the first one display plots by rows 
while the second one display plots by columns. 
Second, 
you can use <code>layout{graphics}</code>, 
e.g. to divide a window device to two parts vertically 
and then further divide the bottom part into two horizontal parts, 
you can use <code>layout(matrix(c(1,2,1,3)))</code>. 
Same values in the matrix stand for the same area, 
and they also stand for the order they get used 
among all the sub window devices. 
Third,
you can use <code>split.screen</code>, 
e.g., 
to achieve what we did using <code>layout</code>, 
you can use the following command</p>
</li>
</ol>
<div class="highlight"><pre><span></span><span class="nf">split.screen</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">1</span><span class="p">))</span>
<span class="nf">split.screen</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">),</span><span class="m">2</span><span class="p">)</span>
</pre></div>


<p>To make a plot on sub window device generated by <code>split.screen</code>, 
you must first active it. 
If you use functions in <code>lattice</code>, 
you will find that these basically ignore all these 3 functions. 
<code>lattice</code> has its own way to split window devices. 
To do this, 
you have first save plots made by functions in <code>lattice</code>, 
and then print these plot at appropriate locations using the generic <code>print</code>. 
For example, 
the following code make two plots using functions in <code>lattice</code>, 
and then using <code>print</code> to display them vertically.</p>
<div class="highlight"><pre><span></span><span class="n">px1</span> <span class="o">=</span> <span class="nf">histogram</span><span class="p">(</span><span class="nf">rnorm</span><span class="p">(</span><span class="m">1000</span><span class="p">))</span>
<span class="n">px2</span> <span class="o">=</span> <span class="nf">bwplot</span><span class="p">(</span><span class="nf">rnorm</span><span class="p">(</span><span class="m">1000</span><span class="p">))</span>
<span class="c1"># arrange the 2 plots vertically</span>
<span class="nf">print</span><span class="p">(</span><span class="n">px1</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0.6</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">),</span> <span class="n">more</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">px2</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0.4</span><span class="p">))</span>
</pre></div>


<p>The first 2 values and the last 2 (3rd and last) values of the option <code>position</code> 
stand for x and y coordinates of the bottom-left and top-right corner, 
respectively,
of the panel to display the corresponding plot. 
Generally speaking, 
<code>par</code> is most easy one to use, 
but it can only divide a window device into rectangular sub window devices, 
and you must make plots in the right order for them to show up at the right places;<br>
<code>layout</code> is also easy to use. 
You can divide a window device into irregular shapes, 
but still you have to make plots in the right order 
to make them to show up at the right place;
<code>split.screen</code> is not as convenient as <code>par</code> and <code>layout</code>, 
but you can divide a window device into irregular sub window devices and
make plot on any sub window device (by calling <code>screen</code> first) whenever you want; 
perhaps it is most inconvenient to use <code>lattice</code> to achieve the same purpose. 
You must use functions in <code>lattice</code>, 
and you have to calculate positions for each sub window device 
and pass it to <code>print</code>. 
But <code>lattice</code> has some unique plotting functions 
and it uses more advanced technologies, 
you can reuse saved plots instead of replotting them every time. 
This is similar to how Mathematica handles graphics. 
My suggestion is that you never use <code>lattice</code> for this kind of job unless necessary.</p>
<ol>
<li>
<p>Function <code>plot</code> is a generic function 
(actually many functions in R are generic functions), 
which be applied to many different types of objects in R.</p>
</li>
<li>
<p>Function <code>boxplot</code> can make plot of different data sets without
using function par().</p>
</li>
<li>
<p>Into order to recover to the default graph setting, we can save the
information of <code>par</code> first and reuse it whenever we want to go back
to the default settings.</p>
</li>
<li>
<p><code>points</code> add points to a graph; <code>segments</code> add segments to a graph.
Though these job can be done by <code>plot</code>, these low level functions
are still useful.</p>
</li>
<li>
<p>Mathematica symbols can be used in title and labels of plots
using the <code>expression</code> function. 
For example,</p>
</li>
</ol>
<div class="highlight"><pre><span></span><span class="nf">plot</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">xlab</span><span class="o">=</span><span class="nf">expression</span><span class="p">(</span><span class="n">alpha</span><span class="o">+</span><span class="n">beta</span><span class="p">))</span>
</pre></div>


<ol>
<li>
<p>We can use math expression when plot a graph. To do this, we just
need specify the corresponding label as <code>expression(expr)</code>, where
"expr" is an appropriate expression in R. For example, if we want to
use Greek symbol <span class="math">\(\alpha\)</span>, we can specify "xlab=expression(alpha)".
Whenver we forget how to write mathematica expressions, we can type
in command "demo(plotmath)" which will display corresponding
expression in R for all kinds of math expressions.</p>
</li>
<li>
<p><code>sna::gplot.arrow</code> makes neat arrows.</p>
</li>
<li>
<p><code>plot(..., type = "h")</code> gives us needle plot</p>
</li>
<li>
<p><code>chull</code> computes convex hull of a given set.</p>
</li>
<li>
<p><code>dev.copy2pdf</code> copies the graphics content on the current graphics
device to a pdf file.</p>
</li>
<li>
<p>You'd better use pdf with dev.off() to make plots, 
this is a universal way ...<br>
avoid problems when working on remote servers</p>
</li>
</ol>
<p><a href="http://ggplot2.org/book/">ggplot2 Book</a></p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">Ben Chuanlong Du</span>
  </span>
<time datetime="2016-06-11T18:28:16-07:00" pubdate>Jun 11, 2016</time>  <span class="categories">
    <a class="category" href="http://www.legendu.net/misc/tag/par.html">par</a>
    <a class="category" href="http://www.legendu.net/misc/tag/r.html">R</a>
    <a class="category" href="http://www.legendu.net/misc/tag/plot.html">plot</a>
    <a class="category" href="http://www.legendu.net/misc/tag/graphics.html">graphics</a>
    <a class="category" href="http://www.legendu.net/misc/tag/programming.html">programming</a>
    <a class="category" href="http://www.legendu.net/misc/tag/cran.html">CRAN</a>
    <a class="category" href="http://www.legendu.net/misc/tag/visualization.html">visualization</a>
  </span>
</p>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/python-tips/">Tips on Python</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/python-tips-and-traps/">Python Tips and Traps</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/exception-and-error-handling-in-python/">Exception and Error Handling in Python</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/ipython-tips/">Tips on IPython</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/tips-for-git-large-file-storage/">Tips for Git Large File Storage</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="http://www.legendu.net/misc/category/ai.html">AI</a></li>
        <li><a href="http://www.legendu.net/misc/category/career.html">Career</a></li>
        <li><a href="http://www.legendu.net/misc/category/cloud.html">Cloud</a></li>
        <li><a href="http://www.legendu.net/misc/category/database.html">Database</a></li>
        <li><a href="http://www.legendu.net/misc/category/encryption.html">Encryption</a></li>
        <li><a href="http://www.legendu.net/misc/category/english.html">English</a></li>
        <li><a href="http://www.legendu.net/misc/category/finance.html">Finance</a></li>
        <li><a href="http://www.legendu.net/misc/category/fun-problems.html">Fun Problems</a></li>
        <li><a href="http://www.legendu.net/misc/category/hardware.html">Hardware</a></li>
        <li><a href="http://www.legendu.net/misc/category/internet.html">Internet</a></li>
        <li><a href="http://www.legendu.net/misc/category/job.html">Job</a></li>
        <li><a href="http://www.legendu.net/misc/category/jupyterlab.html">JupyterLab</a></li>
        <li><a href="http://www.legendu.net/misc/category/language.html">Language</a></li>
        <li><a href="http://www.legendu.net/misc/category/life.html">Life</a></li>
        <li><a href="http://www.legendu.net/misc/category/links.html">Links</a></li>
        <li><a href="http://www.legendu.net/misc/category/linux.html">Linux</a></li>
        <li><a href="http://www.legendu.net/misc/category/machine-learning.html">Machine Learning</a></li>
        <li><a href="http://www.legendu.net/misc/category/macos.html">macOS</a></li>
        <li><a href="http://www.legendu.net/misc/category/network.html">Network</a></li>
        <li><a href="http://www.legendu.net/misc/category/os.html">OS</a></li>
        <li><a href="http://www.legendu.net/misc/category/people.html">People</a></li>
        <li><a href="http://www.legendu.net/misc/category/philosophy.html">Philosophy</a></li>
        <li><a href="http://www.legendu.net/misc/category/programming.html">Programming</a></li>
        <li><a href="http://www.legendu.net/misc/category/research.html">Research</a></li>
        <li><a href="http://www.legendu.net/misc/category/sheng-huo.html">生活</a></li>
        <li><a href="http://www.legendu.net/misc/category/si-suo.html">思索</a></li>
        <li><a href="http://www.legendu.net/misc/category/software.html">Software</a></li>
        <li><a href="http://www.legendu.net/misc/category/statistics.html">Statistics</a></li>
        <li><a href="http://www.legendu.net/misc/category/teleconference.html">Teleconference</a></li>
        <li><a href="http://www.legendu.net/misc/category/tools.html">Tools</a></li>
        <li><a href="http://www.legendu.net/misc/category/trading.html">Trading</a></li>
        <li><a href="http://www.legendu.net/misc/category/unix.html">Unix</a></li>
        <li><a href="http://www.legendu.net/misc/category/visualization.html">Visualization</a></li>
        <li><a href="http://www.legendu.net/misc/category/windows.html">Windows</a></li>
        <li><a href="http://www.legendu.net/misc/category/work.html">Work</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
  <p class="tagcloud">
  </p>
  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/dclong">@dclong</a> on GitHub
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'http://www.legendu.net/misc/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'dclong',
              count: 3,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="http://www.legendu.net/misc/theme/js/github.js" type="text/javascript"> </script>
  </section>

    <section>
        <h1>Social</h2>
        <ul>
            <li><a href="https://www.linkedin.com/in/ben-chuanlong-du-1239b221/" target="_blank">LinkedIn</a></li>
            <li><a href="https://twitter.com/longendu" target="_blank">Twitter</a></li>
            <li><a href="https://www.facebook.com/chuanlong.du" target="_blank">Facebook</a></li>
        <!--
            <li><a href="http://www.legendu.net/misc/" type="application/rss+xml" rel="alternate">RSS</a></li>
            -->
        </ul>
    </section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Ben Chuanlong Du -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30259661-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
	<script type="text/javascript">
	  var disqus_shortname = 'dclong';
          var disqus_identifier = '/blog/graphics-in-r/';
          var disqus_url = 'http://www.legendu.net/misc/blog/graphics-in-r/';
          var disqus_title = 'Graphics in R';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>