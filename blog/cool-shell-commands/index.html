<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Cool Shell/Terminal Commands</title>
  <meta name="author" content="Ben Chuanlong Du">

  <link href="http://www.legendu.net/misc/atom.xml" type="application/atom+xml" rel="alternate"
        title="Ben Chuanlong Du's Blog Atom Feed" />


  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="http://www.legendu.net/misc/favicon.png" rel="icon">
  <link href="http://www.legendu.net/misc/theme/css/main_2.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="http://www.legendu.net/misc/theme/js/modernizr-2.0.js"></script>
  <script src="http://www.legendu.net/misc/theme/js/ender.js"></script>
  <script src="http://www.legendu.net/misc/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="http://www.legendu.net/misc/">Ben Chuanlong Du's Blog</a></h1>
    <h2>It is never too late to learn.</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://www.legendu.net/misc/atom.xml" rel="subscribe-rss">RSS</a></li>
</ul>

<form name="search" action="https://www.bing.com/search" method="get" onSubmit="return build_query()">
  <fieldset role="search">
      <!--
    <input type="hidden" name="q" value="site:http://www.legendu.net/misc" />
        -->
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<script type = "text/javascript">
    function build_query() {
        var query = document.forms["search"]["q"].value;
        var prefix = "site:http://www.legendu.net/misc "
        if (!query.startsWith(prefix)) {
            query = prefix + query;
            document.forms["search"]["q"].value = query;
        }
        return true;
    }
</script>

<ul class="main-navigation">
    <li><a href="http://www.legendu.net">Home</a></li>
    <li><a href="http://www.legendu.net/misc">Blog</a></li>
    <li><a href="http://www.legendu.net/misc/archives.html">Archives</a></li>
    <li><a href="http://www.legendu.net/misc/pages/links.html">Links</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">Cool Shell/Terminal Commands</h1>
      <p class="meta"><time datetime="2014-06-18T21:38:38-07:00" pubdate>Jun 18, 2014</time></p>
</header>

  <div class="entry-content"><p><strong>Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.</strong></p>
<p><a href="http://www.gnu.org/software/bash/manual/bashref.html">Bash Reference Manual</a></p>
<p><a href="https://www.explainshell.com/">ExplainShell</a></p>
<h2 id="seeking-help">Seeking Help</h2>
<p>The best way to seek for help is surely to use a search engine.
However, there are serveral terminal command that can help you quickly.</p>
<ol>
<li>
<p><code>whatis</code> briefly describes what a command does.
    For example,</p>
<div class="highlight"><pre><span></span>$ whatis man
man <span class="o">(</span><span class="m">7</span><span class="o">)</span>              - macros to format man pages
man <span class="o">(</span><span class="m">1</span><span class="o">)</span>              - an interface to the on-line reference manuals
</pre></div>


</li>
<li>
<p><code>whereis</code> locate the binary, source, and manual page files for a command.</p>
</li>
<li>
<p><code>apropos</code> searches description of commands
    and find these associated with the job you specify.
    For example,</p>
<div class="highlight"><pre><span></span>$ apropos gzip
gzip <span class="o">(</span><span class="m">1</span><span class="o">)</span> - compress or expand files
zforce <span class="o">(</span><span class="m">1</span><span class="o">)</span> - force a <span class="s1">&#39;.gz&#39;</span> extension on all gzip files
</pre></div>


</li>
<li>
<p><code>man</code> display help documentation of commands.
    Note that you display the description of <code>man</code> itself by</p>
<div class="highlight"><pre><span></span><span class="n">man</span> <span class="n">man</span>
</pre></div>


<p>When display contents of a file in terminal,
you can use <code>/</code> to search for strings that match the one you specify.
When searching,
you can use <code>n/N</code> to jump to the next/previous match.</p>
</li>
</ol>
<h3 id="retrieving-history-commands">Retrieving History Commands</h3>
<ol>
<li>
<p><code>!!</code> or <code>!:-1</code> stands for the last command.
    <code>!!</code> runs last command and <code>sudo !!</code> runs the last command with <code>sudo</code> permission.</p>
</li>
<li>
<p><code>!n</code> (where <span class="math">\(n\)</span> is a natural number) stands for the <span class="math">\(n^{th}\)</span> command in the command history.</p>
</li>
<li>
<p><code>!-n</code> stands for the last but <span class="math">\(n-1\)</span> command in the command history,</p>
</li>
<li>
<p><code>!foo</code> stands for the most recent command starting with <code>foo</code>.</p>
</li>
</ol>
<h3 id="manipulating-commands">Manipulating Commands</h3>
<ol>
<li>
<p>You can use the suffix <code>:-</code> to get rid of
    the last parameter of the retrieved command.
    For example,
    <code>!!:-</code> stands for the last command without the last parameter.</p>
</li>
<li>
<p><code>^foo^bar^</code> stands for the last command
    with the first occurence of <code>foo</code> replaced by <code>bar</code>.
    The last <code>^</code> can be omitted if no more manipulation on the command is neede.
    (Note that this trick only works for the last command.)</p>
</li>
<li>
<p>You can use the suffix <code>:s/foo/bar/</code> to replace the first occurrence of <code>foo</code> with <code>bar</code>
    in a retrieved command.
    For example,
    <code>!!:s/foo/bar/</code> stands for the last command
    with the first occurrence of <code>foo</code> replaced by <code>bar</code>.
    The last <code>/</code> can be omitted if no more manipulation on the command is needed.</p>
</li>
<li>
<p>You can use the suffix <code>:gs/foo/bar/</code> to replace all occurrences of <code>foo</code> with <code>bar</code>
    in a retrieved command.
    For example,
    <code>!!:gs/foo/bar/</code> stands for the last command
    with all occurences of <code>foo</code> replaced by <code>bar</code>.
    The last <code>/</code> can be omitted if no more manipulation on the command is needed.</p>
</li>
<li>
<p>You can add vanilla strings before and/or after a retrieved command.
    For example,</p>
<ol>
<li>
<p><code>sudo !foo</code> runs the most recent command starting with <code>foo</code> with
    <code>sudo</code> permissions.</p>
</li>
<li>
<p><code>!n:gs/foo/bar/ | less</code> runs the <span class="math">\(n^{th}\)</span> command in the history
    with all occurrences of <code>foo</code> replaced by <code>bar</code>
    and displays the result in <code>less</code> mode.</p>
</li>
<li>
<p><code>sudo ^foo^bar^ | less</code> or <code>sudo !!:s/foo/bar/ | less</code> runs last command
    with <code>sudo</code> permissions and displays the results in <code>less</code> mode.</p>
</li>
</ol>
</li>
</ol>
<h3 id="previeawing-commands">Previeawing Commands</h3>
<p>You can preview (rather than run) a retrived and manipulated (using string substitution) command
by adding the suffix <code>:p</code> to the command.  </p>
<p>In the above commands,
if you add suffix <code>:p</code> (e.g, <code>!!:p</code>),
then the corresponding command is printed to the console without being executed.
Notice that the previewed command will be added to the command history,
so you can press "Arrow Up" key to retrieve it.
<code>^foo^bar^:p</code> <code>!n:gs/foo/bar/:p</code></p>
<h2 id="retrieve-parameter-of-commands">Retrieve Parameter of Commands</h2>
<ol>
<li>
<p><code>!$</code> stands for the last parameter of last command.</p>
</li>
<li>
<p><code>$_</code> stands for the last parameter of last command.</p>
</li>
<li>
<p><code>!:0</code> stands for the Linux command in the last command.</p>
</li>
<li>
<p><code>!:3-5</code> stands for the third to fifth parameters of the last command.
    If the first argument index is 0, then it can be omitted.
    For example, <code>!:0-2</code> can be simplified as <code>!:-2</code>.
    If the "TO" argument index is omited,
    then the last argument is not included.
    For example, <code>!:3-</code> means the third argument to the last-but-1 argument.
    Specially, <code>!:-</code> stands for last command without the last argument.</p>
</li>
<li>
<p><code>&lt;ESC&gt; .</code> or <code>ALT + .</code> retrieves the last parameter of any previous command.
    Pressed once, it retrives the last parameter of the last command;
    pressed twice, it retrives the last parameter of the 2nd last command,
    and so on and so forth.</p>
</li>
</ol>
<h2 id="retrieve-output-of-commands">Retrieve Output of Commands</h2>
<p>There is no direct way to retrieve the output of the last command.
However,
there are several indirect ways to do this.</p>
<ol>
<li>
<p>Use substitution.
    For example,
    <code>v=`ls`</code> makes <code>v</code> a variable containing the result of last command.</p>
</li>
<li>
<p>Assign result to a variable.
    For example,
    <code>v=$(ls)</code> makes <code>v</code> a variable contining the result of last command.</p>
</li>
<li>
<p>Use <code>$(!!)</code> to retrieve the result of last command.
    Similarly,
    one can use <code>$(!-2)</code> to retrieve the result of the 2nd last command.</p>
</li>
</ol>
<h2 id="terminal">Terminal</h2>
<ol>
<li>CTRL+X E editor command in an editor</li>
</ol>
<p>See useful shortcuts at
<a href="https://wiki.archlinux.org/index.php/Keyboard_Shortcuts">Arch Wiki</a></p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">Ben Chuanlong Du</span>
  </span>
<time datetime="2014-06-18T21:38:38-07:00" pubdate>Jun 18, 2014</time>  <span class="categories">
    <a class="category" href="http://www.legendu.net/misc/tag/shell.html">shell</a>
    <a class="category" href="http://www.legendu.net/misc/tag/terminal.html">terminal</a>
    <a class="category" href="http://www.legendu.net/misc/tag/linux.html">Linux</a>
  </span>
</p>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/python-tips/">Tips on Python</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/python-tips-and-traps/">Python Tips and Traps</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/exception-and-error-handling-in-python/">Exception and Error Handling in Python</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/ipython-tips/">Tips on IPython</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/tips-for-git-large-file-storage/">Tips for Git Large File Storage</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="http://www.legendu.net/misc/category/ai.html">AI</a></li>
        <li><a href="http://www.legendu.net/misc/category/career.html">Career</a></li>
        <li><a href="http://www.legendu.net/misc/category/cloud.html">Cloud</a></li>
        <li><a href="http://www.legendu.net/misc/category/database.html">Database</a></li>
        <li><a href="http://www.legendu.net/misc/category/encryption.html">Encryption</a></li>
        <li><a href="http://www.legendu.net/misc/category/english.html">English</a></li>
        <li><a href="http://www.legendu.net/misc/category/finance.html">Finance</a></li>
        <li><a href="http://www.legendu.net/misc/category/fun-problems.html">Fun Problems</a></li>
        <li><a href="http://www.legendu.net/misc/category/hardware.html">Hardware</a></li>
        <li><a href="http://www.legendu.net/misc/category/internet.html">Internet</a></li>
        <li><a href="http://www.legendu.net/misc/category/job.html">Job</a></li>
        <li><a href="http://www.legendu.net/misc/category/jupyterlab.html">JupyterLab</a></li>
        <li><a href="http://www.legendu.net/misc/category/language.html">Language</a></li>
        <li><a href="http://www.legendu.net/misc/category/life.html">Life</a></li>
        <li><a href="http://www.legendu.net/misc/category/links.html">Links</a></li>
        <li><a href="http://www.legendu.net/misc/category/linux.html">Linux</a></li>
        <li><a href="http://www.legendu.net/misc/category/machine-learning.html">Machine Learning</a></li>
        <li><a href="http://www.legendu.net/misc/category/macos.html">macOS</a></li>
        <li><a href="http://www.legendu.net/misc/category/network.html">Network</a></li>
        <li><a href="http://www.legendu.net/misc/category/os.html">OS</a></li>
        <li><a href="http://www.legendu.net/misc/category/people.html">People</a></li>
        <li><a href="http://www.legendu.net/misc/category/philosophy.html">Philosophy</a></li>
        <li><a href="http://www.legendu.net/misc/category/programming.html">Programming</a></li>
        <li><a href="http://www.legendu.net/misc/category/research.html">Research</a></li>
        <li><a href="http://www.legendu.net/misc/category/sheng-huo.html">生活</a></li>
        <li><a href="http://www.legendu.net/misc/category/si-suo.html">思索</a></li>
        <li><a href="http://www.legendu.net/misc/category/software.html">Software</a></li>
        <li><a href="http://www.legendu.net/misc/category/statistics.html">Statistics</a></li>
        <li><a href="http://www.legendu.net/misc/category/teleconference.html">Teleconference</a></li>
        <li><a href="http://www.legendu.net/misc/category/tools.html">Tools</a></li>
        <li><a href="http://www.legendu.net/misc/category/trading.html">Trading</a></li>
        <li><a href="http://www.legendu.net/misc/category/unix.html">Unix</a></li>
        <li><a href="http://www.legendu.net/misc/category/visualization.html">Visualization</a></li>
        <li><a href="http://www.legendu.net/misc/category/windows.html">Windows</a></li>
        <li><a href="http://www.legendu.net/misc/category/work.html">Work</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
  <p class="tagcloud">
  </p>
  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/dclong">@dclong</a> on GitHub
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'http://www.legendu.net/misc/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'dclong',
              count: 3,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="http://www.legendu.net/misc/theme/js/github.js" type="text/javascript"> </script>
  </section>

    <section>
        <h1>Social</h2>
        <ul>
            <li><a href="https://www.linkedin.com/in/ben-chuanlong-du-1239b221/" target="_blank">LinkedIn</a></li>
            <li><a href="https://twitter.com/longendu" target="_blank">Twitter</a></li>
            <li><a href="https://www.facebook.com/chuanlong.du" target="_blank">Facebook</a></li>
        <!--
            <li><a href="http://www.legendu.net/misc/" type="application/rss+xml" rel="alternate">RSS</a></li>
            -->
        </ul>
    </section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Ben Chuanlong Du -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30259661-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
	<script type="text/javascript">
	  var disqus_shortname = 'dclong';
          var disqus_identifier = '/blog/cool-shell-commands/';
          var disqus_url = 'http://www.legendu.net/misc/blog/cool-shell-commands/';
          var disqus_title = 'Cool Shell/Terminal Commands';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>