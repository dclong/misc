<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Some Tips for Shell Commands</title>
  <meta name="author" content="Ben Chuanlong Du">

  <link href="http://www.legendu.net/misc/atom.xml" type="application/atom+xml" rel="alternate"
        title="Ben Chuanlong Du's Blog Atom Feed" />


  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="http://www.legendu.net/misc/favicon.png" rel="icon">
  <link href="http://www.legendu.net/misc/theme/css/main_2.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="http://www.legendu.net/misc/theme/js/modernizr-2.0.js"></script>
  <script src="http://www.legendu.net/misc/theme/js/ender.js"></script>
  <script src="http://www.legendu.net/misc/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="http://www.legendu.net/misc/">Ben Chuanlong Du's Blog</a></h1>
    <h2>It is never too late to learn.</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://www.legendu.net/misc/atom.xml" rel="subscribe-rss">RSS</a></li>
</ul>

<form name="search" action="https://www.bing.com/search" method="get" onSubmit="return build_query()">
  <fieldset role="search">
      <!--
    <input type="hidden" name="q" value="site:http://www.legendu.net/misc" />
        -->
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<script type = "text/javascript">
    function build_query() {
        var query = document.forms["search"]["q"].value;
        var prefix = "site:http://www.legendu.net/misc "
        if (!query.startsWith(prefix)) {
            query = prefix + query;
            document.forms["search"]["q"].value = query;
        }
        return true;
    }
</script>

<ul class="main-navigation">
    <li><a href="http://www.legendu.net">Home</a></li>
    <li><a href="http://www.legendu.net/misc">Blog</a></li>
    <li><a href="http://www.legendu.net/misc/archives.html">Archives</a></li>
    <li><a href="http://www.legendu.net/misc/pages/links.html">Links</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">Some Tips for Shell Commands</h1>
      <p class="meta"><time datetime="2019-07-03T04:25:47-07:00" pubdate>Jul 03, 2019</time></p>
</header>

  <div class="entry-content"><p><strong>
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
</strong></p>
<p><a href="http://www.explainshell.com/">explainshell.com</a></p>
<h2 id="tips-traps">Tips &amp; Traps</h2>
<ol>
<li>Do NOT use <code>;</code> to delimit paths passed to a shell command because <code>;</code> terminates shell commands.
  Use <code>,</code> to delimit paths if needed.</li>
</ol>
<h2 id="configuration">Configuration</h2>
<ol>
<li>
<p>Debian does not read in the <code>.profile</code> file on start-up of X windows.
    To solve this problem,
    you can source in <code>.profile</code> in in the <code>.xsessionrc</code> file.
    Ubuntu and Mint does read in the <code>.profile</code> file on start-up of  X windows.</p>
</li>
<li>
<p>You'd better use robust configuration files.
    If an error is encountered in the <code>.xsessionrc</code> file,
    the desktop environment might fail to start.</p>
</li>
<li>
<p>Bash supports both Vi mode and Emacs mode.
    The default is Emacs mode.
    You can turn on the Vim mode by <code>set -o vi</code> in <code>.bashrc</code>.</p>
</li>
</ol>
<h2 id="programming">Programming</h2>
<ol>
<li>
<p>Dash is faster than bash and thus is often used as login shell
    while bash has more features and is often used as interactive shell
    <code>.profile</code> is intend to be read by shell script
    you should not use any bash specific feature in it.</p>
</li>
<li>
<p>You do not have to escape quotes in sub shells (command in <code>$()</code>).</p>
</li>
</ol>
<h3 id="media">Media</h3>
<ol>
<li>Empty CD tray, cannot eject by pressing the bussion,
    an interesting trick to eject CD: try to amount the CD eject the tray</li>
</ol>
<h2 id="cool-command">Cool Command</h2>
<ol>
<li>
<p><code>~</code> is recognized as the home directory of the current user in shell only.
    You'd better not use it in other places.
    Whenever the home directory of the current user is needed,
    you can always use <code>$HOME</code> instead.</p>
</li>
<li>
<p>Check whether a system is 32 bit or 64 bit</p>
<div class="highlight"><pre><span></span><span class="n">getconf</span> <span class="n">LONG_BIT</span>
</pre></div>


</li>
<li>
<p>all parameters: <code>$@</code> (what about <code>$*</code>?)</p>
</li>
<li>
<p>advance use of <code>[[ ]]</code> wild cards ...</p>
</li>
<li>
<p>alias, function versus scripts, function is more robust, convenient,
    but you have to source them in every time, which decreases performance
    you should think about things similar to python and ruby, use them in both ways!
    alias similar to function,
    prefer script than alias and function, generally speaking
    counter example cs
    Vim !: has no access to shell alias or functions
    another reason to use script
    function versus script:
    function need to refreshed (fun is cached)
    while scripts need not after modified
    so I think scripts is more suitable to use
    I vote for separate fun and script</p>
</li>
<li>
<p>shell scripts are more flexible than shell functions,
    because you can use shabang, which gives flexibility to use any script language
    shell function is must sometimes, e.g., cs example, shell scripts are run in sub shell
    () ... $() ...
    use $0 and $BASH_SOURCE to write ... your example</p>
</li>
<li>
<p>Examples of getting file name and extension.</p>
<div class="highlight"><pre><span></span>FILE=&quot;example.tar.gz&quot;
echo &quot;<span class="cp">${</span><span class="n">FILE</span><span class="o">%%.*</span><span class="cp">}</span>&quot;
# returns example

echo &quot;<span class="cp">${</span><span class="n">FILE</span><span class="o">%.*</span><span class="cp">}</span>&quot;
# returns example.tar

echo &quot;<span class="cp">${</span><span class="n">FILE</span><span class="c1">#*.</span><span class="cp">}</span>&quot;
# returns tar.gz

echo &quot;<span class="cp">${</span><span class="n">FILE</span><span class="c1">##*.</span><span class="cp">}</span>&quot;
# returns gz
</pre></div>


</li>
<li>
<p>avoid using "global" bash variables in sub shell,
    many things are sub shell, very dangerous, and be careful!!!,
    duplicity, aerofs, dropbox examples ...</p>
</li>
<li>
<p>bash array index is 0-based</p>
</li>
<li>
<p>Be careful about <code>.</code> when using regular expressions (e.g., sed),
    this is really a general problem</p>
</li>
</ol>
<p><code>-b file</code> = True if the file exists and is block special file.</p>
<p><code>-c file</code> = True if the file exists and is character special file.</p>
<p><code>-d file</code> = True if the file exists and is a directory.</p>
<p><code>-e file</code> = True if the file exists.</p>
<p><code>-f file</code> = True if the file exists and is a regular file</p>
<p><code>-g file</code> = True if the file exists and the set-group-id bit is set.</p>
<p><code>-k file</code> = True if the files' "sticky" bit is set.</p>
<p><code>-L file</code> = True if the file exists and is a symbolic link.</p>
<p><code>-p file</code> = True if the file exists and is a named pipe.</p>
<p><code>-r file</code> = True if the file exists and is readable.</p>
<p><code>-s file</code> = True if the file exists and its size is greater than zero.</p>
<p><code>-s file</code> = True if the file exists and is a socket.</p>
<p><code>-t fd</code> = True if the file descriptor is opened on a terminal.</p>
<p><code>-u file</code> = True if the file exists and its set-user-id bit is set.</p>
<p><code>-w file</code> = True if the file exists and is writable.</p>
<p><code>-x file</code> = True if the file exists and is executable.</p>
<p><code>-O file</code> = True if the file exists and is owned by the effective user id.</p>
<p><code>-G file</code> = True if the file exists and is owned by the effective group id.</p>
<p><code>file1 –nt file2</code> = True if file1 is newer, by modification date, than file2.</p>
<p><code>file1 ot file2</code> = True if file1 is older than file2.</p>
<p><code>file1 ef file2</code> = True if file1 and file2 have the same device and inode numbers.</p>
<p><code>-z string</code> = True if the length of the string is 0.</p>
<p><code>-n string</code> = True if the length of the string is non-zero.</p>
<p><code>string1 = string2</code> = True if the strings are equal.</p>
<p><code>string1 != string2</code> = True if the strings are not equal.</p>
<p><code>!expr =</code> True if the expr evaluates to false.</p>
<p><code>expr1 –a expr2</code> = True if both expr1 and expr2 are true.</p>
<p><code>expr1 –o expr2</code> = True is either expr1 or expr2 is true.</p>
<p>if a function has the same name as a script,
the function comes first,
but if you prefix it with sudo, then the script is run as a function
is invisible in sub shells</p>
<ol>
<li>
<p>the trick of "--" end of command after which only positional arguments are accepted</p>
</li>
<li>
<p>variable substituation makes things very interesting in shell,
    for example awk and so on ..., always be careful if you use "$" and so on....</p>
</li>
<li>
<p>process of substitution &lt;() &gt;(), pipe ...</p>
</li>
<li>
<p>variables defined in bash function won't polute the global environment
    and local make the variables visible only to the scope of the function</p>
</li>
<li>
<p>prefer dot rather than source for sourcing script,
    because source is only for bash</p>
</li>
<li>
<p>executable files:
    if in $HOME/bin, prefer symbolic links,
    if for general uer, prefer to make a global copy,
    don't use symbolic link in /usr/bin pointing to your own files,
    you might change your file permissions and mess up the program</p>
</li>
<li>
<p>If an environment path contains spaces,
    you have to quote it with double/single quotations marks
    in order to make shell commands work correctly.</p>
</li>
</ol>
<h3 id="bash-programming">Bash Programming</h3>
<ol>
<li>case ... esac is different from switch(){} in C/C++.
    You do not have to return/exit manually after each branch.</li>
</ol>
<p>not condition</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">[</span> ! -d <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
<span class="k">fi</span>
</pre></div>


<h3 id="top">top</h3>
<ol>
<li>top command
    Unit of the Time+ column: minutes:seconds.hundredths</li>
</ol>
<h3 id="ls">ls</h3>
<ol>
<li>
<p><code>ls -d */</code> displays all directories in the current folder</p>
</li>
<li>
<p><code>ls /home/*</code> in bash, don't use it, instead use <code>(/home/*)</code> directly</p>
<div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">-</span><span class="n">d</span> <span class="ss">&quot;/home/dclong/btsync/backup/tbp_&quot;</span><span class="o">*</span>
</pre></div>


<p>instead of</p>
<div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">-</span><span class="n">d</span> <span class="ss">&quot;/home/dclong/btsync/backup/tbp_*&quot;</span>
</pre></div>


<p>it seems to me that if you wildcard,
then full names are returned, otherwise, short names are returned.</p>
</li>
<li>
<p>By default,
    the year for files older than 6 month are not displayed.
    You can force <code>ls</code> to show full time information by <code>ls -lh --full-time</code>.</p>
</li>
</ol>
<h3 id="rsync">rsync</h3>
<ol>
<li><code>rsync</code>, <code>/</code> at the end is important,
    this decides whether the folder is copy or its content is copied, unison is similar ...
    This is the same for some other commands like Amazon S3, etc.
    Also if you want to exclude an folder from <code>rsync</code>,
    you have to include the trailing slash.</li>
</ol>
<h3 id="alias">alias</h3>
<ol>
<li>
<p>it seems alias has lots of limitations ... only use single quotation mark,
    causes lots of problem
    YOU ACTUALLY CAN USE DOUBLE QUTOES</p>
</li>
<li>
<p>If you define an alias of a path (especially a Windows path in Cygwin, MobaXterm, etc.),
    you have to quote the path in commands, generally speaking.
    For example, if the alias of path you define is <code>p</code> (which contains spaces),
    you can use <code>cd "$p"</code> to change working directory to it.
    Note that you cannot omit the quotes.</p>
</li>
</ol>
<h2 id="filesystem">Filesystem</h2>
<h3 id="cp">cp</h3>
<ol>
<li>
<p>always use <code>cp</code> with <code>-i</code> option!</p>
</li>
<li>
<p><code>cp -a</code> might not be a good idea sometimes,
    e.g., when in Cygwin/MobaXterm, because you might lose file permissions due to unmatch of users</p>
</li>
<li>
<p>Both cp and mv overwrite the destination file
    if is is already exists.
    cp does not overwrite existing destination directory
    but instead acts as merging contents of directories.
    mv refuses to rename a directory to a destination directory
    if the destination directory is not empty.</p>
</li>
</ol>
<p>It is suggested that you use rsync as much as possible
as an alternative to cp.</p>
<div class="highlight"><pre><span></span><span class="c1"># copy sub files/folders excluding hidden files/folders</span>
cp a/* b
<span class="c1"># copy sub files/folders including hidden files/folders</span>
cp a/. b
</pre></div>


<h3 id="mv">mv</h3>
<ol>
<li>always use interactive version of <code>mv</code> and <code>cp</code> ...
    and always use <code>trash</code> instead of <code>rm</code></li>
</ol>
<h3 id="rm">rm</h3>
<ol>
<li>
<p>Remove a file whose name starts with <code>--</code> and has special characters.</p>
<div class="highlight"><pre><span></span><span class="n">rm</span> <span class="p">.</span><span class="o">/</span><span class="s1">&#39;--exclude.!sync&#39;</span>
</pre></div>


</li>
<li>
<p>Get file name without extension.</p>
<div class="highlight"><pre><span></span><span class="k">basename</span> <span class="o">-</span><span class="nv">s</span> .<span class="nv">txt</span> <span class="nv">f</span>.<span class="nv">txt</span>
</pre></div>


</li>
<li>
<p>Create a temp file.</p>
<div class="highlight"><pre><span></span><span class="n">mktemp</span> <span class="o">-</span><span class="n">tu</span> <span class="n">file</span><span class="p">.</span><span class="n">XXXXX</span>
</pre></div>


<p><code>mktemp</code> is preferred over <code>tempfile</code>.</p>
</li>
</ol>
<h3 id="gpasswd">gpasswd</h3>
<ol>
<li>
<p><code>gpasswd</code> is great for adding and removing user to/from groups</p>
<p>gpasswd -d user group</p>
</li>
</ol>
<h3 id="type">type</h3>
<ol>
<li><code>type fun_name</code> shows source code of bash functions or use <code>declare -f</code>
    <code>type command</code> path of command</li>
</ol>
<h3 id="mount">mount</h3>
<ol>
<li>
<p>check if a path is a mount point</p>
<div class="highlight"><pre><span></span><span class="k">if</span> [ $<span class="ss">(</span><span class="nv">stat</span> <span class="o">-</span><span class="nv">fc</span><span class="o">%</span><span class="nv">t</span>:<span class="o">%</span><span class="nv">T</span> <span class="s2">&quot;</span><span class="s">mnt/wd</span><span class="s2">&quot;</span><span class="ss">)</span> <span class="o">!=</span> $<span class="ss">(</span><span class="nv">stat</span> <span class="o">-</span><span class="nv">fc</span><span class="o">%</span><span class="nv">t</span>:<span class="o">%</span><span class="nv">T</span> <span class="s2">&quot;</span><span class="s">mnt/wd/..</span><span class="s2">&quot;</span><span class="ss">)</span> ]<span class="c1">; then</span>
    <span class="nv">echo</span> <span class="s2">&quot;</span><span class="s">mounted</span><span class="s2">&quot;</span><span class="c1">; else echo &quot;not mounted&quot;;</span>
<span class="nv">fi</span>
</pre></div>


</li>
<li>
<p>mount as normal user instead of root</p>
<div class="highlight"><pre><span></span><span class="n">mount</span> <span class="o">-</span><span class="n">o</span> <span class="n">uid</span><span class="o">=</span><span class="n">dclong</span> <span class="p">...</span>
</pre></div>


</li>
</ol>
<h3 id="sudo">sudo</h3>
<ol>
<li>
<p>I think it's better to use sudo inside bash script
    instead of prefix sudo to script names to invoke them.
    The reason is that you use sudo only when needed.</p>
</li>
<li>
<p>sudo alias</p>
<div class="highlight"><pre><span></span><span class="k">alias</span> <span class="n">sudo</span><span class="o">=</span><span class="s1">&#39;sudo &#39;</span>
</pre></div>


</li>
</ol>
<p>the space is necessary</p>
<h3 id="real-absolute-path">real absolute path</h3>
<ol>
<li>
<p>realpath: absolute path</p>
</li>
<li>
<p>absolute path</p>
</li>
</ol>
<div class="highlight"><pre><span></span>readlink path
</pre></div>


<h3 id="random">random</h3>
<ol>
<li>
<p>Generate a random number.</p>
<p>random 0 - 32767 uniform</p>
</li>
</ol>
<h3 id="power-management">Power Management</h3>
<ol>
<li>Show battery/power information<div class="highlight"><pre><span></span><span class="n">acpi</span> <span class="o">-</span><span class="n">bi</span>
</pre></div>


</li>
</ol>
<h3 id="shell-programing-trick">Shell Programing Trick</h3>
<ol>
<li>Generate 00, 01, ..., to 25.<div class="highlight"><pre><span></span><span class="k">for</span> <span class="nv">i</span> <span class="nv">in</span> {<span class="mi">00</span>..<span class="mi">25</span>}<span class="c1">; do echo $i; done</span>
</pre></div>


<p>or
    seq -f %02g 0 25</p>
</li>
</ol>
<h2 id="administration">Administration</h2>
<ol>
<li>
<p>shutdown, poweroff, halt
    It seems these commands have different meanings on different Linux distributions.
    The actually case is really complicated.
    It depends on different Linux distributions and also the services running on laptops.
    If a service fails to stop,
    the shutdown process might freeze at the logo page.</p>
<div class="highlight"><pre><span></span><span class="n">halt</span> <span class="o">-</span><span class="n">p</span>
</pre></div>


<p>It is suggested that you always use the <code>poweroff</code> command to shutdown (and poweroff) your computer.
You should close all programs before you logout or shutdown your computer.</p>
</li>
<li>
<p>to change time zone using command sudo dpkg-reconfigure tzdata</p>
</li>
<li>
<p><code>ssh -X</code> X11 forwarding, make it possible for you to use GUI applications on server</p>
</li>
</ol>
<h2 id="task">Task</h2>
<ol>
<li><code>at</code> command run in backgroud,
    so do not use it to do things that have to communicate with stdin stdout ...</li>
</ol>
<h2 id="shell-scripting">Shell Scripting</h2>
<ol>
<li>
<p>It is recommended that you use single quotes when defining aliases
    unless you have good reasons to use double quotes.
    The reason is that shell variables in aliases defined in single quotes
    are not expanded until runtime.
    This makes your alias more robust (shell variables do not have to defined before aliases)
    and flexible (you can change definition of shell variables later as needed).</p>
</li>
<li>
<p>In terminal,
    wild cards are expanded before passed to functions.
    This means that if you pass wild cards from a function to nested functions,
    it usually will not work.
    Instead,
    you should pass the whole argument list,
    which is represented by <code>$@</code>.</p>
</li>
</ol>
<h2 id="archive">Archive</h2>
<ol>
<li>
<p>DO NOT USE the 7-zip format for backup purpose on Linux/Unix
    because 7-zip does not store the owner/group of the file.</p>
</li>
<li>
<p>difference between 7za and 7z?</p>
</li>
</ol>
<h2 id="ui">UI</h2>
<ol>
<li>
<p>use syndaemon -dti 0.5 to disable touchpad while typing.
    You have to have <code>Option SHMConfig "on"</code> or <code>Option SHMConfig "true"</code> in the synaptics configuration file.</p>
</li>
<li>
<p>Sometimes when you login into a server,
    it freezes after printing the welcome message.
    You can press <code>CTRL + C</code> to kill running process and it might help you bring the terminal back.</p>
</li>
<li>
<p>Linux release specific information</p>
<div class="highlight"><pre><span></span><span class="n">lsb_release</span> <span class="o">-</span><span class="n">a</span>
</pre></div>


<p>the lsb-release package</p>
</li>
</ol>
<h2 id="process">Process</h2>
<ol>
<li>
<p>Use <code>Ctrl + Z</code> to pause a process and use <code>bg</code> to send it to background to run.
    Use <code>fg</code> to bring a background process to foreground.</p>
</li>
<li>
<p><code>ldd --version</code> check glibc version</p>
</li>
<li>
<p>You can use <code>ps aux | grep -i user_id</code> to list your jobs
    and <code>kill -9 process_id</code> to kill a process.
    On platform Load Sharing Facility (LSF),
    you probably don't have access to <code>kill</code> unless are a privileged user.
    Instead of using <code>ps</code> and <code>kill</code>,
    you can use <code>bjobs</code> to show your jobs and <code>bkill process_id</code> to kill your process.</p>
</li>
<li>
<p>when defining alias,
    do not use tailing <code>/</code> in paths unless you have a good reason for that ...</p>
</li>
<li>
<p>file to check link cannot use trailing <code>/</code></p>
</li>
<li>
<p>what have caused the blog difference issue?, line terminators</p>
</li>
<li>
<p>comm: make sure you don't screw up by invisible white spaces!!!,
    intersection/inner join, left join, right join (add keywords to your blog)</p>
</li>
<li>
<p>type of disk</p>
<div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">-</span><span class="n">T</span>
</pre></div>


</li>
<li>
<p>In a <code>case ... esac</code> clause, you have to espace spaces in matching patterns,
    e.g., You should use <code>*Linux\ Mint*</code> instead of <code>*Linux Mint*</code> in the following code.</p>
<div class="highlight"><pre><span></span><span class="nv">case</span> <span class="s2">&quot;</span><span class="s">$dist</span><span class="s2">&quot;</span> <span class="nv">in</span>
    <span class="o">*</span><span class="nv">Debian</span><span class="o">*</span> <span class="o">|</span> <span class="o">*</span><span class="nv">LMDE</span><span class="o">*</span> <span class="o">|</span> <span class="o">*</span><span class="nv">Ubuntu</span><span class="o">*</span> <span class="o">|</span> <span class="o">*</span><span class="nv">Linux</span>\ <span class="nv">Mint</span><span class="o">*</span> <span class="ss">)</span>
        # <span class="nv">install</span> <span class="nv">minimum</span> <span class="nv">texlive</span> <span class="nv">and</span> <span class="nv">some</span> <span class="nv">extra</span> <span class="nv">fonts</span>
        <span class="nv">wajig</span> <span class="nv">install</span> <span class="nv">texlive</span> <span class="nv">texlive</span><span class="o">-</span><span class="nv">latex</span><span class="o">-</span><span class="nv">extra</span> <span class="nv">texlive</span><span class="o">-</span><span class="nv">fonts</span><span class="o">-</span><span class="nv">extra</span> <span class="nv">dvipng</span> <span class="nv">texstudio</span>
        <span class="k">return</span> <span class="mi">0</span><span class="c1">;;</span>
    <span class="o">*</span> <span class="ss">)</span>
        <span class="nv">echo</span> <span class="s2">&quot;</span><span class="s">This script does not support ${dist:13}.</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="mi">1</span><span class="c1">;;</span>
<span class="nv">esac</span>
</pre></div>


</li>
<li>
<p>loop throught English letters</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="nv">letter</span> <span class="nv">in</span> {<span class="nv">a</span>..<span class="nv">z</span>} <span class="c1">; do</span>
<span class="nv">echo</span> $<span class="nv">letter</span>
<span class="nv">done</span>

<span class="k">for</span> <span class="nv">letter</span> <span class="nv">in</span> {<span class="nv">c</span>..<span class="nv">f</span>} <span class="c1">; do</span>
<span class="nv">echo</span> $<span class="nv">letter</span>
<span class="nv">done</span>
</pre></div>


</li>
<li>
<p>Direct output and error message</p>
<div class="highlight"><pre><span></span><span class="n">command1</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="k">out</span><span class="p">.</span><span class="n">txt</span> <span class="mi">2</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">err</span><span class="p">.</span><span class="n">txt</span>

<span class="n">command2</span> <span class="o">-</span><span class="n">f</span> <span class="o">-</span><span class="n">z</span> <span class="o">-</span><span class="n">y</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="k">out</span><span class="p">.</span><span class="n">txt</span> <span class="mi">2</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">err</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


</li>
</ol>
<h2 id="environment-variables">Environment Variables</h2>
<p>using envrionment variables in script that doesn't exists is really dangerous!!!
came across this multiple times.
how should solve the problem?
Check whether a variable exists before you use it?</p>
<p>CPU Stats</p>
<h2 id="uuid-in-bash">UUID in Bash</h2>
<div class="highlight"><pre><span></span>uuidgen
</pre></div>


<p>need the libuuid library which is part of <code>util-linux</code></p>
<ol>
<li><code>id -un</code> is a better alternative than <code>whoami</code>.</li>
</ol>
<h2 id="timezone">Timezone</h2>
<p>Linux</p>
<div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">timezone</span>
</pre></div>


<p>Mac
<a href="https://slaptijack.com/system-administration/set-mac-os-x-time-zone-from-the-command-line/">https://slaptijack.com/system-administration/set-mac-os-x-time-zone-from-the-command-line/</a></p></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">Ben Chuanlong Du</span>
  </span>
<time datetime="2019-07-03T04:25:47-07:00" pubdate>Jul 03, 2019</time>  <span class="categories">
    <a class="category" href="http://www.legendu.net/misc/tag/tips.html">tips</a>
    <a class="category" href="http://www.legendu.net/misc/tag/linux.html">Linux</a>
    <a class="category" href="http://www.legendu.net/misc/tag/shell.html">shell</a>
    <a class="category" href="http://www.legendu.net/misc/tag/terminal.html">terminal</a>
  </span>
</p>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/python-tips/">Tips on Python</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/python-tips-and-traps/">Python Tips and Traps</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/exception-and-error-handling-in-python/">Exception and Error Handling in Python</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/ipython-tips/">Tips on IPython</a>
      </li>
      <li class="post">
          <a href="http://www.legendu.net/misc/blog/tips-for-git-large-file-storage/">Tips for Git Large File Storage</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="http://www.legendu.net/misc/category/ai.html">AI</a></li>
        <li><a href="http://www.legendu.net/misc/category/career.html">Career</a></li>
        <li><a href="http://www.legendu.net/misc/category/cloud.html">Cloud</a></li>
        <li><a href="http://www.legendu.net/misc/category/database.html">Database</a></li>
        <li><a href="http://www.legendu.net/misc/category/encryption.html">Encryption</a></li>
        <li><a href="http://www.legendu.net/misc/category/english.html">English</a></li>
        <li><a href="http://www.legendu.net/misc/category/finance.html">Finance</a></li>
        <li><a href="http://www.legendu.net/misc/category/fun-problems.html">Fun Problems</a></li>
        <li><a href="http://www.legendu.net/misc/category/hardware.html">Hardware</a></li>
        <li><a href="http://www.legendu.net/misc/category/internet.html">Internet</a></li>
        <li><a href="http://www.legendu.net/misc/category/job.html">Job</a></li>
        <li><a href="http://www.legendu.net/misc/category/jupyterlab.html">JupyterLab</a></li>
        <li><a href="http://www.legendu.net/misc/category/language.html">Language</a></li>
        <li><a href="http://www.legendu.net/misc/category/life.html">Life</a></li>
        <li><a href="http://www.legendu.net/misc/category/links.html">Links</a></li>
        <li><a href="http://www.legendu.net/misc/category/linux.html">Linux</a></li>
        <li><a href="http://www.legendu.net/misc/category/machine-learning.html">Machine Learning</a></li>
        <li><a href="http://www.legendu.net/misc/category/macos.html">macOS</a></li>
        <li><a href="http://www.legendu.net/misc/category/network.html">Network</a></li>
        <li><a href="http://www.legendu.net/misc/category/os.html">OS</a></li>
        <li><a href="http://www.legendu.net/misc/category/people.html">People</a></li>
        <li><a href="http://www.legendu.net/misc/category/philosophy.html">Philosophy</a></li>
        <li><a href="http://www.legendu.net/misc/category/programming.html">Programming</a></li>
        <li><a href="http://www.legendu.net/misc/category/research.html">Research</a></li>
        <li><a href="http://www.legendu.net/misc/category/sheng-huo.html">生活</a></li>
        <li><a href="http://www.legendu.net/misc/category/si-suo.html">思索</a></li>
        <li><a href="http://www.legendu.net/misc/category/software.html">Software</a></li>
        <li><a href="http://www.legendu.net/misc/category/statistics.html">Statistics</a></li>
        <li><a href="http://www.legendu.net/misc/category/teleconference.html">Teleconference</a></li>
        <li><a href="http://www.legendu.net/misc/category/tools.html">Tools</a></li>
        <li><a href="http://www.legendu.net/misc/category/trading.html">Trading</a></li>
        <li><a href="http://www.legendu.net/misc/category/unix.html">Unix</a></li>
        <li><a href="http://www.legendu.net/misc/category/visualization.html">Visualization</a></li>
        <li><a href="http://www.legendu.net/misc/category/windows.html">Windows</a></li>
        <li><a href="http://www.legendu.net/misc/category/work.html">Work</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
  <p class="tagcloud">
  </p>
  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/dclong">@dclong</a> on GitHub
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'http://www.legendu.net/misc/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'dclong',
              count: 3,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="http://www.legendu.net/misc/theme/js/github.js" type="text/javascript"> </script>
  </section>

    <section>
        <h1>Social</h2>
        <ul>
            <li><a href="https://www.linkedin.com/in/ben-chuanlong-du-1239b221/" target="_blank">LinkedIn</a></li>
            <li><a href="https://twitter.com/longendu" target="_blank">Twitter</a></li>
            <li><a href="https://www.facebook.com/chuanlong.du" target="_blank">Facebook</a></li>
        <!--
            <li><a href="http://www.legendu.net/misc/" type="application/rss+xml" rel="alternate">RSS</a></li>
            -->
        </ul>
    </section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Ben Chuanlong Du -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30259661-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
	<script type="text/javascript">
	  var disqus_shortname = 'dclong';
          var disqus_identifier = '/blog/shell-tips/';
          var disqus_url = 'http://www.legendu.net/misc/blog/shell-tips/';
          var disqus_title = 'Some Tips for Shell Commands';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>