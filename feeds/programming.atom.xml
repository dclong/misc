<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Ben Chuanlong Du's Blog - Programming</title><link href="http://www.legendu.net/misc/" rel="alternate"></link><link href="http://www.legendu.net/misc/feeds/programming.atom.xml" rel="self"></link><id>http://www.legendu.net/misc/</id><updated>2019-10-16T22:09:43-07:00</updated><subtitle>It is never too late to learn.</subtitle><entry><title>Tips on Python</title><link href="http://www.legendu.net/misc/blog/python-tips/" rel="alternate"></link><published>2019-10-16T22:09:43-07:00</published><updated>2019-10-16T22:09:43-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-10-16:/misc/blog/python-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://dclong.github.io/media/python/python.png" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;h2 id="python-doc"&gt;Python Doc&lt;/h2&gt;
&lt;p&gt;https://docs.quantifiedcode.com/python-anti-patterns/index.html&lt;/p&gt;
&lt;h2 id="functions"&gt;Functions&lt;/h2&gt;
&lt;p&gt;https://jeffknupp.com/blog/2018/10/11/write-better-python-functions/&lt;/p&gt;
&lt;p&gt;https://softwareengineering …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://dclong.github.io/media/python/python.png" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;h2 id="python-doc"&gt;Python Doc&lt;/h2&gt;
&lt;p&gt;https://docs.quantifiedcode.com/python-anti-patterns/index.html&lt;/p&gt;
&lt;h2 id="functions"&gt;Functions&lt;/h2&gt;
&lt;p&gt;https://jeffknupp.com/blog/2018/10/11/write-better-python-functions/&lt;/p&gt;
&lt;p&gt;https://softwareengineering.stackexchange.com/questions/225682/is-it-a-bad-idea-to-return-different-data-types-from-a-single-function-in-a-dyna&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/1839289/why-should-functions-always-return-the-same-type&lt;/p&gt;
&lt;p&gt;https://treyhunner.com/2018/04/keyword-arguments-in-python/&lt;/p&gt;
&lt;p&gt;&lt;a href="https://gto76.github.io/python-cheatsheet/"&gt;Comprehensive Python Cheatsheet&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://wiki.python.org/moin/"&gt;The Python Wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://wiki.python.org/moin/UsefulModules"&gt;Useful Modules&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.python-guide.org/en/latest/"&gt;The Hitchhiker’s Guide to Python!&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://pyvideo.org/"&gt;PyVideo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="environment-variable"&gt;Environment Variable&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;os.getenv&lt;/code&gt; gets the value of an environment variable
  while &lt;code&gt;os.setenv&lt;/code&gt; creates a new environment variable or
  sets the value of an environment variable.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You should use &lt;code&gt;os.pathexpanduser("~")&lt;/code&gt; instead of &lt;code&gt;os.getenv('HOME')&lt;/code&gt;
  to get the home directory of the current user in Python.
  &lt;code&gt;os.getenv('HOME')&lt;/code&gt; only works on Linux/Unix.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="programming-skills"&gt;Programming Skills&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Python varadic args can mimic function overloading&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python eval&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;*args&lt;/code&gt; and &lt;code&gt;**kwargs&lt;/code&gt;. Arguments after &lt;code&gt;*&lt;/code&gt; must be called by name.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sys.stdout.write&lt;/code&gt;, &lt;code&gt;sys.stdout.flush&lt;/code&gt;, &lt;code&gt;print&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Global variables in a Python module are readable but not writable to functions in the same module by default.
  If you want to write to a global variable in a function (in the same module),
  you have to declare the global variable in the method using the keyword &lt;code&gt;global&lt;/code&gt;.
  For example, if &lt;code&gt;x&lt;/code&gt; is a global variable
  and you want to write to it in a method,
  you have to declare &lt;code&gt;global x&lt;/code&gt; at the beginning of the method.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="numerical"&gt;Numerical&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Division is float division in Python 3 which is different from Python 2.
    If you want integer division,
    use the &lt;code&gt;//&lt;/code&gt; operator.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="misc"&gt;Misc&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Keys for set and dict objects must be immutable in Python
    (and the same concept holds in other programming languages too).
    Since a list in Python is mutable,
    it cannot be used as a key in set and dict objects.
    You have to convert it to an immutable equivalence (e.g., tuple).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use sys.exit(msg) to print error message and quit when error happens&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Get the class name of an object.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="file-system"&gt;File System&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;os.mkdir&lt;/code&gt; acts like &lt;code&gt;mkdir&lt;/code&gt; in Linux and &lt;code&gt;os.makedirs&lt;/code&gt; acts like &lt;code&gt;mkdir -p&lt;/code&gt; in Linux.
    Both of them throw an exception if the file already exists.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use &lt;code&gt;execfile(open(filename).read())&lt;/code&gt; to source a file,
    variables defined in 'filename' are visible,
    however, imported packages are invisible to the script running execfile&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="encoding"&gt;Encoding&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ord&lt;/code&gt; &lt;code&gt;unichar&lt;/code&gt;
return &lt;code&gt;ascii&lt;/code&gt; number of characters
&lt;code&gt;chr&lt;/code&gt; return a string from a ascii number&lt;/p&gt;
&lt;h2 id="syntax"&gt;Syntax&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Python expression is calculated from left to right.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use a &lt;code&gt;dict&lt;/code&gt; structure to mimic switch in other programming languages.
    However, it is kind of evil and has very limited usage.,
    You should avoid use this.
    Just use multiple &lt;code&gt;if ... else ...&lt;/code&gt; branches instead.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;:&lt;/code&gt; has higher priority than arithmetic operators in Python,
    which is opposite to that in R.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;return v1, v2&lt;/code&gt; returns a tuple &lt;code&gt;(v1, v2)&lt;/code&gt;.
    And if a function &lt;code&gt;f&lt;/code&gt; returns a tuple &lt;code&gt;(v1, v2, v3)&lt;/code&gt;,
    you can use
    &lt;code&gt;v1, v2, v3 = f()&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Stay away from functions/methods/members starting with &lt;code&gt;_&lt;/code&gt;.
    For example,
    you should use the built-in function &lt;code&gt;len&lt;/code&gt; to get the length of a list
    instead of using its method &lt;code&gt;__len__&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python does not support &lt;code&gt;++&lt;/code&gt;, &lt;code&gt;--&lt;/code&gt; but support &lt;code&gt;+=&lt;/code&gt;, &lt;code&gt;-+&lt;/code&gt;, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://py.memect.com/"&gt;Python日报&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.python.org/"&gt;Python Homepage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.python.org/py3k/"&gt;Python Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://wiki.python.org/moin/UsefulModules"&gt;Useful Modules&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://wiki.python.org/jython/LearningJython"&gt;LearningJython&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.jython.org/currentdocs.html"&gt;Jython Tutorial&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://legacy.python.org/dev/peps/pep-0008/"&gt;PEP 8 -- Style Guide for Python&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;http://builtoncement.org/&lt;/p&gt;
&lt;p&gt;https://pythonhosted.org/pyCLI/&lt;/p&gt;
&lt;h3 id="encryption"&gt;Encryption&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://pypi.python.org/pypi/pycrypto"&gt;pycrypto&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;https://github.com/dlitz/pycrypto&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions/3504955/using-rsa-in-python&lt;/p&gt;</content><category term="tips"></category><category term="Python"></category><category term="programming"></category></entry><entry><title>Python Tips and Traps</title><link href="http://www.legendu.net/misc/blog/python-tips-and-traps/" rel="alternate"></link><published>2019-10-16T22:07:28-07:00</published><updated>2019-10-16T22:07:28-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-10-16:/misc/blog/python-tips-and-traps/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="tricks-and-traps"&gt;Tricks and Traps&lt;/h2&gt;
&lt;p&gt;https://docs.python-guide.org/writing/gotchas/&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/101268/hidden-features-of-python&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Use type annotation to make your code more readable and easier to understand.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Restrict the types of objects that your function/method can be applied to 
  and throw a (ValueError) exception when a wrong type is provided.
  This helps minimize surprisings.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;AVOID returning objects of different types from a Python function/method.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be CAREFULL about module name conflictions!
  It happens when there are more than one Python scripts with the same name on Python module search paths.
  This is often not a problem when developing Python packages due to absolute and relative import.
  However, 
  this issue can come up in a few situations and can be quite tricky for uers to figure out.
    a. If an user run a Python script whose parent directory contains a Python script with a name conflicting with other (official) Python modules,
      this issue will come up.
    b. An even trickier situation is when a Python script is piped to a Python interpreter directly. 
      According to &lt;a href="https://docs.python.org/3/library/sys.html#sys.path"&gt;docs about sys.path&lt;/a&gt;,
      &lt;code&gt;sys.path[0]&lt;/code&gt; is initailized to be the empty string on the startup of Python in this situation 
      which directs Python to search modules in the current directly first.
      Since an user can run the command in any directory, 
      it is more likely for him/her to encounter the issue of conflicting module names. 
  If a Python script is never intended to be imported as a module, 
  one way to resolove the issue is to simply remove the first element from &lt;code&gt;sys.path&lt;/code&gt;.
  &lt;code&gt;import sys
  sys.path.pop(0)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Almost all modern programming languages follow the convention
  of not returnting anything (or in another words, retun void, None, etc.)
  from a mutator method so that you cannot chain on a mutator method.
  Functional programming languages enough chaining on methods
  as they often have immutable objects and the methods return new objects
  rather than changing the original objects.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python functions (except lambda functions) do not automatically return value
  unlike functional programming languages.
  Forgotting a &lt;code&gt;return&lt;/code&gt; statement is a common mistake in Python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;According to &lt;a href="https://docs.python.org/2/reference/expressions.html#operator-precedence"&gt;Python Operator Precedence&lt;/a&gt;,
  the ternary expression &lt;code&gt;if - else&lt;/code&gt; has a very low precedence. 
  However, it has higher precedence than the tuple operator &lt;code&gt;,&lt;/code&gt;.
  It is suggested that you always use parentheses to make the precedence clear 
  when you use the ternary expression in a complicated expression.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;update&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; {
    &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;status&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;: &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;succeed&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;, 
    &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;partitions&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;: &lt;span class="mi"&gt;52&lt;/span&gt;,
    &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;size&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;: &lt;span class="mi"&gt;28836&lt;/span&gt;,
    &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;end_time&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;: &lt;span class="mi"&gt;1563259850&lt;/span&gt;.&lt;span class="mi"&gt;937318&lt;/span&gt;
}
[&lt;span class="nv"&gt;key&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt; = &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nv"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;{val}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;isinstance&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;val&lt;/span&gt;, &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;int&lt;/span&gt;, &lt;span class="nv"&gt;float&lt;/span&gt;&lt;span class="ss"&gt;))&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="nv"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;{val}&amp;#39;&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;key&lt;/span&gt;, &lt;span class="nv"&gt;val&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;update&lt;/span&gt;.&lt;span class="nv"&gt;items&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;]
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;returns&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;&amp;#39;succeed&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;partitions = 52&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;size = 28836&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;end_time = 1563259850.937318&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The issue can be fixed by putting the ternary expression into parentheses or define a (lambda) function for the ternary expression.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[&lt;span class="nv"&gt;key&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt; = &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;{update[key]}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;isinstance&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;update&lt;/span&gt;[&lt;span class="nv"&gt;key&lt;/span&gt;], &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;int&lt;/span&gt;, &lt;span class="nv"&gt;float&lt;/span&gt;&lt;span class="ss"&gt;))&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="nv"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;{update[key]}&amp;#39;&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;key&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;update&lt;/span&gt;]
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Backslash (&lt;code&gt;\&lt;/code&gt;) cannot be used in a f-string (introduced in Python 3.6).
  There are multiple ways to resolve this issue.
  First, you can precompute things needed to avoid using &lt;code&gt;\&lt;/code&gt; in a f-string.
  Second, you can use &lt;code&gt;chr(10)&lt;/code&gt; (which returns the backslash) instead.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you need trackback information when throwing an exception use &lt;code&gt;raise ExceptionClass(msg)&lt;/code&gt;,
  otherwise, use &lt;code&gt;sys.exit(msg)&lt;/code&gt; instead.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You cannot use &lt;code&gt;return&lt;/code&gt; to return result from a generator function.
  Instead a &lt;code&gt;return&lt;/code&gt; behaves like raising a StopIteration.
  Please see this &lt;a href="https://stackoverflow.com/questions/26595895/return-and-yield-in-the-same-function"&gt;issue&lt;/a&gt;
  for more discussions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;max(some_iterable, default=0)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;itertools.chain(iter1, iter2, ...)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="referneces"&gt;Referneces&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.toptal.com/python/top-10-mistakes-that-python-programmers-make"&gt;Common Mistakes&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://stackoverflow.com/questions/1132941/least-astonishment-and-the-mutable-default-argument"&gt;Least Astonishment and The Mutble Default Argument&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="programming"></category><category term="Python"></category><category term="tricks"></category><category term="traps"></category><category term="tips"></category></entry><entry><title>Exception and Error Handling in Python</title><link href="http://www.legendu.net/misc/blog/exception-and-error-handling-in-python/" rel="alternate"></link><published>2019-10-16T22:04:19-07:00</published><updated>2019-10-16T22:04:19-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-10-16:/misc/blog/exception-and-error-handling-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://docs.python.org/3/library/exceptions.html&lt;/p&gt;
&lt;p&gt;https://docs.python.org/3/tutorial/errors.html&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://docs.python.org/3/library/exceptions.html&lt;/p&gt;
&lt;p&gt;https://docs.python.org/3/tutorial/errors.html&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="exception"></category><category term="error"></category><category term="exception and error handling"></category></entry><entry><title>Tips on IPython</title><link href="http://www.legendu.net/misc/blog/ipython-tips/" rel="alternate"></link><published>2019-10-16T21:54:55-07:00</published><updated>2019-10-16T21:54:55-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-10-16:/misc/blog/ipython-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="tricks-traps"&gt;Tricks &amp;amp; Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The magic command &lt;code&gt;%rehashx&lt;/code&gt; automatically create aliases for the contents of your &lt;code&gt;$PATH&lt;/code&gt;.
    After running &lt;code&gt;%rehashx&lt;/code&gt;,
    most system …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="tricks-traps"&gt;Tricks &amp;amp; Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The magic command &lt;code&gt;%rehashx&lt;/code&gt; automatically create aliases for the contents of your &lt;code&gt;$PATH&lt;/code&gt;.
    After running &lt;code&gt;%rehashx&lt;/code&gt;,
    most system commands can be used directly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IPython accepts only script with the file extension &lt;code&gt;.ipy&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you parsing arguments in an IPython script, 
    you have to prepend &lt;code&gt;--&lt;/code&gt; to you arguments passed to the IPython scripts,
    otherwise,
    the arguments are passed to the &lt;code&gt;ipython&lt;/code&gt; command instead of your script.
    For more information,
    please check &lt;a href="https://stackoverflow.com/questions/22631845/how-to-pass-command-line-arguments-to-ipython"&gt;this discussion on Stack Overflow&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python variables can used in a shell command like an environment variable. 
    For example, 
    if there is a Python named &lt;code&gt;pkg&lt;/code&gt; which refers to a local package file,
    then you can use &lt;code&gt;!cp $pkg ~&lt;/code&gt; to copy it to the home directory. 
    Another even more general approach is to use the curly braces
    which accepts an arbitrary Python expresion.
    Still, 
    let's assume that &lt;code&gt;pkg&lt;/code&gt; is a Python variable which refers to a local package file 
    but in relative path w.r.t. &lt;code&gt;/tmp&lt;/code&gt;.
    You can copy it to the home directory using the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="sx"&gt;!cp {os.path.join(&amp;#39;/tmp&amp;#39;, pkg)} ~&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it seems that IPython tries to beautify outputs.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://ipython.readthedocs.io/en/stable/index.html"&gt;IPython Documentation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://ipython.readthedocs.io/en/stable/interactive/magics.html"&gt;IPython Magics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/19579546/can-i-access-python-variables-within-a-bash-or-script-ipython-notebook-c&lt;/p&gt;
&lt;p&gt;https://ipython.org/ipython-doc/3/interactive/shell.html&lt;/p&gt;
&lt;p&gt;https://ipython.readthedocs.io/en/stable/interactive/magics.html&lt;/p&gt;
&lt;p&gt;https://github.com/ipython/ipython/wiki/Cookbook:-Storing-aliases&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="tips"></category><category term="IPython"></category></entry><entry><title>Hands on the tempfile Module in Python</title><link href="http://www.legendu.net/misc/blog/hands-on-tempfile/" rel="alternate"></link><published>2019-10-16T00:00:00-07:00</published><updated>2019-10-16T00:00:00-07:00</updated><author><name>Ben Du</name></author><id>tag:www.legendu.net,2019-10-16:/misc/blog/hands-on-tempfile/</id><summary type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://docs.python.org/3/library/tempfile.html"&gt;https://docs.python.org/3/library/tempfile.html&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;This module creates temporary files and directories. 
It works on all supported platforms. 
TemporaryFile, NamedTemporaryFile, TemporaryDirectory, and SpooledTemporaryFile are high-level interfaces 
which provide automatic cleanup and can be used as context managers. 
mkstemp() and mkdtemp() are lower-level functions which require manual cleanup.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph &gt; img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;&lt;body&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://docs.python.org/3/library/tempfile.html"&gt;https://docs.python.org/3/library/tempfile.html&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;This module creates temporary files and directories. 
It works on all supported platforms. 
TemporaryFile, NamedTemporaryFile, TemporaryDirectory, and SpooledTemporaryFile are high-level interfaces 
which provide automatic cleanup and can be used as context managers. 
mkstemp() and mkdtemp() are lower-level functions which require manual cleanup.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;tempfile&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pathlib&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="tempfile.TemporaryFile"&gt;tempfile.TemporaryFile&lt;a class="anchor-link" href="#tempfile.TemporaryFile"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tempfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TemporaryFile&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;b&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;how are you&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[6]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;11&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;seek&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[7]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;0&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[8]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;b&amp;#39;how are you&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[4]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;_io.BufferedRandom&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[14]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[14]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;58&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;tempfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TemporaryFile&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;b&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;how are you&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;seek&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;b&amp;#39;how are you&amp;#39;
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="tempfile.TemporaryDirectory"&gt;tempfile.TemporaryDirectory&lt;a class="anchor-link" href="#tempfile.TemporaryDirectory"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Notice that after finish of the &lt;code&gt;with&lt;/code&gt; block, 
the temporary directory is removed automatically.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;tempfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TemporaryDirectory&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;tempdir&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tempdir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;/tmp/tmpwgm504z8
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tempdir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[9]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;False&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="tempfile.mkstemp"&gt;tempfile.mkstemp&lt;a class="anchor-link" href="#tempfile.mkstemp"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;The returned file descriptor must be closed manually (using &lt;code&gt;os.close&lt;/code&gt;) to avoid leak of resource!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The &lt;code&gt;suffix&lt;/code&gt; option can be used to create a temporary file with a specific file extension.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Below is an example of how to use &lt;code&gt;tempfile.mkstemp&lt;/code&gt; in a correct way.
Notice that the returned file descriptor is closed (using &lt;code&gt;os.close&lt;/code&gt;) manually.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tempfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mkstemp&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;/tmp/tmpcbjq3jr8
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[19]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;b&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;how are you&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[19]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;11&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[20]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[21]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;cat &lt;span class="o"&gt;{&lt;/span&gt;file&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;how are you&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Create a temporary SQL file.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;tempfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mkstemp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;suffix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.sql&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[2]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;(57, &amp;#39;/tmp/tmpzjxy8tg9.sql&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="tempfile.mkdtemp"&gt;tempfile.mkdtemp&lt;a class="anchor-link" href="#tempfile.mkdtemp"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;tempfile&lt;/span&gt;

&lt;span class="n"&gt;tempfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mkdtemp&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[3]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;/tmp/tmpwusvuq3c&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[&amp;nbsp;]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
 

&lt;/body&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="programming"></category><category term="Python"></category><category term="tempfile"></category><category term="temp"></category><category term="temporary file"></category></entry><entry><title>Gitignore Examples</title><link href="http://www.legendu.net/misc/blog/gitignore-tips/" rel="alternate"></link><published>2019-10-15T21:44:27-07:00</published><updated>2019-10-15T21:44:27-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-10-15:/misc/blog/gitignore-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="online-tools"&gt;Online Tools&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.gitignore.io/"&gt;gitignore.io&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/github/gitignore"&gt;github/gitignore&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="gitignore-example-for-python"&gt;Gitignore Example for Python&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;__pycache__&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ipynb_checkpoints&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="n"&gt;venv&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="n"&gt;dist&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;coverage&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mypy&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mypy_cache&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;crc&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;egg …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="online-tools"&gt;Online Tools&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.gitignore.io/"&gt;gitignore.io&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/github/gitignore"&gt;github/gitignore&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="gitignore-example-for-python"&gt;Gitignore Example for Python&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;__pycache__&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ipynb_checkpoints&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="n"&gt;venv&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="n"&gt;dist&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;coverage&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mypy&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mypy_cache&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;crc&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;egg&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="gitignore-example-for-java"&gt;Gitignore Example for Java&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# &lt;span class="nv"&gt;Java&lt;/span&gt; 
&lt;span class="o"&gt;*&lt;/span&gt;.&lt;span class="nv"&gt;class&lt;/span&gt;

## &lt;span class="nv"&gt;BlueJ&lt;/span&gt; &lt;span class="nv"&gt;files&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;.&lt;span class="nv"&gt;ctxt&lt;/span&gt;

## &lt;span class="nv"&gt;Mobile&lt;/span&gt; &lt;span class="nv"&gt;Tools&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;Java&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;J2ME&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
.&lt;span class="nv"&gt;mtj&lt;/span&gt;.&lt;span class="nv"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;

## &lt;span class="nv"&gt;Package&lt;/span&gt; &lt;span class="nv"&gt;Files&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;.&lt;span class="nv"&gt;war&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;.&lt;span class="nv"&gt;ear&lt;/span&gt;

# &lt;span class="nv"&gt;Gradle&lt;/span&gt; 
.&lt;span class="nv"&gt;gradle&lt;/span&gt;
&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;build&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;out&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;

## &lt;span class="nv"&gt;Ignore&lt;/span&gt; &lt;span class="nv"&gt;Gradle&lt;/span&gt; &lt;span class="nv"&gt;GUI&lt;/span&gt; &lt;span class="nv"&gt;config&lt;/span&gt;
&lt;span class="nv"&gt;gradle&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;app&lt;/span&gt;.&lt;span class="nv"&gt;setting&lt;/span&gt;

## &lt;span class="nv"&gt;Avoid&lt;/span&gt; &lt;span class="nv"&gt;ignoring&lt;/span&gt; &lt;span class="nv"&gt;Gradle&lt;/span&gt; &lt;span class="nv"&gt;wrapper&lt;/span&gt; &lt;span class="nv"&gt;jar&lt;/span&gt; &lt;span class="nv"&gt;file&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt; &lt;span class="nv"&gt;files&lt;/span&gt; &lt;span class="nv"&gt;are&lt;/span&gt; &lt;span class="nv"&gt;usually&lt;/span&gt; &lt;span class="nv"&gt;ignored&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nv"&gt;gradle&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;wrapper&lt;/span&gt;.&lt;span class="nv"&gt;jar&lt;/span&gt;

## &lt;span class="nv"&gt;Cache&lt;/span&gt; &lt;span class="nv"&gt;of&lt;/span&gt; &lt;span class="nv"&gt;project&lt;/span&gt;
.&lt;span class="nv"&gt;gradletasknamecache&lt;/span&gt;

# &lt;span class="nv"&gt;virtual&lt;/span&gt; &lt;span class="nv"&gt;machine&lt;/span&gt; &lt;span class="nv"&gt;crash&lt;/span&gt; &lt;span class="nv"&gt;logs&lt;/span&gt;, &lt;span class="nv"&gt;see&lt;/span&gt; &lt;span class="nv"&gt;http&lt;/span&gt;:&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="nv"&gt;www&lt;/span&gt;.&lt;span class="nv"&gt;java&lt;/span&gt;.&lt;span class="nv"&gt;com&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;en&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;download&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;help&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;error_hotspot&lt;/span&gt;.&lt;span class="nv"&gt;xml&lt;/span&gt;
&lt;span class="nv"&gt;hs_err_pid&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;

# &lt;span class="nv"&gt;Mac&lt;/span&gt;
.&lt;span class="nv"&gt;DS_Store&lt;/span&gt;

# &lt;span class="nv"&gt;IDE&lt;/span&gt;
.&lt;span class="nv"&gt;idea&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;

# &lt;span class="nv"&gt;Misc&lt;/span&gt;
&lt;span class="nv"&gt;core&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;.&lt;span class="nv"&gt;log&lt;/span&gt;
&lt;span class="nv"&gt;deprecated&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Git"></category><category term=".gitignore"></category></entry><entry><title>Tips on Xonsh</title><link href="http://www.legendu.net/misc/blog/tips-on-xonsh/" rel="alternate"></link><published>2019-10-15T20:52:22-07:00</published><updated>2019-10-15T20:52:22-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-10-15:/misc/blog/tips-on-xonsh/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/xonsh/xonsh/wiki/Cheatsheet&lt;/p&gt;
&lt;h2 id="tricks-and-traps"&gt;Tricks and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;While &lt;code&gt;$()&lt;/code&gt; in xonsh works similar to &lt;code&gt;$()&lt;/code&gt; in (all variants of …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/xonsh/xonsh/wiki/Cheatsheet&lt;/p&gt;
&lt;h2 id="tricks-and-traps"&gt;Tricks and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;While &lt;code&gt;$()&lt;/code&gt; in xonsh works similar to &lt;code&gt;$()&lt;/code&gt; in (all variants of) shell, 
    it cannot be used in the middle of argument of a shell command. 
    Please refer to 
    &lt;a href="https://github.com/xonsh/xonsh/issues/1022"&gt;issue 1022&lt;/a&gt;
    and
    &lt;a href="https://github.com/xonsh/xonsh/issues/3290"&gt;issue 3290&lt;/a&gt;
    for more details.
    My suggestion is to stick to xonsh as much as possible (as Python is much better than shell)
    unless you encounter the above issues.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;xonsh messes up console flush sometimes.
    Please refer to 
    &lt;a href="https://github.com/xonsh/xonsh/issues/3320"&gt;issue 3320&lt;/a&gt;
    for more details.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;source&lt;/code&gt; sources in a xonsh script.
    &lt;code&gt;source-bash&lt;/code&gt; sources in a Bash script.&lt;/p&gt;
&lt;p&gt;https://xon.sh/aliases.html#source-bash&lt;/p&gt;
&lt;p&gt;https://github.com/xonsh/xonsh/issues/2978&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="python-evaluation"&gt;Python Evaluation&lt;/h2&gt;
&lt;h3 id="python-evalation-with"&gt;&lt;a href="https://xon.sh/tutorial.html#python-evaluation-with"&gt;Python Evalation with &lt;code&gt;@()&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The code below prints &lt;code&gt;1 2 3&lt;/code&gt; in xonsh.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;echo&lt;/span&gt; &lt;span class="k"&gt;@&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="python-evalation-with-f-string"&gt;Python Evalation with f-string.&lt;/h3&gt;
&lt;p&gt;The Python variales are casted to string directly.
For example, 
the code below prints &lt;code&gt;[1, 2, 3]&lt;/code&gt; in xonsh.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;echo&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{x}&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="force-shell-subprocess"&gt;Force (Shell) Subprocess&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;use &lt;code&gt;os.system&lt;/code&gt; or &lt;code&gt;subprocess.run&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wrap the command in &lt;code&gt;$()&lt;/code&gt;. 
    Notice that &lt;code&gt;$()&lt;/code&gt; cannot be used in the middle of arguments currently.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wrap the command in &lt;code&gt;$[]&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;for some commands, you just need to put part of it into single/double quotes.
    For example, 
    xonsh fails to recognize &lt;code&gt;pip3 install dask[complete]&lt;/code&gt; as a shell command 
    while it recognize &lt;code&gt;pip3 install "dask[complete]"&lt;/code&gt; as a shell command.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="background-mode-for-subprocess"&gt;Background Mode for Subprocess&lt;/h2&gt;
&lt;p&gt;https://github.com/xonsh/xonsh/issues/1477#event-2481368935&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://xon.sh/bash_to_xsh.html"&gt;Bash to Xonsh Translation Guide¶&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://xon.sh/xonshrc.html"&gt;Run Control File&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://xon.sh/customization.html"&gt;Updating and customizing xonsh&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://xon.sh/envvars.html"&gt;Environment Variables&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://xon.sh/xontribs.html"&gt;Xonribs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://xon.sh/envvars.html"&gt;Environment Variables&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/xonsh/xonsh/issues/1477#event-2481368935&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/39724184/how-to-write-a-multi-command-alias-in-xonsh/39761905#39761905&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="shell"></category><category term="xonsh"></category><category term="Python evaluation"></category></entry><entry><title>Fix Version Confliction of the Six Package</title><link href="http://www.legendu.net/misc/blog/fix-version-confliction-of-the-six-package/" rel="alternate"></link><published>2019-10-15T08:31:38-07:00</published><updated>2019-10-15T08:31:38-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-10-15:/misc/blog/fix-version-confliction-of-the-six-package/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ERROR: jsonschema 3.1.1 has requirement six&amp;gt;=1.11.0, but you'll have six 1.10.0 which is …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ERROR: jsonschema 3.1.1 has requirement six&amp;gt;=1.11.0, but you'll have six 1.10.0 which is incompatible.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;six&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;U&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Python"></category><category term="six"></category><category term="version confliction"></category></entry><entry><title>Hands on pathlib.Path</title><link href="http://www.legendu.net/misc/blog/hands-on-pathlib.path/" rel="alternate"></link><published>2019-10-14T00:00:00-07:00</published><updated>2019-10-14T00:00:00-07:00</updated><author><name>Ben Du</name></author><id>tag:www.legendu.net,2019-10-14:/misc/blog/hands-on-pathlib.path/</id><summary type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://docs.python.org/3/library/pathlib.html"&gt;https://docs.python.org/3/library/pathlib.html&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph &gt; img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;&lt;body&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://docs.python.org/3/library/pathlib.html"&gt;https://docs.python.org/3/library/pathlib.html&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pathlib&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;  &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iterdir&lt;/span&gt;&lt;span class="p"&gt;()]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[4]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;[PosixPath(&amp;#39;selenium&amp;#39;),
 PosixPath(&amp;#39;jupyter-nodejs&amp;#39;),
 PosixPath(&amp;#39;gitpod-py3&amp;#39;),
 PosixPath(&amp;#39;jupyterhub-py&amp;#39;),
 PosixPath(&amp;#39;ubuntu_cn&amp;#39;),
 PosixPath(&amp;#39;ubuntu_b&amp;#39;),
 PosixPath(&amp;#39;lubuntu-pyside2&amp;#39;),
 PosixPath(&amp;#39;jupyterhub-ds&amp;#39;),
 PosixPath(&amp;#39;gitpod-svim&amp;#39;),
 PosixPath(&amp;#39;jupyterhub-selenium-chrome&amp;#39;),
 PosixPath(&amp;#39;python&amp;#39;),
 PosixPath(&amp;#39;Untitled.ipynb&amp;#39;),
 PosixPath(&amp;#39;jdk&amp;#39;),
 PosixPath(&amp;#39;jupyterhub-beakerx&amp;#39;),
 PosixPath(&amp;#39;lubuntu-qt5&amp;#39;),
 PosixPath(&amp;#39;jupyterhub&amp;#39;),
 PosixPath(&amp;#39;jupyterhub-jdk&amp;#39;),
 PosixPath(&amp;#39;jupyterhub-selenium-firefox&amp;#39;),
 PosixPath(&amp;#39;jupyterhub-ai&amp;#39;),
 PosixPath(&amp;#39;deepin_b&amp;#39;),
 PosixPath(&amp;#39;deepin-baidupan&amp;#39;),
 PosixPath(&amp;#39;.ipynb_checkpoints&amp;#39;),
 PosixPath(&amp;#39;deepin&amp;#39;),
 PosixPath(&amp;#39;jupyterlab&amp;#39;),
 PosixPath(&amp;#39;ldeepin&amp;#39;),
 PosixPath(&amp;#39;deepin_cn&amp;#39;),
 PosixPath(&amp;#39;jupyter&amp;#39;),
 PosixPath(&amp;#39;jupyterhub-toree&amp;#39;),
 PosixPath(&amp;#39;lubuntu&amp;#39;)]&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[6]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;[&amp;#39;__bytes__&amp;#39;,
 &amp;#39;__class__&amp;#39;,
 &amp;#39;__delattr__&amp;#39;,
 &amp;#39;__dir__&amp;#39;,
 &amp;#39;__doc__&amp;#39;,
 &amp;#39;__enter__&amp;#39;,
 &amp;#39;__eq__&amp;#39;,
 &amp;#39;__exit__&amp;#39;,
 &amp;#39;__format__&amp;#39;,
 &amp;#39;__fspath__&amp;#39;,
 &amp;#39;__ge__&amp;#39;,
 &amp;#39;__getattribute__&amp;#39;,
 &amp;#39;__gt__&amp;#39;,
 &amp;#39;__hash__&amp;#39;,
 &amp;#39;__init__&amp;#39;,
 &amp;#39;__init_subclass__&amp;#39;,
 &amp;#39;__le__&amp;#39;,
 &amp;#39;__lt__&amp;#39;,
 &amp;#39;__module__&amp;#39;,
 &amp;#39;__ne__&amp;#39;,
 &amp;#39;__new__&amp;#39;,
 &amp;#39;__reduce__&amp;#39;,
 &amp;#39;__reduce_ex__&amp;#39;,
 &amp;#39;__repr__&amp;#39;,
 &amp;#39;__rtruediv__&amp;#39;,
 &amp;#39;__setattr__&amp;#39;,
 &amp;#39;__sizeof__&amp;#39;,
 &amp;#39;__slots__&amp;#39;,
 &amp;#39;__str__&amp;#39;,
 &amp;#39;__subclasshook__&amp;#39;,
 &amp;#39;__truediv__&amp;#39;,
 &amp;#39;_accessor&amp;#39;,
 &amp;#39;_cached_cparts&amp;#39;,
 &amp;#39;_closed&amp;#39;,
 &amp;#39;_cparts&amp;#39;,
 &amp;#39;_drv&amp;#39;,
 &amp;#39;_flavour&amp;#39;,
 &amp;#39;_format_parsed_parts&amp;#39;,
 &amp;#39;_from_parsed_parts&amp;#39;,
 &amp;#39;_from_parts&amp;#39;,
 &amp;#39;_hash&amp;#39;,
 &amp;#39;_init&amp;#39;,
 &amp;#39;_make_child&amp;#39;,
 &amp;#39;_make_child_relpath&amp;#39;,
 &amp;#39;_opener&amp;#39;,
 &amp;#39;_parse_args&amp;#39;,
 &amp;#39;_parts&amp;#39;,
 &amp;#39;_pparts&amp;#39;,
 &amp;#39;_raise_closed&amp;#39;,
 &amp;#39;_raw_open&amp;#39;,
 &amp;#39;_root&amp;#39;,
 &amp;#39;_str&amp;#39;,
 &amp;#39;absolute&amp;#39;,
 &amp;#39;anchor&amp;#39;,
 &amp;#39;as_posix&amp;#39;,
 &amp;#39;as_uri&amp;#39;,
 &amp;#39;chmod&amp;#39;,
 &amp;#39;cwd&amp;#39;,
 &amp;#39;drive&amp;#39;,
 &amp;#39;exists&amp;#39;,
 &amp;#39;expanduser&amp;#39;,
 &amp;#39;glob&amp;#39;,
 &amp;#39;group&amp;#39;,
 &amp;#39;home&amp;#39;,
 &amp;#39;is_absolute&amp;#39;,
 &amp;#39;is_block_device&amp;#39;,
 &amp;#39;is_char_device&amp;#39;,
 &amp;#39;is_dir&amp;#39;,
 &amp;#39;is_fifo&amp;#39;,
 &amp;#39;is_file&amp;#39;,
 &amp;#39;is_mount&amp;#39;,
 &amp;#39;is_reserved&amp;#39;,
 &amp;#39;is_socket&amp;#39;,
 &amp;#39;is_symlink&amp;#39;,
 &amp;#39;iterdir&amp;#39;,
 &amp;#39;joinpath&amp;#39;,
 &amp;#39;lchmod&amp;#39;,
 &amp;#39;lstat&amp;#39;,
 &amp;#39;match&amp;#39;,
 &amp;#39;mkdir&amp;#39;,
 &amp;#39;name&amp;#39;,
 &amp;#39;open&amp;#39;,
 &amp;#39;owner&amp;#39;,
 &amp;#39;parent&amp;#39;,
 &amp;#39;parents&amp;#39;,
 &amp;#39;parts&amp;#39;,
 &amp;#39;read_bytes&amp;#39;,
 &amp;#39;read_text&amp;#39;,
 &amp;#39;relative_to&amp;#39;,
 &amp;#39;rename&amp;#39;,
 &amp;#39;replace&amp;#39;,
 &amp;#39;resolve&amp;#39;,
 &amp;#39;rglob&amp;#39;,
 &amp;#39;rmdir&amp;#39;,
 &amp;#39;root&amp;#39;,
 &amp;#39;samefile&amp;#39;,
 &amp;#39;stat&amp;#39;,
 &amp;#39;stem&amp;#39;,
 &amp;#39;suffix&amp;#39;,
 &amp;#39;suffixes&amp;#39;,
 &amp;#39;symlink_to&amp;#39;,
 &amp;#39;touch&amp;#39;,
 &amp;#39;unlink&amp;#39;,
 &amp;#39;with_name&amp;#39;,
 &amp;#39;with_suffix&amp;#39;,
 &amp;#39;write_bytes&amp;#39;,
 &amp;#39;write_text&amp;#39;]&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;absolute&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[8]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;/workdir/archives/docker&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;anchor&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[10]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;as_posix&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[11]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;.&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;absolute&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;as_uri&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[13]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;file:///workdir/archives/docker&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;chmod&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Help on method chmod in module pathlib:

chmod(mode) method of pathlib.PosixPath instance
    Change the permissions of the path, like os.chmod().

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cwd&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[16]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;/workdir/archives/docker&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[18]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drive&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[18]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[19]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[19]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;True&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[22]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expanduser&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[22]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;.&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[24]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;~&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expanduser&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[24]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;/home/dclong&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[25]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;~/archives&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expanduser&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[25]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;/home/dclong/archives&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[26]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[26]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[27]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;.&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[28]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parent&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[28]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;.&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[29]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parts&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[29]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;()&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[30]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stem&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[30]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[31]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resolve&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[31]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;/workdir/archives/docker&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[33]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resolve&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stem&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[33]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;docker&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[34]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resolve&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[34]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;docker&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[35]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resolve&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parent&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[35]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;/workdir/archives&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[36]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resolve&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parts&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[36]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;(&amp;#39;/&amp;#39;, &amp;#39;workdir&amp;#39;, &amp;#39;archives&amp;#39;, &amp;#39;docker&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[37]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resolve&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[37]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;/workdir/archives/docker&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[38]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resolve&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="fm"&gt;__str__&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[38]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;#39;/workdir/archives/docker&amp;#39;&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[32]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;absolute&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[32]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;/workdir/archives/docker&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Path.home"&gt;Path.home&lt;a class="anchor-link" href="#Path.home"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;code&gt;Path.home()&lt;/code&gt; returns a new Path object representing the user's home directory,
  which is the same as &lt;code&gt;os.path.expanduser('~')&lt;/code&gt;.
  However, 
  &lt;code&gt;Path('~').resolve()&lt;/code&gt; does not return a new Path object representing the user's home directory!&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[3]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;/root&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;~&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[5]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;~&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;~&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resolve&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

    &lt;div class="prompt output_prompt"&gt;Out[6]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;PosixPath(&amp;#39;/app/archives/blog/misc/content/~&amp;#39;)&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[&amp;nbsp;]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
 

&lt;/body&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="programming"></category><category term="Python"></category><category term="pathlib"></category><category term="Path"></category></entry><entry><title>Python Alternatives to Shell</title><link href="http://www.legendu.net/misc/blog/shell-alternatives/" rel="alternate"></link><published>2019-10-13T11:55:32-07:00</published><updated>2019-10-13T11:55:32-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-10-13:/misc/blog/shell-alternatives/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;**
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;**
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;h2 id="python-equivalent-of-shell-commands"&gt;Python Equivalent of Shell Commands&lt;/h2&gt;
&lt;table style="width:100%"&gt;
  &lt;tr&gt;
    &lt;th&gt; Shell Command &lt;/th&gt;
    &lt;th&gt; Python Alternative &lt;/th&gt;
    &lt;th&gt; IPython Alternative &lt;/th&gt;
    &lt;th&gt; Python xonsh Alternative &lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; mkdir -p path/to/some/file &lt;/td&gt;
    &lt;td&gt; os.makedirs('path/to/some/file', exist_ok=True) &lt;/td&gt;
    &lt;td&gt; !mkdir -p path/to/some/file &lt;/td&gt;
    &lt;td&gt; mkdir -p path/to/some/file &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; mkdir -p path/to/some/file &lt;/td&gt;
    &lt;td&gt; pathlib.Path('path/to/some/file').mkdir(exist_ok=True) &lt;/td&gt;
    &lt;td&gt; !mkdir -p path/to/some/file &lt;/td&gt;
    &lt;td&gt; mkdir -p path/to/some/file &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; cp file1 file2 &lt;/td&gt;
    &lt;td&gt; shutil.copy2('file1', 'file2') &lt;/td&gt;
    &lt;td&gt; !cp file1 file2 &lt;/td&gt;
    &lt;td&gt; cp file1 file2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; cp file1 file2 &lt;/td&gt;
    &lt;td&gt; shutil.copyfile('file1', 'file2') &lt;/td&gt;
    &lt;td&gt; !cp file1 file2 &lt;/td&gt;
    &lt;td&gt; cp file1 file2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; ln -s file1 file2 &lt;/td&gt;
    &lt;td&gt; os.symlink('file1', 'file2', target_is_directory=True) &lt;/td&gt;
    &lt;td&gt; !ln -s file1 file2 &lt;/td&gt;
    &lt;td&gt; ln -s file1 file2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; ln -s file1 file2 &lt;/td&gt;
    &lt;td&gt; pathlib.Path('file1').symlink_to('file2', target_is_directory=True) &lt;/td&gt;
    &lt;td&gt; !ln -s file1 file2 &lt;/td&gt;
    &lt;td&gt; ln -s file1 file2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; ln -sT file1 file2 &lt;/td&gt;
    &lt;td&gt; os.symlink('file1', 'file2', target_is_directory=False) &lt;/td&gt;
    &lt;td&gt; !ln -sT file1 file2 &lt;/td&gt;
    &lt;td&gt; ln -sT file1 file2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; ln -sT file1 file2 &lt;/td&gt;
    &lt;td&gt; pathlib.Path('file1').symlink_to('file2', target_is_directory=False) &lt;/td&gt;
    &lt;td&gt; !ln -sT file1 file2 &lt;/td&gt;
    &lt;td&gt; ln -sT file1 file2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; rm file &lt;/td&gt;
    &lt;td&gt; os.remove(file) &lt;/td&gt;
    &lt;td&gt; !rm file &lt;/td&gt;
    &lt;td&gt; rm file &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; rm -rf dir &lt;/td&gt;
    &lt;td&gt; shutil.rmtree(dir) &lt;/td&gt;
    &lt;td&gt; !rm -rf dir &lt;/td&gt;
    &lt;td&gt; rm -rf dir &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; mv file1 file2 &lt;/td&gt;
    &lt;td&gt; os.rename('file1', 'file2') &lt;/td&gt;
    &lt;td&gt; !mv file1 file2 &lt;/td&gt;
    &lt;td&gt; mv file1 file2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt; mv file1 file2 &lt;/td&gt;
    &lt;td&gt; shutil.move('file1', 'file2') &lt;/td&gt;
    &lt;td&gt; !mv file1 file2 &lt;/td&gt;
    &lt;td&gt; mv file1 file2 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

&lt;h2 id="xonsh"&gt;&lt;a href="https://github.com/xonsh/xonsh"&gt;xonsh&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;xonsh is the best and simplest Python approach to replace (most part of) shell so far.&lt;/p&gt;
&lt;h2 id="ipython"&gt;&lt;a href="https://github.com/ipython/ipython"&gt;IPython&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;IPython is the best and simpliest Python approach to replace (all part of) shell so far.&lt;/p&gt;
&lt;p&gt;https://ipython.readthedocs.io/en/stable/interactive/magics.html&lt;/p&gt;
&lt;p&gt;https://github.com/ivanov/vim-ipython&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Use the IPython shell or JupyterLab notebook (preferred) instead of Shell for complicated interactive operations.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be careful about illegal shell commands.
    For example,
    &lt;code&gt;ls )&lt;/code&gt; in Bash shell throws the error message &lt;code&gt;bash: syntax error near unexpected token )&lt;/code&gt;.
    If you have a equivalent IPython command,
    it will throw the same error message.
    For example,
    suppose &lt;code&gt;file&lt;/code&gt; is path of a file which contains &lt;code&gt;)&lt;/code&gt;
    then &lt;code&gt;!ls {file}&lt;/code&gt; in IPython will throws the same error message as above.
    However,
    this is definitely trickier to debug than the original Bash shell command &lt;code&gt;ls )&lt;/code&gt;.
    There are several ways to avoid this.
    First,
    you can use Python script
    (&lt;a href="https://github.com/xonsh/xonsh"&gt;xonsh&lt;/a&gt; is a great choice is vanilla Python script is too verbose)
    instead Shell as underlying commands.
    Second,
    you can show the underlying Shell commands for debugging.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can even run Shell commands on a remote server (via &lt;code&gt;ssh&lt;/code&gt; or a remote kernel) in JupyterLab notebook.
    This provide the advantage of leveraging the JupyterLab notebook UI.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="plumbum"&gt;&lt;a href="https://github.com/tomerfiliba/plumbum"&gt;plumbum&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Yet another Python approach as a replacement of shell.
I personally prefer IPython and xonsh to plumbum.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://github.com/ninjaaron/replacing-bash-scripting-with-python&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/209470/how-to-implement-common-bash-idioms-in-python&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/123198/how-do-i-copy-a-file-in-python&lt;/p&gt;
&lt;p&gt;https://docs.python.org/3/library/pathlib.html#module-pathlib&lt;/p&gt;</content><category term="programming"></category><category term="IPython"></category><category term="shell"></category><category term="bash"></category><category term="xonsh"></category><category term="plumbum"></category><category term="Python"></category><category term="shell alternatives"></category></entry><entry><title>Bash Tips</title><link href="http://www.legendu.net/misc/blog/bash-tips/" rel="alternate"></link><published>2019-10-13T10:51:51-07:00</published><updated>2019-10-13T10:51:51-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-10-13:/misc/blog/bash-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="tips-and-traps"&gt;Tips and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.explainshell.com/"&gt;explainshell.com&lt;/a&gt; 
    is a great place for learning shell. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/Bash-it/bash-it"&gt;Bash-it/bash-it&lt;/a&gt;
    is a great community driven Bash …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="tips-and-traps"&gt;Tips and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.explainshell.com/"&gt;explainshell.com&lt;/a&gt; 
    is a great place for learning shell. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/Bash-it/bash-it"&gt;Bash-it/bash-it&lt;/a&gt;
    is a great community driven Bash framework.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you avoid writing complicated Bash scripts. 
    &lt;a href="https://ipython.readthedocs.io/en/stable/"&gt;IPython&lt;/a&gt;
    is a much better alternative.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do NOT use &lt;code&gt;;&lt;/code&gt; to delimit paths passed to a shell command because &lt;code&gt;;&lt;/code&gt; terminates shell commands.
  Use &lt;code&gt;,&lt;/code&gt; to delimit paths if needed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;$(some_command)&lt;/code&gt; is preferred over &lt;code&gt;some_command&lt;/code&gt;.
    For more details, 
    please refer to http://mywiki.wooledge.org/BashFAQ/082.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="redirect-output"&gt;Redirect Output&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Redirect &lt;code&gt;stdout&lt;/code&gt; to the file &lt;code&gt;output&lt;/code&gt; and &lt;code&gt;stderr&lt;/code&gt; to another file &lt;code&gt;error&lt;/code&gt;.
    &lt;code&gt;command &amp;gt; output 2&amp;gt; error&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Redirect &lt;code&gt;stderr&lt;/code&gt; to &lt;code&gt;stdout&lt;/code&gt; (&lt;code&gt;&amp;amp;1&lt;/code&gt;), and then redirect &lt;code&gt;stdout&lt;/code&gt; to the file &lt;code&gt;output&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;output&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Redirect both &lt;code&gt;stdout&lt;/code&gt; and &lt;code&gt;stderr&lt;/code&gt; to the file &lt;code&gt;output&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;output&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It seems to me that &lt;code&gt;tee&lt;/code&gt; does not work well sometimes. 
    Basically, 
    I have a Python script calling shell comamnds using &lt;code&gt;subprocess.call&lt;/code&gt;.
    The output of the shell commands cannot be captured by &lt;code&gt;tee&lt;/code&gt;.
    However, 
    redirection using &lt;code&gt;&amp;gt;&lt;/code&gt; partially works.
    Output of &lt;code&gt;git&lt;/code&gt; commands (invoked by &lt;code&gt;subprocess.call&lt;/code&gt;) cannot be redirected correctly.
    Actually, 
    it turned out to be that both &lt;code&gt;&amp;gt;&lt;/code&gt; and &lt;code&gt;tee&lt;/code&gt; only works on a file in the current directly. 
    And even so, 
    some output of the &lt;code&gt;git&lt;/code&gt; command invoked by &lt;code&gt;subprocess.call&lt;/code&gt; is not captured.
    I have no idea why that happens.
    Not sure whether this is a bug in Mac, the Bash shell
    or due to the fact that I mixed shell commands and the print function in Python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If there are logging from difference resources 
    (e.g., both shell comamnd via &lt;code&gt;subprocess.call&lt;/code&gt; and the print function in Python) 
    to the standard output,
    make sure you flush the console so that output/error redirection works as expected. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://askubuntu.com/questions/625224/how-to-redirect-stderr-to-a-file&lt;/p&gt;
&lt;p&gt;https://askubuntu.com/questions/639877/tee-doesnt-get-whole-output-from-the-pipe&lt;/p&gt;</content><category term="programming"></category><category term="bash"></category><category term="shell"></category><category term="tips"></category><category term="parallel"></category><category term="xargs"></category><category term="wait"></category></entry><entry><title>Python pandas Tips</title><link href="http://www.legendu.net/misc/blog/python-pandas-tips/" rel="alternate"></link><published>2019-10-12T17:40:23-07:00</published><updated>2019-10-12T17:40:23-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-10-12:/misc/blog/python-pandas-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="pandas-settings"&gt;&lt;code&gt;pandas&lt;/code&gt; Settings&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_option&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;display.max_rows&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_option&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;display.max_columns&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_option&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;display.max_colwidth …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="pandas-settings"&gt;&lt;code&gt;pandas&lt;/code&gt; Settings&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_option&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;display.max_rows&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_option&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;display.max_columns&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_option&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;display.max_colwidth&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="pandasseriesstr"&gt;pandas.Series.str&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/52065909/attributeerror-can-only-use-str-accessor-with-string-values-which-use-np-obje&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The attribute &lt;code&gt;pandas.Series.str&lt;/code&gt; can only be used by &lt;code&gt;str&lt;/code&gt; columns.
    If you have control of the DataFrame, 
    the preferred way is to cast the type the column to &lt;code&gt;str&lt;/code&gt; in the DataFrame. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Generally speaking, 
it is a good idea to make sure that a column always have the same type in a pandas DataFrame.
If you do not want to cast the column to &lt;code&gt;str&lt;/code&gt; in the DataFrame (for any reason),
you can do this in computation without changing the type of the original column.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contains&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Exit&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;pandas.series.str.replace&lt;/code&gt; supports regular expression.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="tips"&gt;Tips&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Avoid column names that conflict with pandas internal member names,
    otherwise you will not be able to access the column using the dot syntax.
    For example,
    if you name a column &lt;code&gt;size&lt;/code&gt;
    you can to refer to the column as &lt;code&gt;df.size&lt;/code&gt;
    because &lt;code&gt;df.size&lt;/code&gt; is a method that returns the number of element in the DataFrame.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be careful when you use integers as column names or indexes
    as it might affect the way of slicing.
    It is suggested that you never use integers as column names or indexes.
    If you do not have a natural meaningful way for the index,
    it is recommended that you use "r1", "r2", ... as the index.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;pandas&lt;/code&gt; keeps the underlying precision (instead of the display precision)
    while reading Excels files.
    However,
    be aware that pandas displays 7 significant digits by default.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Label-based slicing is inclusive
    as it is not clear what "pass by 1" means for label-based slicing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can apply a function on a row/column using the method &lt;code&gt;DataFrame.apply&lt;/code&gt;.
    However, 
    it is suggested that you use list compression as much as possible for the following reasons.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A list comprehension is more flexible as lambda is limited (1-line without comma) in Python.&lt;/li&gt;
&lt;li&gt;A list comprehension is faster than &lt;code&gt;DataFrame.apply&lt;/code&gt;, generally speaking.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="questions"&gt;Questions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;get the row where index is NaN?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it is strange that sometimes series of booleans cannot be used for slicing?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;what operations cause a data frame to sort its columns and/or rows?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;difference between merge and join?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it seems that DataFrame.str.replace and Series.str.replace
    use regular expression by default.
    Is there any way to perform literal string substitution
    like what the &lt;code&gt;fixed=True&lt;/code&gt; options does for regular expression related functions in R?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://www.youtube.com/watch?v=tcRGa2soc-c&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="pandas"></category><category term="DataFrame"></category><category term="data frame"></category><category term="tips"></category></entry><entry><title>Install Python Packages Using pip</title><link href="http://www.legendu.net/misc/blog/install-python-packages/" rel="alternate"></link><published>2019-10-11T18:37:29-07:00</published><updated>2019-10-11T18:37:29-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-10-11:/misc/blog/install-python-packages/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="pypi-statistics"&gt;PyPi Statistics&lt;/h2&gt;
&lt;p&gt;You can check download statistics of Python Packages on PYPI at https://pypistats.org/.
This is especially helpful …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="pypi-statistics"&gt;PyPi Statistics&lt;/h2&gt;
&lt;p&gt;You can check download statistics of Python Packages on PYPI at https://pypistats.org/.
This is especially helpful if you want to choose from multiple packages.&lt;/p&gt;
&lt;h2 id="prefer-pip"&gt;Prefer &lt;a href="https://pip.pypa.io/en/stable/reference/"&gt;pip&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://pip.pypa.io/en/stable/reference/"&gt;pip&lt;/a&gt;
is preferred over OS tools
(e.g., &lt;code&gt;apt-get&lt;/code&gt;, &lt;code&gt;yum&lt;/code&gt;, &lt;code&gt;wajig&lt;/code&gt;, &lt;code&gt;aptitude&lt;/code&gt;, etc.) for managing Python packages.
If you are using Anaconda Python,
use &lt;code&gt;conda&lt;/code&gt; (instead of &lt;code&gt;pip&lt;/code&gt;) to manage Python packages
especially when you encounter dependency issues.&lt;/p&gt;
&lt;h2 id="install-pip"&gt;Install &lt;a href="https://pip.pypa.io/en/stable/reference/"&gt;pip&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="on-ubuntu"&gt;On Ubuntu&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install python3-pip
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="on-mac"&gt;On Mac&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;pip&lt;/code&gt; should have already been installed when you instal Python using Homebrew or Anaconda.&lt;/p&gt;
&lt;h3 id="universal-way"&gt;Universal Way&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;pip&lt;/code&gt; can be installed directly from Python.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python3 -m ensurepip
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This is a universal and convenient way of installing &lt;code&gt;pip&lt;/code&gt; for Python.
For example,
it can be used to install &lt;code&gt;pip&lt;/code&gt; for Python in Cygwin.&lt;/p&gt;
&lt;h2 id="install-python-packages-locally"&gt;Install Python packages Locally&lt;/h2&gt;
&lt;p&gt;You can install Python packages to your local directory 
by specifying the &lt;code&gt;--user&lt;/code&gt; option to &lt;code&gt;pip&lt;/code&gt;.
This is extremely useful if you do not have permission 
to install packages to system-wide locations.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip3 install --user mercurial
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The same option &lt;code&gt;--user&lt;/code&gt; can be used to install a package to local directory
if you install using the &lt;code&gt;setup.py&lt;/code&gt; file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python setup.py install --user
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Notice that if your Python is installed by Homebrew or you are using Anaconda Python,
the whole Python is installed to your local directory,
so that you do not need to use the &lt;code&gt;--user&lt;/code&gt; option when installing Python packages.&lt;/p&gt;
&lt;h2 id="install-a-specific-version-of-a-python-package"&gt;Install a Specific Version of a Python Package&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;List all available versions of a Python package. 
    &lt;code&gt;pip3 install pylibmc==&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install a specific version of a Python package.
    &lt;code&gt;pip3 install MySQL_python==1.2.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install pyarrow with a verison of at least 0.14.0.
    &lt;code&gt;pip3 install pyarrow&amp;gt;=0.14.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;You can install the pre-release version of a package using the &lt;code&gt;--pre&lt;/code&gt; option.
    For example, 
    the current version of pybuilder (0.11.7) is not compatible with Python 3.7.
    If you are using Python 3.7 and still want to use the pybuilder package, 
    you can install the pre-release version (0.12) which is compatible with Python 3.7.
    &lt;code&gt;pip3 install --pre pybuilder&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="difference-between-ignore-installed-and-force-reinstall"&gt;Difference between --ignore-installed and --force-reinstall&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/51913361/difference-between-pip-install-options-ignore-installed-and-force-reinstall&lt;/p&gt;
&lt;p&gt;https://github.com/blockstack/blockstack-core/issues/504&lt;/p&gt;
&lt;p&gt;Sometimes a package is installed by distutils
which cannot be reinstalled using &lt;code&gt;pip&lt;/code&gt;, 
not even with the &lt;code&gt;--force-reinstall&lt;/code&gt; option.
In that case, 
you have to use the &lt;code&gt;--ignore-installed&lt;/code&gt; option.&lt;/p&gt;
&lt;h2 id="install-python-packages-without-installing-dependencies"&gt;Install Python Packages Without Installing Dependencies&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="c1"&gt;--no-deps some_package&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="upgrade-python-packages"&gt;Upgrade Python Packages&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip3 install --upgrade wheel
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="list-all-installed-python-packages"&gt;List All Installed Python Packages&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;List all installed modules.
    &lt;code&gt;pip3 list --outdated&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;List outdated modules only.
    &lt;code&gt;pip3 list --outdated&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can also use &lt;code&gt;help('modules')&lt;/code&gt; to show all installed modules in Python.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="use-pip-with-proxy"&gt;Use pip with Proxy&lt;/h2&gt;
&lt;p&gt;You can export environment variables &lt;code&gt;http_proxy&lt;/code&gt; and &lt;code&gt;https_proxy&lt;/code&gt;
or you can use &lt;code&gt;pip&lt;/code&gt; with the &lt;code&gt;--proxy&lt;/code&gt; option directly.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip3 --proxy http://proxy__server_ip:port install some_pkg
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;When using the &lt;code&gt;--proxy&lt;/code&gt; with &lt;code&gt;pip&lt;/code&gt;/&lt;code&gt;pip3&lt;/code&gt;, 
you can omit &lt;code&gt;http://&lt;/code&gt; and the port if the port is 80.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip3 --proxy &lt;span class="m"&gt;10&lt;/span&gt;.135.227.47 search notifiers
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Notice that sometimes &lt;code&gt;pip&lt;/code&gt; does not respect the environment variables.
In that case, 
you have to use the option &lt;code&gt;--proxy&lt;/code&gt; to pass proxy to &lt;code&gt;pip&lt;/code&gt;.
And even with the option &lt;code&gt;--proxy&lt;/code&gt;,
pip might not work well if you install from a version control system. 
Just be ware of that.
&lt;a href="http://www.legendu.net/misc/blog/proxychains-tips/"&gt;ProxyChains&lt;/a&gt;
is likely a solution when that issue happens.&lt;/p&gt;
&lt;h2 id="caching"&gt;Caching&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;You can disable pip caching using the option &lt;code&gt;--no-cache-dir&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://pip.pypa.io/en/latest/reference/pip_install/#caching&lt;/p&gt;
&lt;p&gt;https://github.com/pypa/pip/issues/4685&lt;/p&gt;
&lt;p&gt;https://github.com/pypa/pip/pull/6391&lt;/p&gt;
&lt;h2 id="misc"&gt;Misc&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;pip&lt;/code&gt; supports downloading without installation!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install from the current directory
    &lt;code&gt;pip3 install .&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;export LC_ALL=C&lt;/code&gt; resolved an issues of pip3&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;http://stackoverflow.com/questions/36394101/pip-install-locale-error-unsupported-locale-setting&lt;/p&gt;
&lt;p&gt;http://unix.stackexchange.com/questions/87745/what-does-lc-all-c-do&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/4888027/python-and-pip-list-all-versions-of-a-package-thats-available&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/5226311/installing-specific-package-versions-with-pip&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/14149422/using-pip-behind-a-proxy&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/9510474/removing-pips-cache&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="package"></category><category term="module"></category><category term="install"></category><category term="pip"></category><category term="conda"></category></entry><entry><title>Spark SQL Tips</title><link href="http://www.legendu.net/misc/blog/spark-sql-tips/" rel="alternate"></link><published>2019-10-11T18:15:13-07:00</published><updated>2019-10-11T18:15:13-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-10-11:/misc/blog/spark-sql-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://docs.databricks.com/spark/latest/spark-sql/index.html"&gt;Spark SQL Guide&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you use Spark SQL syntax as much as possible 
  instead of the the …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://docs.databricks.com/spark/latest/spark-sql/index.html"&gt;Spark SQL Guide&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you use Spark SQL syntax as much as possible 
  instead of the the Spark DataFrame syntax (even though DataFrame provides more static syntax check)
  as SQL is a universal language.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Spark SQL follows hive sql syntax.
    For example,
    &lt;code&gt;spark.sql("show tables in some_schema like '*perf*'")&lt;/code&gt;
    returns a DataFrame with tables in the Hive database.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;JSON, ORC, Parquet and CSV files can be queried using Spark SQL without creating a table on the Spark DataFrame.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt;
    &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="k"&gt;from&lt;/span&gt;
    &lt;span class="n"&gt;csv&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt;&lt;span class="n"&gt;hdfs&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;cluster_name&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;path_to_csv&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt;
&lt;span class="k"&gt;where&lt;/span&gt;
    &lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;01&lt;/span&gt;
&lt;span class="n"&gt;distribute&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt;
    &lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;sort&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt;
    &lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;limit&lt;/span&gt; &lt;span class="mi"&gt;10000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Position alias is supported in Spark SQL!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Spark SQL supports bool expressions/columns. 
  However, you cannot sum a bool expression/column directly.
  You have to either cast it to Int/BigInt or use the old-school case clause.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;select * from some_table limit 5&lt;/code&gt; runs slow if the table &lt;code&gt;some_table&lt;/code&gt; is large.
  you can limit the selection to a specific partition (if the table is partitioned) to speed it up.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use the following code to show the creation code of a Hive table in Spark.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;println&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;spark&lt;/span&gt;.&lt;span class="nv"&gt;sql&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;show create table some_table&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;.&lt;span class="nv"&gt;collect&lt;/span&gt;&lt;span class="ss"&gt;()(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="ss"&gt;)(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="ss"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="spark-sql-create-table"&gt;Spark SQL Create Table&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;The &lt;code&gt;CREATE TABLE&lt;/code&gt; clause is equivalent to the method &lt;code&gt;DataFrame.saveAsTable&lt;/code&gt;,
  which write the DataFrame into a Hive table (format of the Hive table can be specified).
  You can also create (or replace) a global/temporary view, 
  which is lazily computed.
  Notice that a view can be cached too once computed if you explicitly do so
  (by calling &lt;code&gt;spark.cacheTable&lt;/code&gt; or use Spark SQL hint).&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="union"&gt;Union&lt;/h2&gt;
&lt;p&gt;The following queries work.
    :::sql
    SELECT &lt;em&gt;
    FROM mrkt_data.target_unit
    WHERE impressions IS NULL
    UNION
    SELECT &lt;/em&gt;
    FROM mrkt_data.target_unit
    WHERE impressions &amp;lt; 0&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
     &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;mrkt_data&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;target_unit&lt;/span&gt;
     &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;impressions&lt;/span&gt; &lt;span class="k"&gt;IS&lt;/span&gt; &lt;span class="k"&gt;NULL&lt;/span&gt;
     &lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;UNION&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
     &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;mrkt_data&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;target_unit&lt;/span&gt;
     &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;impressions&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
     &lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="k"&gt;sql&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
 &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;mrkt_data&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;target_unit&lt;/span&gt;
 &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;impressions&lt;/span&gt; &lt;span class="k"&gt;IS&lt;/span&gt; &lt;span class="k"&gt;NULL&lt;/span&gt;
 &lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;UNION&lt;/span&gt; &lt;span class="k"&gt;ALL&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
 &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;mrkt_data&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;target_unit&lt;/span&gt;
 &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;impressions&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
 &lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;However, the following one does not.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="k"&gt;sql&lt;/span&gt;
  &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
  &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;mrkt_data&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;target_unit&lt;/span&gt;
  &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;impressions&lt;/span&gt; &lt;span class="k"&gt;IS&lt;/span&gt; &lt;span class="k"&gt;NULL&lt;/span&gt;
  &lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;
  &lt;span class="k"&gt;UNION&lt;/span&gt;
  &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
  &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;mrkt_data&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;target_unit&lt;/span&gt;
  &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;impressions&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
  &lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It is suggested that you always enclose subqueries in parentheses!&lt;/p&gt;
&lt;h2 id="spark-sql-hint"&gt;Spark SQL Hint&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;You can use 
  &lt;a href="https://docs.databricks.com/spark/latest/spark-sql/language-manual/select.html#hints"&gt;Spark SQL hint&lt;/a&gt;
  to fine control the behavior of Spark application.
  Specially, 
  a hint for skew join is supported in Spark Spark!
  You can use it to help Spark optimizing the joining when the involved columns are skewed.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="coalesce-and-repartition-hints"&gt;COALESCE and REPARTITION Hints&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="cm"&gt;/*+ COALESCE(5) */&lt;/span&gt; &lt;span class="p"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="cm"&gt;/*+ REPARTITION(3) */&lt;/span&gt; &lt;span class="p"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="join-hints"&gt;Join Hints&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;SELECT&lt;/span&gt; &lt;span class="cm"&gt;/*+ MAPJOIN(b) */&lt;/span&gt; ...

&lt;span class="nv"&gt;SELECT&lt;/span&gt; &lt;span class="cm"&gt;/*+ BROADCASTJOIN(b) */&lt;/span&gt; ...

&lt;span class="nv"&gt;SELECT&lt;/span&gt; &lt;span class="cm"&gt;/*+ BROADCAST(b) */&lt;/span&gt; ...

&lt;span class="nv"&gt;SELECT&lt;/span&gt; &lt;span class="cm"&gt;/*+ RANGE_JOIN(points, 10) */&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="nv"&gt;FROM&lt;/span&gt; &lt;span class="nv"&gt;points&lt;/span&gt; &lt;span class="nv"&gt;JOIN&lt;/span&gt; &lt;span class="nv"&gt;ranges&lt;/span&gt; &lt;span class="nv"&gt;ON&lt;/span&gt; &lt;span class="nv"&gt;points&lt;/span&gt;.&lt;span class="nv"&gt;p&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="nv"&gt;ranges&lt;/span&gt;.&lt;span class="nv"&gt;start&lt;/span&gt; &lt;span class="nv"&gt;AND&lt;/span&gt; &lt;span class="nv"&gt;points&lt;/span&gt;.&lt;span class="nv"&gt;p&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nv"&gt;ranges&lt;/span&gt;.&lt;span class="k"&gt;end&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;

&lt;span class="nv"&gt;SELECT&lt;/span&gt; &lt;span class="cm"&gt;/*+ RANGE_JOIN(r1, 0.1) */&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="nv"&gt;FROM&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nv"&gt;FROM&lt;/span&gt; &lt;span class="nv"&gt;ranges&lt;/span&gt; &lt;span class="nv"&gt;WHERE&lt;/span&gt; &lt;span class="nv"&gt;ranges&lt;/span&gt;.&lt;span class="nv"&gt;amount&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;r1&lt;/span&gt;, &lt;span class="nv"&gt;ranges&lt;/span&gt; &lt;span class="nv"&gt;r2&lt;/span&gt;
&lt;span class="nv"&gt;WHERE&lt;/span&gt; &lt;span class="nv"&gt;r1&lt;/span&gt;.&lt;span class="nv"&gt;start&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nv"&gt;r2&lt;/span&gt;.&lt;span class="nv"&gt;start&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt; &lt;span class="nv"&gt;AND&lt;/span&gt; &lt;span class="nv"&gt;r2&lt;/span&gt;.&lt;span class="nv"&gt;start&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nv"&gt;r1&lt;/span&gt;.&lt;span class="nv"&gt;start&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;

&lt;span class="nv"&gt;SELECT&lt;/span&gt; &lt;span class="cm"&gt;/*+ RANGE_JOIN(C, 500) */&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="nv"&gt;FROM&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt;
  &lt;span class="nv"&gt;JOIN&lt;/span&gt; &lt;span class="nv"&gt;b&lt;/span&gt; &lt;span class="nv"&gt;ON&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;a&lt;/span&gt;.&lt;span class="nv"&gt;b_key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;b&lt;/span&gt;.&lt;span class="nv"&gt;id&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
  &lt;span class="nv"&gt;JOIN&lt;/span&gt; &lt;span class="nv"&gt;c&lt;/span&gt; &lt;span class="nv"&gt;ON&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;a&lt;/span&gt;.&lt;span class="nv"&gt;ts&lt;/span&gt; &lt;span class="nv"&gt;BETWEEN&lt;/span&gt; &lt;span class="nv"&gt;c&lt;/span&gt;.&lt;span class="nv"&gt;start_time&lt;/span&gt; &lt;span class="nv"&gt;AND&lt;/span&gt; &lt;span class="nv"&gt;c&lt;/span&gt;.&lt;span class="nv"&gt;end_time&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="skew-hint"&gt;Skew Hint&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="cm"&gt;/*+ SKEW(&amp;#39;orders&amp;#39;) */&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;customers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;o_custId&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;c_custId&lt;/span&gt;
&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="cm"&gt;/*+ SKEW(&amp;#39;orders&amp;#39;), BROADCAST(demographic) */&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;customers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;demographic&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;o_custId&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;c_custId&lt;/span&gt; &lt;span class="k"&gt;AND&lt;/span&gt; &lt;span class="n"&gt;c_demoId&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d_demoId&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="spark-sql-examples"&gt;Spark SQL Examples&lt;/h2&gt;
&lt;p&gt;:::SQL
CREATE TABLE trans (
     col1 TYPE1,
     col2 TYPE2,
     col3 TYPE3
) USING Parquet OPTIONS (
  &lt;code&gt;serialization.format&lt;/code&gt; '1',
  path 'viewfs://...'
)&lt;/p&gt;
&lt;p&gt;:::SQL
CREATE TABLE trans 
  USING Parquet
  LOCATION '/path/to/table' AS
select * from some_table where id = 1&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/41254011/sparksql-read-parquet-file-directly&lt;/p&gt;
&lt;p&gt;http://www.joefkelley.com/736/&lt;/p&gt;
&lt;p&gt;https://jaceklaskowski.gitbooks.io/mastering-spark-sql/spark-sql-hint-framework.html#specifying-query-hints&lt;/p&gt;</content><category term="programming"></category><category term="big data"></category><category term="Spark"></category><category term="Spark SQL"></category></entry><entry><title>Update a Line in Standard Output</title><link href="http://www.legendu.net/misc/blog/update-a-line-in-standard-output/" rel="alternate"></link><published>2019-10-10T21:00:55-07:00</published><updated>2019-10-10T21:00:55-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-10-10:/misc/blog/update-a-line-in-standard-output/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The trick is to use &lt;code&gt;\r&lt;/code&gt; (return) instead &lt;code&gt;\n&lt;/code&gt; (return and new line).
I will use Python to illustrate. 
The …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The trick is to use &lt;code&gt;\r&lt;/code&gt; (return) instead &lt;code&gt;\n&lt;/code&gt; (return and new line).
I will use Python to illustrate. 
The following Python code&lt;/p&gt;
&lt;p&gt;:::Python
import sys&lt;/p&gt;
&lt;p&gt;for idx in range(5):
    sys.stdout.write(f'\nLine {idx}')&lt;/p&gt;
&lt;p&gt;outputs the following lines.&lt;/p&gt;
&lt;p&gt;Line 0
Line 1
Line 2
Line 3
Line 4&lt;/p&gt;
&lt;p&gt;while the following Python code&lt;/p&gt;
&lt;p&gt;:::Python
import sys&lt;/p&gt;
&lt;p&gt;for idx in range(5):
    sys.stdout.write(f'\rLine {idx}')&lt;/p&gt;
&lt;p&gt;outputs &lt;code&gt;Line i&lt;/code&gt; (where i runs from 0 to 4)
to the same line in standard output.&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="sys.stdout"></category><category term="standard output"></category><category term="return"></category><category term="return and new line"></category></entry><entry><title>Understand the Design of Python</title><link href="http://www.legendu.net/misc/blog/understand-the-design-of-python/" rel="alternate"></link><published>2019-10-04T20:19:41-07:00</published><updated>2019-10-04T20:19:41-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-10-04:/misc/blog/understand-the-design-of-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="design"&gt;Design&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There is no constant variables in Python.
    If you need a constant variable in Python,
    just define one and …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="design"&gt;Design&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There is no constant variables in Python.
    If you need a constant variable in Python,
    just define one and never change it.
    It is suggested that you use UPPER_WITH_UNDERSCORE naming style for const variables in Python.
    There is no private variables/method in Python either.
    You can change/call any variable/method in a module/class.
    However,
    members that start with a single underscore (&lt;code&gt;_&lt;/code&gt;) are considered as private by convention
    and you should avoid using them directly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The bottom-most package in Java should be a file in Python.
    Do not use inner classes in Python.
    Just put classes in the same module.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Python is a dynamic language and thus does not support function/method overloading.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Python"></category><category term="design"></category></entry><entry><title>Popular Data Structures in Python</title><link href="http://www.legendu.net/misc/blog/popular-data-structures-in-python/" rel="alternate"></link><published>2019-10-04T20:14:52-07:00</published><updated>2019-10-04T20:14:52-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-10-04:/misc/blog/popular-data-structures-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="list"&gt;list&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;list&lt;/code&gt; is essentially a resizable array of objects in Python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Almosts all methods of list are in-place.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use &lt;code&gt;+&lt;/code&gt; to …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="list"&gt;list&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;list&lt;/code&gt; is essentially a resizable array of objects in Python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Almosts all methods of list are in-place.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use &lt;code&gt;+&lt;/code&gt; to concatenate 2 lists.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;list.pop&lt;/code&gt; is inplace and returns the removed element.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To get unique elements in a list,
    you can first coerce the list to a set and then convert the set back to a list.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;unique_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;alist&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To check whether an object &lt;code&gt;x&lt;/code&gt; is a in a list &lt;code&gt;alist&lt;/code&gt;,
    you can use&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;alist&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you want to know the position of the element,
use a Look Before You Leap (LBYL) style with a conditional expression as below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;alist&lt;/span&gt;.&lt;span class="nv"&gt;index&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;x&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;x&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;alist&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="nv"&gt;None&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="tuple"&gt;tuple&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;tuple&lt;/code&gt; is the immutable version of list.&lt;/p&gt;
&lt;h2 id="dict"&gt;dict&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;dict&lt;/code&gt; is ordered hash table in Python 3.6+.&lt;/p&gt;
&lt;h2 id="str"&gt;str&lt;/h2&gt;
&lt;h2 id="pandasdataframe"&gt;pandas.DataFrame&lt;/h2&gt;
&lt;h2 id="data-structure"&gt;Data Structure&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The list object in Python does not have a &lt;code&gt;find&lt;/code&gt; method which is inconvenient.
    To do a clean "find" in a list in Python,
    you can use the following style of code.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;x&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;alist&lt;/span&gt;:
    &lt;span class="nv"&gt;index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;alist&lt;/span&gt;.&lt;span class="nv"&gt;index&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;x&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use &lt;code&gt;set(alist)&lt;/code&gt; to get unique values of a list.
    If you want to return a list (rather than a set) of unique values,
    you can use &lt;code&gt;list(set(alist))&lt;/code&gt;.
    Another way is to use the method &lt;code&gt;numpy.unique&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The difference between list and tuple in Python is that
    a list is mutable while a tuple is immutable.
    So you can think of tuple as immutable version of list.
    Tuples can be used in dictionarys in Python as keys
    while lists cannot.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="collections"&gt;Collections&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;defaultdict&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;namedtuple&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Python"></category><category term="data structure"></category><category term="list"></category><category term="dict"></category><category term="tuple"></category></entry><entry><title>Python Distribution</title><link href="http://www.legendu.net/misc/blog/python-distribution/" rel="alternate"></link><published>2019-10-04T20:13:40-07:00</published><updated>2019-10-04T20:13:40-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-10-04:/misc/blog/python-distribution/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;When people talks about Python,
  it usually means the CPython implementation
  which you can download from &lt;www.python.org&gt;.
  There are other interesting …&lt;/www.python.org&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;When people talks about Python,
  it usually means the CPython implementation
  which you can download from &lt;www.python.org&gt;.
  There are other interesting Python implementations
  such as &lt;a href="https://pypy.org/"&gt;PyPy&lt;/a&gt; (Python implementation in Python),
  &lt;a href="http://www.jython.org/"&gt;Jython&lt;/a&gt; (Python implementation in Java), etc. exists,
  however,
  they have relatively very small use groups.
  Generally speaking,
  you want to stay with CPython,
  i.e., the Python people are taling about unless you have very strong reasons to go with another choice.
  There are also different distributions among CPython implementations.
  Anaconda Python is a good one if you do not have sudo permissions in the system.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For the CPython implementation,
  there are different distributions as well.
  Besides the official Python distribution
  (which comes by default in many operating systems),
  Anaconda Python rules the unofficial distributions.
  It is a great choice which provies an all-in-one installer
  to use on machines that you don't have sudo permissions
  as it installs to your home directory by default.
  Anaconda Python supports 2 different flavors:
  Anaconda (binded with many popular Python packages) and miniconda (with minimum Python packages).
  It also invented another package management tool named &lt;code&gt;conda&lt;/code&gt; to replace &lt;code&gt;pip&lt;/code&gt;.
  &lt;code&gt;conda&lt;/code&gt; is a general purpose package management tool instead of for Python only.
  It eases the pain of figuring out the right dependencies of Python packages
  but it is a little bit bloated (with larger installation sizes) compared to &lt;code&gt;pip&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Python distribution"></category></entry><entry><title>Tips on PySpark</title><link href="http://www.legendu.net/misc/blog/tips-on-pyspark/" rel="alternate"></link><published>2019-10-04T08:22:24-07:00</published><updated>2019-10-04T08:22:24-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-10-04:/misc/blog/tips-on-pyspark/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can run PySpark interactively using the &lt;code&gt;pyspark&lt;/code&gt; command
  and submit a PySpark job to the cluster using the &lt;code&gt;spark-submit …&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can run PySpark interactively using the &lt;code&gt;pyspark&lt;/code&gt; command
  and submit a PySpark job to the cluster using the &lt;code&gt;spark-submit&lt;/code&gt; command.
    For more details, 
    please refer to
    &lt;a href="https://spark.apache.org/docs/latest/submitting-applications.html#launching-applications-with-spark-submit&amp;lt;Paste&amp;gt;"&gt;Launching Applications with spark-submit&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;:::Bash&lt;/p&gt;
&lt;h1 id="binbash"&gt;!/bin/bash&lt;/h1&gt;
&lt;p&gt;/apache/spark2.3/bin/spark-submit \
        --files "file:///apache/hive/conf/hive-site.xml,file:///apache/hadoop/etc/hadoop/ssl-client.xml,file:///apache/hadoop/etc/hadoop/hdfs-site.xml,file:///apache/hadoop/etc/hadoop/core-site.xml,file:///apache/hadoop/etc/hadoop/federation-mapping.xml" \
        --master yarn \
        --deploy-mode cluster \
        --queue your_queue \
        --num-executors 200 \
        --executor-memory 10G \
        --driver-memory 15G \
        --executor-cores 4 \
        --conf spark.yarn.maxAppAttempts=2 \
        --conf spark.dynamicAllocation.maxExecutors=1000 \
        --conf spark.network.timeout=300s \
        --conf spark.executor.memoryOverhead=2G \
        --conf spark.pyspark.driver.python=/usr/share/anaconda3/bin/python \
        --conf spark.pyspark.python=/usr/share/anaconda3/bin/python \
        /path/to/test_pyspark.py&lt;/p&gt;
&lt;p&gt;:::Python
from pyspark.sql import SparkSession&lt;/p&gt;
&lt;p&gt;spark = SparkSession.builder.appName('Test PySpark').enableHiveSupport().getOrCreate()
spark.sql("select * from some_table limit 5").write.mode("overwrite").parquet("output")&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://bytes.grubhub.com/managing-dependencies-and-artifacts-in-pyspark-7641aa89ddb7"&gt;Managing dependencies and artifacts in PySpark&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Spark Tips</title><link href="http://www.legendu.net/misc/blog/spark-tips/" rel="alternate"></link><published>2019-10-03T20:10:16-07:00</published><updated>2019-10-03T20:10:16-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-10-03:/misc/blog/spark-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="sharing-variables"&gt;Sharing Variables&lt;/h2&gt;
&lt;p&gt;Spark supports two types of shared variables: broadcast variables,
which can be used to cache a value in …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="sharing-variables"&gt;Sharing Variables&lt;/h2&gt;
&lt;p&gt;Spark supports two types of shared variables: broadcast variables,
which can be used to cache a value in memory on all nodes,
and accumulators,
which are variables that are only “added” to, such as counters and sums.&lt;/p&gt;
&lt;h2 id="spark-submit"&gt;Spark Submit&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;After submitting a Spark application, 
    if the network connection get lots, 
    the Spark application submitted will be killed.
    You can nohup or tmux to submit your Spark application 
    so that loss of network connection won't kill your Spark application.
    Or another way is to just submit your Spark application
    from a server that has very stable network connection.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you are sure that your Spark application is production ready,
  it is better to submit it with the option &lt;code&gt;--deploy-mode cluster&lt;/code&gt;.
  However the default option (&lt;code&gt;--deploy-mode client&lt;/code&gt;) is good for debugging.
  And also, &lt;code&gt;--deploy-mode client&lt;/code&gt; is much faster to submit generally speaking.
  It is suggested that you use &lt;code&gt;--deploy-mode client&lt;/code&gt; for ad hoc Spark applications
  and &lt;code&gt;--deploy-mode cluster&lt;/code&gt; for production ready applications that need to be run many times.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="spark-shell"&gt;Spark Shell&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;--jars&lt;/code&gt; option of &lt;code&gt;spark-shell&lt;/code&gt; can be used to add JAR dependencies.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;spark-shell&lt;/code&gt; accepts &lt;code&gt;--queue&lt;/code&gt; (for specifying the queue to submit jobs) as parameter!
    If you run &lt;code&gt;spark-shell&lt;/code&gt; and encounter the issue of "ERROR SparkContext: Error initializing SparkContext" 
    due to "application submitted by user to unknown queue",
    you have to pass the queue that you can access to &lt;code&gt;spark-shell&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;spark&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shell&lt;/span&gt; &lt;span class="c1"&gt;--queue my_queue&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="spark-cluster-master-url"&gt;Spark Cluster Master URL&lt;/h2&gt;
&lt;p&gt;https://spark.apache.org/docs/latest/submitting-applications.html#master-urls&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://developer.ibm.com/hadoop/2016/07/18/troubleshooting-and-tuning-spark-for-heavy-workloads/&lt;/p&gt;
&lt;p&gt;http://blog.prabeeshk.com/blog/2014/10/31/install-apache-spark-on-ubuntu-14-dot-04/&lt;/p&gt;
&lt;p&gt;http://mbonaci.github.io/mbo-spark/&lt;/p&gt;
&lt;p&gt;http://www.simonouellette.com/blog/spark-join-when-not-to-use-it&lt;/p&gt;
&lt;p&gt;https://bzhangusc.wordpress.com/2015/11/20/use-sbt-console-as-spark-shell/&lt;/p&gt;
&lt;p&gt;https://spark-summit.org/2015/events/interactive-graph-analytics-with-spark/&lt;/p&gt;
&lt;p&gt;https://www.slideshare.net/SparkSummit/understanding-memory-management-in-spark-for-fun-and-profit&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="big data"></category><category term="tips"></category></entry><entry><title>ODBC vs JDBC in Python</title><link href="http://www.legendu.net/misc/blog/odbc-vs-jdbc-in-python/" rel="alternate"></link><published>2019-10-02T18:37:49-07:00</published><updated>2019-10-02T18:37:49-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-10-02:/misc/blog/odbc-vs-jdbc-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Overall speaking,
Python has better ODBC support than JDBC support.
Most database related packages in Python support or rely on …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Overall speaking,
Python has better ODBC support than JDBC support.
Most database related packages in Python support or rely on ODBC.
Currently, ODBC packages also have richer feathers than JDBC packages.
However,
it is not an easy job to install and configure ODBC drivers for a non-open source databases.&lt;/p&gt;
&lt;h2 id="odbc-vs-jdbc"&gt;ODBC vs JDBC&lt;/h2&gt;
&lt;h3 id="jdbc-packages-in-python"&gt;JDBC Packages in Python&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;JayDeBeApi&lt;/code&gt; is currently the first choice even thought it is not fully DB-API compliant.
It works on both Python 2 and Python 3.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;py4jdbc&lt;/code&gt; (based on Py4j) is another JDBC package which claims to be faster than &lt;code&gt;JayDeBeApi&lt;/code&gt; (based on JPype)
but it is relative young compared to JayDeBeApi.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Just ignore the JayDeBeApi3 package (for Python3 only).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PyAthenaJDBC is a JDBC package specifically for Amazon Athena.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="odbc-packages-in-python"&gt;ODBC Packages in Python&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;pyodbc&lt;/code&gt; and &lt;code&gt;SQLAlchemy&lt;/code&gt; are general purpose packages relying on ODBC.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are lots of database specific packages relying on ODBC.
For example,
&lt;code&gt;teradata&lt;/code&gt; is a Python package for Teradata SQL which relies on ODBC or RESTful.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="database-modules"&gt;Database Modules&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;json: JSON parsing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sqlite3&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/jreese/aiosqlite"&gt;jreese/aiosqlite&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/baztian/jaydebeapi"&gt;JayDeBeApi&lt;/a&gt;: connect to databases using Java JDBC in Python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PyMySQL, MySQLdb&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PyMongo&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;teradata&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;pyodbc, pypyodbc: Python ODBC bridget.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SQLAlchemy&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sqlalchemy-teradata&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="misc"&gt;Misc&lt;/h2&gt;
&lt;p&gt;http://docs.python-guide.org/en/latest/scenarios/db/&lt;/p&gt;
&lt;p&gt;the teradata package is weird, the file option can be used to run multiple statements in file ...
but if I manually pass a string, it doesn't work ... check the implementation ...
https://support.microsoft.com/en-us/help/3103282/teradata-odbc-configuration-on-linux
https://developer.teradata.com/tools/articles/teradata-sqlalchemy-introduction
https://github.com/Teradata/sqlalchemy-teradata
http://developer.teradata.com/tools/reference/teradata-python-module#Installing
http://stackoverflow.com/questions/34948453/read-teradata-query-into-pandas&lt;/p&gt;
&lt;h2 id="orm"&gt;ORM&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://www.sqlalchemy.org/"&gt;SQLAlchemy&lt;/a&gt;
    is the most popular ORM package for Python.
    &lt;a href="https://github.com/coleifer/peewee"&gt;peewee&lt;/a&gt;
    and
    &lt;a href="https://github.com/sdispater/orator"&gt;orator&lt;/a&gt;
    are lightweight ORM solutions compared to &lt;code&gt;SQLAlchemy&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;http://stackoverflow.com/questions/10797794/multiple-queries-executed-in-java-in-single-statement&lt;/p&gt;
&lt;p&gt;https://wiki.vip.corp.ebay.com/pages/viewpage.action?pageId=327124647&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions/4493614/sqlalchemy-equivalent-of-pyodbc-connect-string-using-freetds&lt;/p&gt;
&lt;p&gt;https://developer.teradata.com/tools/articles/teradata-sqlalchemy-introduction&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions/12047193/how-to-convert-sql-query-result-to-pandas-data-structure&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions/29525808/sqlalchemy-orm-conversion-to-pandas-dataframe/29528804#29528804&lt;/p&gt;
&lt;h2 id="jdbc"&gt;JDBC&lt;/h2&gt;
&lt;p&gt;https://analyticsanvil.wordpress.com/2016/06/08/python-jdbc-dyanmic-hive-scripting/&lt;/p&gt;
&lt;p&gt;https://github.com/minatverma/pythonWorks/blob/master/DQM.py&lt;/p&gt;
&lt;p&gt;https://www.fullstackpython.com/databases.html&lt;/p&gt;
&lt;p&gt;http://docs.python-guide.org/en/latest/scenarios/db/&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://docs.python-guide.org/scenarios/db/&lt;/p&gt;
&lt;p&gt;https://www.python.org/dev/peps/pep-0249/&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="ODBC"></category><category term="JDBC"></category><category term="database"></category><category term="SQL"></category></entry><entry><title>Web Automation</title><link href="http://www.legendu.net/misc/blog/web-automation/" rel="alternate"></link><published>2019-09-27T11:05:17-07:00</published><updated>2019-09-27T11:05:17-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-09-27:/misc/blog/web-automation/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="selenium"&gt;Selenium&lt;/h2&gt;
&lt;p&gt;Selenium is a great web automation tool!&lt;/p&gt;
&lt;h2 id="puppeteer"&gt;&lt;a href="https://github.com/GoogleChrome/puppeteer"&gt;Puppeteer&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="imacros"&gt;iMacros&lt;/h2&gt;
&lt;h2 id="sikulix"&gt;SikuliX&lt;/h2&gt;
&lt;p&gt;SikuliX is able to automate anything visual 
but it …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="selenium"&gt;Selenium&lt;/h2&gt;
&lt;p&gt;Selenium is a great web automation tool!&lt;/p&gt;
&lt;h2 id="puppeteer"&gt;&lt;a href="https://github.com/GoogleChrome/puppeteer"&gt;Puppeteer&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="imacros"&gt;iMacros&lt;/h2&gt;
&lt;h2 id="sikulix"&gt;SikuliX&lt;/h2&gt;
&lt;p&gt;SikuliX is able to automate anything visual 
but it is hard to scale and not reliable.&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Python Logging</title><link href="http://www.legendu.net/misc/blog/python-logging/" rel="alternate"></link><published>2019-09-24T23:05:01-07:00</published><updated>2019-09-24T23:05:01-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-09-24:/misc/blog/python-logging/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="loguru"&gt;&lt;a href="https://github.com/Delgan/loguru"&gt;loguru&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The best logging package for Python!&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Note that the default logging level is &lt;code&gt;DEBUG&lt;/code&gt; in loguru
  and it is …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="loguru"&gt;&lt;a href="https://github.com/Delgan/loguru"&gt;loguru&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The best logging package for Python!&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Note that the default logging level is &lt;code&gt;DEBUG&lt;/code&gt; in loguru
  and it is not allowed to change the logging level of an created logger object in loguru.
  You can refer to
  &lt;a href="https://loguru.readthedocs.io/en/latest/resources/recipes.html#changing-the-level-of-an-existing-handler"&gt;changing-the-level-of-an-existing-handler&lt;/a&gt;
  and
  &lt;a href="https://github.com/Delgan/loguru/issues/51"&gt;Change level of default handler&lt;/a&gt;
  on ways to changing logging level in loguru.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Log an exception using luguru and then throws an exception without logging redundant error messages.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;throw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;message&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;logger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;opt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;depth&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;logger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__class__&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;throw&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;throw&lt;/span&gt;

&lt;span class="n"&gt;logger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;throw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ne"&gt;ValueError&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Something bad happened&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Or if you do not care what kind of exception is thrown to user, 
you can use the following way which is more concise.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;logger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="logging"&gt;&lt;a href="https://docs.python.org/3/library/logging.html"&gt;logging&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="format-keywords"&gt;Format keywords&lt;/h3&gt;
&lt;p&gt;process&lt;/p&gt;
&lt;p&gt;levelname&lt;/p&gt;
&lt;p&gt;message&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://github.com/Delgan/loguru/issues/120&lt;/p&gt;
&lt;p&gt;https://realpython.com/python-logging/&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="logging"></category><category term="loguru"></category></entry><entry><title>Mypy Tips</title><link href="http://www.legendu.net/misc/blog/mypy-tips/" rel="alternate"></link><published>2019-09-23T22:22:48-07:00</published><updated>2019-09-23T22:22:48-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-09-23:/misc/blog/mypy-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;--check-untyped-defs&lt;/p&gt;
&lt;p&gt;You can use the option &lt;code&gt;--ignore-missing-imports&lt;/code&gt; to disable the annoying error messages &lt;code&gt;No library stub file for module...&lt;/code&gt;.
Please …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;--check-untyped-defs&lt;/p&gt;
&lt;p&gt;You can use the option &lt;code&gt;--ignore-missing-imports&lt;/code&gt; to disable the annoying error messages &lt;code&gt;No library stub file for module...&lt;/code&gt;.
Please see the &lt;a href="https://github.com/python/mypy/issues/3905"&gt;issue&lt;/a&gt; for more details.&lt;/p&gt;
&lt;p&gt;You can use &lt;code&gt;# type: ignore&lt;/code&gt; to silence some errors.
Please see the &lt;a href="https://github.com/python/mypy/issues/500"&gt;issue&lt;/a&gt; for more details.&lt;/p&gt;
&lt;p&gt;import foo # type: ignore
foo.f()  # okay&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://realpython.com/python-type-checking/#pros-and-cons&lt;/p&gt;
&lt;p&gt;https://mypy.readthedocs.io/en/latest/index.html&lt;/p&gt;
&lt;p&gt;https://mypy.readthedocs.io/en/latest/common_issues.html&lt;/p&gt;
&lt;p&gt;https://mypy.readthedocs.io/en/latest/common_issues.html#displaying-the-type-of-an-expression&lt;/p&gt;
&lt;p&gt;https://mypy.readthedocs.io/en/latest/kinds_of_types.html#kinds-of-types&lt;/p&gt;
&lt;p&gt;https://realpython.com/python-type-checking/&lt;/p&gt;
&lt;p&gt;https://github.com/python/mypy/issues/3905&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="mypy"></category><category term="tips"></category></entry><entry><title>Python Modules for Visualization</title><link href="http://www.legendu.net/misc/blog/python-modules-for-visualization/" rel="alternate"></link><published>2019-09-19T03:06:29-07:00</published><updated>2019-09-19T03:06:29-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-09-19:/misc/blog/python-modules-for-visualization/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The website &lt;a href="https://python-graph-gallery.com/"&gt;The Python Graph Gallery&lt;/a&gt;
displays hundreds of charts, always providing the reproducible python code! 
It aims to showcase …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The website &lt;a href="https://python-graph-gallery.com/"&gt;The Python Graph Gallery&lt;/a&gt;
displays hundreds of charts, always providing the reproducible python code! 
It aims to showcase the awesome dataviz possibilities of python and to help you benefit it. &lt;/p&gt;
&lt;h2 id="js-based-modules"&gt;JS based Modules&lt;/h2&gt;
&lt;h3 id="hvplot"&gt;&lt;a href="https://github.com/pyviz/hvplot"&gt;hvplot&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;A high-level plotting API for pandas, dask, xarray, and networkx built on HoloViews &lt;/p&gt;
&lt;h3 id="cufflink"&gt;&lt;a href="https://github.com/santosjorge/cufflinks"&gt;Cufflink&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Enables plotly plots in pandas DataFrame (via the &lt;code&gt;iplot&lt;/code&gt; method) directly. &lt;/p&gt;
&lt;p&gt;https://plot.ly/pandas/getting-started/&lt;/p&gt;
&lt;p&gt;https://medium.com/@kbrook10/day-7-data-visualization-how-to-use-plotly-and-cufflinks-for-interactive-data-visualizations-3a4b85fdd999&lt;/p&gt;
&lt;h3 id="holoviews"&gt;HoloViews&lt;/h3&gt;
&lt;p&gt;HoloViews is my favorate JS-based visualization package in Python.
It has the simpliest yet rigorous syntax.&lt;/p&gt;
&lt;h3 id="bokeh"&gt;bokeh&lt;/h3&gt;
&lt;p&gt;Bokeh is a great JS-based package for visualization in Python and is also available in other programming languages.
It is a free and opensource alternative to plotly (which is not totally free).
Both bokeh and plotly is feature-rich.
They supports all kinds of charts, data table and can easily build a dashboard.&lt;/p&gt;
&lt;h3 id="plotly"&gt;&lt;a href="https://plot.ly/python/user-guide/"&gt;plotly&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Plotly is great (even better than Bokeh) but unfortunately not totally free (very limited API calls per day).&lt;/p&gt;
&lt;h2 id="matplotlib-based-modules"&gt;&lt;code&gt;matplotlib&lt;/code&gt; based Modules&lt;/h2&gt;
&lt;h3 id="matplotlib"&gt;matplotlib&lt;/h3&gt;
&lt;p&gt;The old default visualization package in Python.&lt;/p&gt;
&lt;p&gt;has display issues without x server ...&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions/11264521/date-ticks-and-rotation-in-matplotlib&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions/9627686/plotting-dates-on-the-x-axis-with-pythons-matplotlib&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions/10998621/rotate-axis-text-in-python-matplotlib&lt;/p&gt;
&lt;h3 id="pandas"&gt;pandas&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;pandas&lt;/code&gt; integrates some visualization features based on matplotlib.
It makes things convenient if you have to work with data frame a lot.&lt;/p&gt;
&lt;h3 id="blender-python"&gt;Blender Python&lt;/h3&gt;
&lt;p&gt;https://docs.blender.org/api/current/info_quickstart.html&lt;/p&gt;
&lt;p&gt;https://medium.com/@behreajj/creative-coding-in-blender-a-primer-53e79ff71e&lt;/p&gt;
&lt;p&gt;https://blenderscripting.blogspot.com/&lt;/p&gt;
&lt;h2 id="maartenbreddelsipyvolume"&gt;&lt;a href="https://github.com/maartenbreddels/ipyvolume"&gt;maartenbreddels/ipyvolume&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;3-D plotting in Python.&lt;/p&gt;
&lt;h2 id="pydotpydot"&gt;&lt;a href="https://github.com/pydot/pydot"&gt;pydot/pydot&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="slundbergshap"&gt;&lt;a href="https://github.com/slundberg/shap"&gt;slundberg/shap&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;A unified approach to explain the output of any machine learning model.&lt;/p&gt;
&lt;h2 id="residentmariomissingno"&gt;&lt;a href="https://github.com/ResidentMario/missingno"&gt;ResidentMario/missingno&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Missing data visualization module for Python.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;http://jakevdp.github.io/blog/2014/01/10/d3-plugins-truly-interactive/&lt;/p&gt;
&lt;p&gt;http://blog.ynema.com/?p=192&lt;/p&gt;</content><category term="programming"></category><category term="visualization"></category><category term="Python"></category><category term="HoloViews"></category><category term="bokeh"></category><category term="plotly"></category><category term="matplotlib"></category><category term="pandas"></category><category term="library"></category></entry><entry><title>Jingjing Asian Market</title><link href="http://www.legendu.net/misc/blog/jingjing-asian-market/" rel="alternate"></link><published>2019-09-17T09:11:39-07:00</published><updated>2019-09-17T09:11:39-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-09-17:/misc/blog/jingjing-asian-market/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="jingjing-asian-market"&gt;&lt;a href="https://jingjingmarket.com/"&gt;Jingjing Asian Market&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;咸鸭蛋&lt;/p&gt;
&lt;p&gt;卤肉饭&lt;/p&gt;
&lt;h4 id="seafood"&gt;Seafood&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/9/product/11548"&gt;Fresh Salmon Steak 三文鱼排&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/9/product/11568"&gt;FreshSalmon fillet skinon 三文鱼片&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/9/product/11648"&gt;Frozen Basa Fillet / LB 冷冻养殖龙利鱼片（越南 …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="jingjing-asian-market"&gt;&lt;a href="https://jingjingmarket.com/"&gt;Jingjing Asian Market&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;咸鸭蛋&lt;/p&gt;
&lt;p&gt;卤肉饭&lt;/p&gt;
&lt;h4 id="seafood"&gt;Seafood&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/9/product/11548"&gt;Fresh Salmon Steak 三文鱼排&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/9/product/11568"&gt;FreshSalmon fillet skinon 三文鱼片&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/9/product/11648"&gt;Frozen Basa Fillet / LB 冷冻养殖龙利鱼片（越南）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/9/product/11532"&gt;White Shrimp Head-on 50/60冷冻有头白虾&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/9/product/78"&gt;White Shrimp Headless 41 带头白虾41/50&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/9/product/12302"&gt;White shrimp head-on 20-30冷冻有头大白虾&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/9/product/79"&gt;White Shrimp headless21 无头白虾21/25&lt;/a&gt;&lt;/p&gt;
&lt;h4 id="fruits"&gt;Fruits&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/12/product/193"&gt;Avocado Hass 牛油果&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/12/product/12173"&gt;Banana Baby 小芭蕉 w&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/12/product/12174"&gt;Banana 香蕉 w&lt;/a&gt;&lt;/p&gt;
&lt;h4 id="vegetables"&gt;Vegetables&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/26/product/12176"&gt;Bok-Choy Sweet 甜白菜 w&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/26/product/12303"&gt;Broccoli Crown / LB 西兰花-w&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/10/product/12455"&gt;Big Taro Peeled 去皮大芋头&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/26/product/12171"&gt;Anahelm Pepper 长青椒w&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://jingjingmarket.com/catalog/26/product/12177"&gt;Brown Onion 黄洋葱 w&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Tips on Subprocess</title><link href="http://www.legendu.net/misc/blog/tips-on-subprocess/" rel="alternate"></link><published>2019-09-16T22:13:56-07:00</published><updated>2019-09-16T22:13:56-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-09-16:/misc/blog/tips-on-subprocess/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The method &lt;code&gt;subprocess.run&lt;/code&gt; is preferred over the older high-level APIs 
    (&lt;code&gt;subprocess.call&lt;/code&gt;, &lt;code&gt;subprocess.check_call&lt;/code&gt;, &lt;code&gt;subprocess.check_output&lt;/code&gt;).
    The method &lt;code&gt;subprocess …&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The method &lt;code&gt;subprocess.run&lt;/code&gt; is preferred over the older high-level APIs 
    (&lt;code&gt;subprocess.call&lt;/code&gt;, &lt;code&gt;subprocess.check_call&lt;/code&gt;, &lt;code&gt;subprocess.check_output&lt;/code&gt;).
    The method &lt;code&gt;subprocess.Popen&lt;/code&gt; (which powers the high-level APIs) can be used if you need advanced control.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To suppress the output of &lt;code&gt;subprocess.run&lt;/code&gt;,
    you can redirect the output to &lt;code&gt;/dev/null&lt;/code&gt;.
        :::Python
        import os
        import subprocess&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="k"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;devnull&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;devnull&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ls&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;-l&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="k"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;devnull&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;above&lt;/span&gt; &lt;span class="k"&gt;only&lt;/span&gt; &lt;span class="n"&gt;redirects&lt;/span&gt; &lt;span class="k"&gt;stdout&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;
    &lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt; &lt;span class="n"&gt;will&lt;/span&gt; &lt;span class="n"&gt;also&lt;/span&gt; &lt;span class="n"&gt;redirect&lt;/span&gt; &lt;span class="n"&gt;stderr&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;null&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;well&lt;/span&gt;
    &lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ls&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;-l&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="k"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;devnull&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;devnull&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="n"&gt;Alternatively&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;you&lt;/span&gt; &lt;span class="n"&gt;can&lt;/span&gt; &lt;span class="n"&gt;merge&lt;/span&gt; &lt;span class="n"&gt;stderr&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="k"&gt;stdout&lt;/span&gt; &lt;span class="n"&gt;streams&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="n"&gt;redirect&lt;/span&gt;
    &lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;one&lt;/span&gt; &lt;span class="n"&gt;stream&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;null&lt;/span&gt;
    &lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ls&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;-l&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="k"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;devnull&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;STDOUT&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To capture the output, you have to use the option &lt;code&gt;stdout=PIPE&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;subprocess&lt;/span&gt; &lt;span class="nn"&gt;sp&lt;/span&gt;
&lt;span class="n"&gt;process&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ls&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;-l&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PIPE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Similarly, to capture to the output, you have to use the option &lt;code&gt;stderr=PIPE&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;subprocess&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sp&lt;/span&gt;
&lt;span class="n"&gt;process&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ls&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;-l&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PIPE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PIPE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To capture both the output and the error in one place, you can use the options &lt;code&gt;stdout=PIPE, stderr=STDOUT&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;subprocess&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sp&lt;/span&gt;
&lt;span class="n"&gt;process&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ls&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;-l&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PIPE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;STDOUT&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Notice that in Python 3.7+ you can capture the output and error by one simple option &lt;code&gt;capture_output=True&lt;/code&gt;.
It is equivalent to the options &lt;code&gt;stdout=PIPE, stderr=PIPE&lt;/code&gt; in older versions of Python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sometimes running &lt;code&gt;subprocess.run(cmd)&lt;/code&gt; in a JupyterLab notebook prints nothing even the command &lt;code&gt;cmd&lt;/code&gt; indeed has output in command-line.
  This is likely due to the fact that the command &lt;code&gt;cmd&lt;/code&gt; output everything to stderr instead of stdout by mistake.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you keep the option &lt;code&gt;check=False&lt;/code&gt; as error code is more flexible than throwing exception in subprocess.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="subprocesspopen"&gt;subprocess.Popen&lt;/h2&gt;
&lt;p&gt;https://www.endpoint.com/blog/2015/01/28/getting-realtime-output-using-python&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;subprocess&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;shlex&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;run_command&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cmd&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;process&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Popen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;shlex&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cmd&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PIPE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readline&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;poll&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;----&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sleep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;rc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;poll&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;rc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="comparison-of-differenct-devices"&gt;Comparison of Differenct Devices&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;sys.stdout&lt;/code&gt; is the standard output stream.
  &lt;code&gt;subprocess.STDOUT&lt;/code&gt; refers to the standard out stream of subprocess.
  It is either &lt;code&gt;subprocess.PIPE&lt;/code&gt; or &lt;code&gt;None&lt;/code&gt;.
    :::python
    os.devnull
    subprocess.DEVNULL
    with open(os.devnull, 'w') as devnull:
        pass&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="terminate-a-python-subprocess-launched-with-shelltrue"&gt;Terminate a Python subprocess launched with &lt;code&gt;shell=True&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/4789837/how-to-terminate-a-python-subprocess-launched-with-shell-true&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://docs.python.org/3/library/subprocess.html#subprocess.Popen&lt;/p&gt;
&lt;p&gt;https://www.endpoint.com/blog/2015/01/28/getting-realtime-output-using-python&lt;/p&gt;
&lt;p&gt;https://codecalamity.com/run-subprocess-run/&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/53209127/subprocess-unexpected-keyword-argument-capture-output&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="subprocess"></category><category term="tips"></category></entry><entry><title>Tips on yapf</title><link href="http://www.legendu.net/misc/blog/tips-on-yapf/" rel="alternate"></link><published>2019-09-16T22:12:27-07:00</published><updated>2019-09-16T22:12:27-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-09-16:/misc/blog/tips-on-yapf/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://yapf.now.sh/"&gt;yapf Online Demo&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There are 4 predefined styles: google, facebook, chromium, and pep8.
    You can specify a style to use …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://yapf.now.sh/"&gt;yapf Online Demo&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There are 4 predefined styles: google, facebook, chromium, and pep8.
    You can specify a style to use using the &lt;code&gt;--style&lt;/code&gt; option 
    or you can specify the style to use in the file &lt;code&gt;.style.yapf&lt;/code&gt; under the root directory of your project.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[style]&lt;/span&gt;
&lt;span class="c1"&gt;# YAPF uses the feacebook style&lt;/span&gt;
&lt;span class="na"&gt;based_on_style&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;facebook&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;YAPF searches for the formatting style in the following manner:
1. Specified on the command line
2. In the [style] section of a .style.yapf file in either the current directory or one of its parent directories.
3. In the [yapf] section of a setup.cfg file in either the current directory or one of its parent directories.
4. In the [style] section of a ~/.config/yapf/style file in your home directory.
If none of those files are found, the default style is used (PEP8).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can control the behavior of yapf via settings in the file &lt;code&gt;.style.yapf&lt;/code&gt; under the root directory of your project.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[style]&lt;/span&gt;
&lt;span class="na"&gt;EACH_DICT_ENTRY_ON_SEPARATE_LINE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;True&lt;/span&gt;
&lt;span class="na"&gt;ALLOW_SPLIT_BEFORE_DICT_VALUE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;False&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="tricks-and-traps"&gt;Tricks and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;When &lt;code&gt;--diff/-d&lt;/code&gt; is supplied, YAPF returns zero when no changes were necessary, 
  non-zero otherwise (including program error).
  You can use this in a CI workflow to test that code has been YAPF-formatted.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://github.com/google/styleguide&lt;/p&gt;
&lt;p&gt;https://github.com/google/yapf&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="yapf"></category><category term="code formatting"></category></entry><entry><title>Group by vs Over Partition in SQL</title><link href="http://www.legendu.net/misc/blog/group-by-vs-over-partition-in-sql/" rel="alternate"></link><published>2019-09-12T18:40:34-07:00</published><updated>2019-09-12T18:40:34-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-09-12:/misc/blog/group-by-vs-over-partition-in-sql/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://stackoverflow.com/questions/2404565/sql-server-difference-between-partition-by-and-group-by"&gt;SQL Server: Difference between PARTITION BY and GROUP BY&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;group by&lt;/code&gt; alwasy aggreates values. 
    That is &lt;code&gt;group by&lt;/code&gt; alwasy reduces …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://stackoverflow.com/questions/2404565/sql-server-difference-between-partition-by-and-group-by"&gt;SQL Server: Difference between PARTITION BY and GROUP BY&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;group by&lt;/code&gt; alwasy aggreates values. 
    That is &lt;code&gt;group by&lt;/code&gt; alwasy reduces a group of values to 1 value.
    Hoever, &lt;code&gt;analytics_function() over(partition by column)&lt;/code&gt; does not aggreage.
    It returns a value for each record in the group.
    Even if an aggregation function is applied and returns only 1 value,
    this value is returned for each value in the group.
    real example, meta_cat, sub_cat, want to find all sub_cat that have multiple meta_cat, over partition is an easier way&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;They are used in different places. group by modifies the entire query, like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; 
    &lt;span class="n"&gt;customerId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
    &lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;orderCount&lt;/span&gt;
&lt;span class="k"&gt;from&lt;/span&gt; 
    &lt;span class="n"&gt;Orders&lt;/span&gt;
&lt;span class="k"&gt;group&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; 
    &lt;span class="n"&gt;customerId&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;But partition by just works on a window function, like row_number:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; 
    &lt;span class="n"&gt;row_number&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="n"&gt;over&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;partition&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="n"&gt;customerId&lt;/span&gt; &lt;span class="k"&gt;order&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="n"&gt;orderId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;OrderNumberForThisCustomer&lt;/span&gt;
&lt;span class="k"&gt;from&lt;/span&gt; 
    &lt;span class="n"&gt;Orders&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A group by normally reduces the number of rows returned 
by rolling them up and calculating averages or sums for each row. 
partition by does not affect the number of rows returned, 
but it changes how a window function's result is calculated.&lt;/p&gt;</content><category term="programming"></category><category term="SQL"></category><category term="group by"></category><category term="over partition"></category></entry><entry><title>Scala Tips</title><link href="http://www.legendu.net/misc/blog/scala-tips/" rel="alternate"></link><published>2019-09-08T21:46:50-07:00</published><updated>2019-09-08T21:46:50-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-09-08:/misc/blog/scala-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.scala-lang.org/api/current/#package"&gt;Scala Root Package&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.scala-lang.org/index.html"&gt;Scala Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.scala-lang.org/tutorials/"&gt;Scala Tutorial&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.scala-lang.org/style/"&gt;Scala Coding Style&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.scala-lang.org/glossary/"&gt;Scala Glossary&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.scala-lang.org/cheatsheets/"&gt;Scala Cheatsheet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/databricks/scala-style-guide"&gt;Scala Style Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="trick-traps"&gt;Trick &amp;amp; Traps&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://underscore.io/blog/posts/2016/10/11/twenty-two.html"&gt;Scala …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.scala-lang.org/api/current/#package"&gt;Scala Root Package&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.scala-lang.org/index.html"&gt;Scala Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.scala-lang.org/tutorials/"&gt;Scala Tutorial&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.scala-lang.org/style/"&gt;Scala Coding Style&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.scala-lang.org/glossary/"&gt;Scala Glossary&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.scala-lang.org/cheatsheets/"&gt;Scala Cheatsheet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/databricks/scala-style-guide"&gt;Scala Style Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="trick-traps"&gt;Trick &amp;amp; Traps&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://underscore.io/blog/posts/2016/10/11/twenty-two.html"&gt;Scala and 22&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="general-tips"&gt;General Tips&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;IntelliJ IDEA is the recommended IDE.
    Eclipse (with the Scala IDE plugin) is alternative.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="style"&gt;Style&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;avoid using break, continue, return even though you can use them in Scala&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;avoid using while loop but don't go too crazy&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="scalautilrandom"&gt;scala.util.Random&lt;/h2&gt;
&lt;p&gt;It is a wrapper of &lt;code&gt;java.util.Random&lt;/code&gt; which is NOT a high quality random number generator.&lt;/p&gt;
&lt;h2 id="argument-parsing"&gt;Argument Parsing&lt;/h2&gt;
&lt;p&gt;Scala Args Parsing &lt;/p&gt;
&lt;p&gt;https://github.com/scopt/scopt&lt;/p&gt;
&lt;h2 id="links"&gt;Links&lt;/h2&gt;
&lt;p&gt;http://blog.plasmaconduit.com/reduve-vs-fold-in-scala/&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions/9727637/new-keyword-in-scala&lt;/p&gt;
&lt;h3 id="collections"&gt;Collections&lt;/h3&gt;
&lt;p&gt;http://docs.scala-lang.org/overviews/collections/overview.html&lt;/p&gt;
&lt;p&gt;http://docs.scala-lang.org/overviews/collections/performance-characteristics.html&lt;/p&gt;
&lt;p&gt;http://alvinalexander.com/scala/understanding-scala-collections-hierarchy-cookbook&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions/19478244/how-does-a-case-anonymous-function-really-work-in-scala&lt;/p&gt;</content><category term="programming"></category><category term="Scala"></category><category term="functional programming"></category><category term="big data"></category><category term="Spark"></category></entry><entry><title>General Tips for Gradle</title><link href="http://www.legendu.net/misc/blog/gradle-tips/" rel="alternate"></link><published>2019-09-08T17:23:44-07:00</published><updated>2019-09-08T17:23:44-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-09-08:/misc/blog/gradle-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="installation"&gt;Installation&lt;/h2&gt;
&lt;p&gt;You can use the following command to install the latest version of gradle on Ubuntu.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="k"&gt;add&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;repository …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="installation"&gt;Installation&lt;/h2&gt;
&lt;p&gt;You can use the following command to install the latest version of gradle on Ubuntu.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="k"&gt;add&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;repository&lt;/span&gt; &lt;span class="n"&gt;ppa&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;cwchien&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gradle&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;get&lt;/span&gt; &lt;span class="k"&gt;update&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt; &lt;span class="n"&gt;upgrade&lt;/span&gt; &lt;span class="n"&gt;gradle&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You can use the following command to install Gradle on Mac.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;brew&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;gradle&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="tricks-and-traps"&gt;Tricks and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It is recommended that you use the gradle wrapper &lt;code&gt;gradlew&lt;/code&gt; to compile the project.
    You don't have to use the &lt;code&gt;task&lt;/code&gt; subcommand 
    when using the gradle wrapper &lt;code&gt;gradlew&lt;/code&gt; to compile the project.
    For example, 
    instead of &lt;code&gt;gradle task build&lt;/code&gt; you can use &lt;code&gt;./gradlew build&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You'd better rebuild (using the &lt;code&gt;build&lt;/code&gt; command) your project 
    before testing running your project or generating a fat jar (using the &lt;code&gt;shadowjar&lt;/code&gt; command).
    Otherwise, 
    you might run into weird issues such as resource file not found, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="customize-tasks"&gt;Customize Tasks&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/11767713/adding-script-to-build-gradle&lt;/p&gt;
&lt;h2 id="shadowjar-for-gradle"&gt;&lt;a href="https://github.com/johnrengelman/shadow"&gt;shadowJar&lt;/a&gt; for Gradle&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;plugins&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;com.github.johnrengelman.shadow&amp;quot;&lt;/span&gt; &lt;span class="k"&gt;version&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;4.0.3&amp;quot;&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;shadowJar&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;zip64&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;
    &lt;span class="n"&gt;mergeServiceFiles&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;exclude&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;META-INF/*.SF&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;exclude&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;META-INF/*.DSA&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;exclude&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;META-INF/*.RSA&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;exclude&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;LICENSE*&amp;quot;&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="shadow"&gt;Shadow&lt;/h2&gt;
&lt;p&gt;archiveClassifier &lt;/p&gt;
&lt;p&gt;https://github.com/johnrengelman/shadow/issues/463#event-2615996541&lt;/p&gt;
&lt;h2 id="gradle-sync"&gt;Gradle Sync&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;support only local sync&lt;/li&gt;
&lt;li&gt;not incremental&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Overall it is far behind rsync. 
I'd rather use rsync in shell.&lt;/p&gt;
&lt;h2 id="gradle-ssh-plugin"&gt;Gradle SSH Plugin&lt;/h2&gt;
&lt;p&gt;https://gradle-ssh-plugin.github.io/&lt;/p&gt;
&lt;p&gt;I'd rather use ssh/rsync in shell.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://askubuntu.com/questions/932083/how-do-i-upgrade-gradle&lt;/p&gt;
&lt;p&gt;https://ftclausen.github.io/general/gradle_sync_task_is_not_incremental/&lt;/p&gt;</content><category term="programming"></category><category term="JVM"></category><category term="Java"></category><category term="gradle"></category><category term="Groovy"></category><category term="compile"></category><category term="compiler"></category><category term="package management"></category></entry><entry><title>Tips on Yaml</title><link href="http://www.legendu.net/misc/blog/tips-on-yaml/" rel="alternate"></link><published>2019-09-07T06:52:17-07:00</published><updated>2019-09-07T06:52:17-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-09-07:/misc/blog/tips-on-yaml/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://yaml.org/&lt;/p&gt;
&lt;p&gt;https://yaml.org/spec/1.2/spec.html#directive/&lt;/p&gt;
&lt;h2 id="yaml-in-python"&gt;YAML in Python&lt;/h2&gt;
&lt;p&gt;http://sweetohm.net/article/introduction-yaml …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://yaml.org/&lt;/p&gt;
&lt;p&gt;https://yaml.org/spec/1.2/spec.html#directive/&lt;/p&gt;
&lt;h2 id="yaml-in-python"&gt;YAML in Python&lt;/h2&gt;
&lt;p&gt;http://sweetohm.net/article/introduction-yaml.en.html&lt;/p&gt;
&lt;p&gt;https://pyyaml.org/wiki/PyYAMLDocumentation&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;PyYAML is the most popular Python library for parsing YAML.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://bitbucket.org/asomov/snakeyaml/src/default/"&gt;SnakeYaml&lt;/a&gt;
  is a high quality YAML library for JVM-based languages (Java, Scala, etc.)
  &lt;a href="https://github.com/circe/circe-yaml"&gt;circe-yaml&lt;/a&gt;
  is a Scala library for parsing YAML.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="ranges-in-yaml"&gt;Ranges in YAML&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/48199439/use-range-with-stepsize-in-yaml-file&lt;/p&gt;
&lt;h2 id="jinja-yaml"&gt;JINJA &amp;amp; YAML&lt;/h2&gt;
&lt;p&gt;https://docs.saltstack.com/en/latest/topics/jinja/index.html&lt;/p&gt;
&lt;p&gt;https://medium.com/@deepak7093/dynamic-code-generator-using-yaml-config-and-jinja2-templates-31d8b9663fb0&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://www.baeldung.com/java-snake-yaml&lt;/p&gt;</content><category term="programming"></category><category term="YAML"></category><category term="tips"></category></entry><entry><title>Tips on the Tempfile Module in Python</title><link href="http://www.legendu.net/misc/blog/tips-on-the-tempfile-module-in-python/" rel="alternate"></link><published>2019-09-06T21:28:15-07:00</published><updated>2019-09-06T21:28:15-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-09-06:/misc/blog/tips-on-the-tempfile-module-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://docs.python.org/3/library/tempfile.html&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;You can use the suffix option of &lt;code&gt;tempfile.mkstemp&lt;/code&gt; to create a …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://docs.python.org/3/library/tempfile.html&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;You can use the suffix option of &lt;code&gt;tempfile.mkstemp&lt;/code&gt; to create a temporary file with a specific file extension.&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Python"></category><category term="tempfile"></category><category term="temporary file"></category></entry><entry><title>Tips on Npm</title><link href="http://www.legendu.net/misc/blog/tips-on-npm/" rel="alternate"></link><published>2019-09-04T18:15:22-07:00</published><updated>2019-09-04T18:15:22-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-09-04:/misc/blog/tips-on-npm/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Avoid using sudo with npm.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://medium.com/@ExplosionPills/dont-use-sudo-with-npm-still-66e609f5f92&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/16151018/npm-throws-error-without-sudo&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Avoid using sudo with npm.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://medium.com/@ExplosionPills/dont-use-sudo-with-npm-still-66e609f5f92&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/16151018/npm-throws-error-without-sudo&lt;/p&gt;</content><category term="programming"></category><category term="tips"></category><category term="npm"></category><category term="JavaScript"></category><category term="TypeScript"></category></entry><entry><title>Spark Issue Duplicated Partitions</title><link href="http://www.legendu.net/misc/blog/spark-issue-duplicated-partitions/" rel="alternate"></link><published>2019-08-29T02:14:51-07:00</published><updated>2019-08-29T02:14:51-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-08-29:/misc/blog/spark-issue-duplicated-partitions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There seems to be an issue in Spark that it might fail to overwrite files even if mode of &lt;code&gt;spark …&lt;/code&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There seems to be an issue in Spark that it might fail to overwrite files even if mode of &lt;code&gt;spark.write&lt;/code&gt; is set to be "overwrite".&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="duplicate"></category><category term="overwrite"></category></entry><entry><title>argparse Tips</title><link href="http://www.legendu.net/misc/blog/argparse-tips/" rel="alternate"></link><published>2019-08-29T00:27:26-07:00</published><updated>2019-08-29T00:27:26-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-08-29:/misc/blog/argparse-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The argument &lt;code&gt;aliases&lt;/code&gt; does not take a geneartor as input.
  Generally speaking, 
  you should be carefule about using a generator …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The argument &lt;code&gt;aliases&lt;/code&gt; does not take a geneartor as input.
  Generally speaking, 
  you should be carefule about using a generator as a generator is essentially an iterator 
  which is invalidated once iterated.
  Use a list instead if you have to iterator a collection multiple times.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It seems that the default value for an argument must be specified
    in the first occurrence of the corresponding &lt;code&gt;add_argument&lt;/code&gt; function.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It seems that default value must be specified in the first occurrence.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can check whether an option is defined for a command or not using &lt;code&gt;'some_option' in args&lt;/code&gt;
  where &lt;code&gt;args&lt;/code&gt; is a Namespace object returned by &lt;code&gt;argparse.parse_args&lt;/code&gt;.
  So that you can use &lt;code&gt;args.level if 'level' in args else 'INFO'&lt;/code&gt; 
  to get the value for the option &lt;code&gt;args.level&lt;/code&gt; with the fallback value &lt;code&gt;INFO&lt;/code&gt;.
  You can also convert a Namespace object to a dictionary using the function &lt;code&gt;vars&lt;/code&gt;,
  so an even easier way of get the value of an option with a fallback value is use &lt;code&gt;vars(args).get('level', 'INFO')&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Python"></category><category term="argparse"></category></entry><entry><title>Pelican Tips</title><link href="http://www.legendu.net/misc/blog/pelican-tips/" rel="alternate"></link><published>2019-08-27T09:09:03-07:00</published><updated>2019-08-27T09:09:03-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-08-27:/misc/blog/pelican-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\$&lt;/code&gt; need to be escaped&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ror the latex plugin, 
    equation align environment works but need to use &lt;code&gt;\newline&lt;/code&gt; in stead of …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\$&lt;/code&gt; need to be escaped&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ror the latex plugin, 
    equation align environment works but need to use &lt;code&gt;\newline&lt;/code&gt; in stead of &lt;code&gt;\\&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="themes"&gt;Themes&lt;/h2&gt;
&lt;p&gt;https://github.com/alexandrevicenzi/Flex&lt;/p&gt;
&lt;h2 id="anchor-links-for-titles"&gt;Anchor Links for Titles&lt;/h2&gt;
&lt;p&gt;https://github.com/getpelican/pelican/issues/1357&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://sourceforge.net/p/pelican-edt/wiki/markdown_syntax/#md_ex_code&lt;/p&gt;</content><category term="programming"></category><category term="Pelican"></category><category term="blog"></category><category term="formula"></category><category term="dollar sign"></category></entry><entry><title>Spark Issue Mac Spark-shell Error Initializing SparkContext</title><link href="http://www.legendu.net/misc/blog/spark-issue-mac-spark-shell-error-initializing-sparkcontext/" rel="alternate"></link><published>2019-08-27T02:20:23-07:00</published><updated>2019-08-27T02:20:23-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-08-27:/misc/blog/spark-issue-mac-spark-shell-error-initializing-sparkcontext/</id><summary type="html">&lt;p&gt;**
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;h2 id="issue"&gt;Issue&lt;/h2&gt;
&lt;p&gt;Mac spark-shell Error initializing SparkContext&lt;/p&gt;
&lt;h2 id="possible-causes"&gt;Possible Causes&lt;/h2&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;One possible solution is to simplfy restart Mac.
Other solutions exists …&lt;/p&gt;</summary><content type="html">&lt;p&gt;**
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;h2 id="issue"&gt;Issue&lt;/h2&gt;
&lt;p&gt;Mac spark-shell Error initializing SparkContext&lt;/p&gt;
&lt;h2 id="possible-causes"&gt;Possible Causes&lt;/h2&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;One possible solution is to simplfy restart Mac.
Other solutions exists in the 
&lt;a href="https://stackoverflow.com/questions/34601554/mac-spark-shell-error-initializing-sparkcontext"&gt;discussion on StackOverflow&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="reference"&gt;Reference&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/34601554/mac-spark-shell-error-initializing-sparkcontext
**
https://stackoverflow.com/questions/44914144/error-sparkcontext-error-initializing-sparkcontext-java-net-bindexception-can/44916827&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="Spark Shell"></category><category term="SparkContext"></category></entry><entry><title>Spark Issue Cannot Create a Path from An Empty String</title><link href="http://www.legendu.net/misc/blog/spark-issue-cannot-create-a-path-from-an-empty-string/" rel="alternate"></link><published>2019-08-26T23:40:57-07:00</published><updated>2019-08-26T23:40:57-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-08-26:/misc/blog/spark-issue-cannot-create-a-path-from-an-empty-string/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="issue"&gt;Issue&lt;/h2&gt;
&lt;p&gt;java.lang.IllegalArgumentException: Can not create a Path from an empty string&lt;/p&gt;
&lt;h2 id="possible-causes"&gt;Possible Causes&lt;/h2&gt;
&lt;p&gt;The error you are seeing …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="issue"&gt;Issue&lt;/h2&gt;
&lt;p&gt;java.lang.IllegalArgumentException: Can not create a Path from an empty string&lt;/p&gt;
&lt;h2 id="possible-causes"&gt;Possible Causes&lt;/h2&gt;
&lt;p&gt;The error you are seeing could be from number of things:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;parameters , check for ${param} in the code and make sure it has value&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;create external table with invalid path (path containing spaces or parameter that is null)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;insert overwrite directory statement with invalid path. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="solutions"&gt;Solutions&lt;/h2&gt;
&lt;p&gt;Identify the root cause and fix accordingly.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://forums.aws.amazon.com/thread.jspa?threadID=132895&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="empty string"></category><category term="path"></category></entry><entry><title>pylint Tips</title><link href="http://www.legendu.net/misc/blog/pylint-tips/" rel="alternate"></link><published>2019-08-25T21:11:08-07:00</published><updated>2019-08-25T21:11:08-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-08-25:/misc/blog/pylint-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="pylint"&gt;pylint&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Show ERROR messages only.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pylint&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;some_script&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Show ERROR and WARNING messages only.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pylint&lt;/span&gt; &lt;span class="c1"&gt;--disable=R,C some_script …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="pylint"&gt;pylint&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Show ERROR messages only.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pylint&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt; &lt;span class="n"&gt;some_script&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Show ERROR and WARNING messages only.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pylint&lt;/span&gt; &lt;span class="c1"&gt;--disable=R,C some_script.py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/31907762/pylint-to-show-only-warnings-and-errors&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="pylint"></category><category term="tips"></category></entry><entry><title>Calling Shell from Python</title><link href="http://www.legendu.net/misc/blog/calling-shell-from-python/" rel="alternate"></link><published>2019-08-24T06:48:05-07:00</published><updated>2019-08-24T06:48:05-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-08-24:/misc/blog/calling-shell-from-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you always use full path of command as the environment is not always identical across machines …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you always use full path of command as the environment is not always identical across machines.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Generally speaking,
    functions in the module &lt;code&gt;subprocess&lt;/code&gt; are preferred to the function &lt;code&gt;os.system&lt;/code&gt;
    as functions in the module &lt;code&gt;subproces&lt;/code&gt; are more flexible. 
    However, 
    be careful when you use &lt;code&gt;subprocess.call&lt;/code&gt; to replace &lt;code&gt;os.system&lt;/code&gt;.
    You might want to pass the option &lt;code&gt;check=True&lt;/code&gt; 
    to turn on exception throwing on erros (turned off by default)
    if the status of running a command matters. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;echo&lt;/code&gt; and pipe is common trick to feed input into another comamnd. 
    For exampel, 
    suppose &lt;code&gt;kinit&lt;/code&gt; is an authentication command that takes a password interactively,
    you can use the following command to authenticate directly without typing password interactively.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;your_password&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;kinit&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This trick works with the &lt;code&gt;os.system&lt;/code&gt; function in Python.
Basically &lt;code&gt;os.system&lt;/code&gt; takes whatever you run in shell and run it.
Methods in &lt;code&gt;subprocess&lt;/code&gt; does not take pipe commands by default. 
If the pipe is used to feed input into another command,
you can simply use the &lt;code&gt;input&lt;/code&gt; argument of methods in &lt;code&gt;subprocess&lt;/code&gt;.
For example,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;check_output&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;kinit&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="k"&gt;input&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;your_password&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you do want to use pipe directly in methods of &lt;code&gt;subprocess&lt;/code&gt;, 
you can set the option &lt;code&gt;shell=True&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="shlex"&gt;&lt;a href="https://docs.python.org/3/library/shlex.html"&gt;shlex&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Parsing Shell commands.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/41171791/how-to-suppress-the-output-of-subprocess-run&lt;/p&gt;
&lt;p&gt;https://docs.python.org/3/library/subprocess.html#replacing-shell-pipeline&lt;/p&gt;
&lt;p&gt;https://docs.python.org/3/library/subprocess.html#replacing-os-system&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="shell"></category><category term="os.system"></category><category term="subprocess"></category></entry><entry><title>Tips on Monkey Patching in Python</title><link href="http://www.legendu.net/misc/blog/tips-on-monkey-patching-in-python/" rel="alternate"></link><published>2019-08-13T21:29:47-07:00</published><updated>2019-08-13T21:29:47-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-08-13:/misc/blog/tips-on-monkey-patching-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A MonkeyPatch is a piece of Python code which extends or modifies other code at runtime (typically at startup).&lt;/p&gt;
&lt;p&gt;A …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A MonkeyPatch is a piece of Python code which extends or modifies other code at runtime (typically at startup).&lt;/p&gt;
&lt;p&gt;A monkey patch is a way for a program to extend or modify supporting system software locally (affecting only the running instance of the program).&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/5626193/what-is-monkey-patching&lt;/p&gt;
&lt;p&gt;https://www.youtube.com/watch?v=Adr_QuDZxuM&amp;amp;feature=youtu.be&lt;/p&gt;
&lt;p&gt;https://en.wikipedia.org/wiki/Monkey_patch&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="monkey patching"></category></entry><entry><title>Commonly Used File Formats for Configuration</title><link href="http://www.legendu.net/misc/blog/commonly-used-file-formats-for-configuration/" rel="alternate"></link><published>2019-08-09T01:08:44-07:00</published><updated>2019-08-09T01:08:44-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-08-09:/misc/blog/commonly-used-file-formats-for-configuration/</id><summary type="html">&lt;p&gt;**
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;p&gt;It seems that many people recommend TOML over JSON and YAML.
**&lt;/p&gt;
&lt;h2 id="json"&gt;JSON&lt;/h2&gt;
&lt;h2 id="yaml"&gt;&lt;a href="https://yaml.org/"&gt;YAML&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="toml"&gt;&lt;a href="https://github.com/toml-lang/toml"&gt;TOML&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="xml"&gt;XML&lt;/h2&gt;
&lt;h2 id="translatetranslate"&gt;&lt;a href="https://github.com/translate/translate"&gt;translate/translate&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://www …&lt;/p&gt;</summary><content type="html">&lt;p&gt;**
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;p&gt;It seems that many people recommend TOML over JSON and YAML.
**&lt;/p&gt;
&lt;h2 id="json"&gt;JSON&lt;/h2&gt;
&lt;h2 id="yaml"&gt;&lt;a href="https://yaml.org/"&gt;YAML&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="toml"&gt;&lt;a href="https://github.com/toml-lang/toml"&gt;TOML&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="xml"&gt;XML&lt;/h2&gt;
&lt;h2 id="translatetranslate"&gt;&lt;a href="https://github.com/translate/translate"&gt;translate/translate&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://www.zionandzion.com/json-vs-xml-vs-toml-vs-cson-vs-yaml/&lt;/p&gt;</content><category term="programming"></category><category term="configuration"></category><category term="JSON"></category><category term="YAML"></category><category term="TOML"></category><category term="XML"></category><category term="file format"></category></entry><entry><title>Tips on Optimus</title><link href="http://www.legendu.net/misc/blog/tips-on-optimus/" rel="alternate"></link><published>2019-08-08T21:47:43-07:00</published><updated>2019-08-08T21:47:43-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-08-08:/misc/blog/tips-on-optimus/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/ironmussa/Optimus&lt;/p&gt;
&lt;p&gt;https://github.com/ironmussa/Optimus/tree/master/examples&lt;/p&gt;
&lt;p&gt;https://htmlpreview.github.io/?https://github.com …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/ironmussa/Optimus&lt;/p&gt;
&lt;p&gt;https://github.com/ironmussa/Optimus/tree/master/examples&lt;/p&gt;
&lt;p&gt;https://htmlpreview.github.io/?https://github.com/ironmussa/Optimus/blob/master/docs/cheatsheet/optimus_cheat_sheet.html&lt;/p&gt;</content><category term="programming"></category><category term="Optimus"></category><category term="Spark"></category><category term="big data"></category><category term="data profiling"></category></entry><entry><title>Use JupyterLab Notebooks in Pelican</title><link href="http://www.legendu.net/misc/blog/use-jupyterlab-notebooks-in-pelican/" rel="alternate"></link><published>2019-08-06T22:26:26-07:00</published><updated>2019-08-06T22:26:26-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-08-06:/misc/blog/use-jupyterlab-notebooks-in-pelican/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/getpelican/pelican-plugins/issues/866&lt;/p&gt;
&lt;p&gt;https://github.com/getpelican/pelican-plugins/issues/651&lt;/p&gt;
&lt;h2 id="plugins"&gt;Plugins&lt;/h2&gt;
&lt;p&gt;https://github.com/danielfrg/pelican-ipynb …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/getpelican/pelican-plugins/issues/866&lt;/p&gt;
&lt;p&gt;https://github.com/getpelican/pelican-plugins/issues/651&lt;/p&gt;
&lt;h2 id="plugins"&gt;Plugins&lt;/h2&gt;
&lt;p&gt;https://github.com/danielfrg/pelican-ipynb&lt;/p&gt;
&lt;p&gt;https://github.com/peijunz/ipynb2pelican#installation-and-configuration&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://github.com/chrisalbon/notes/blob/master/make.ipynb&lt;/p&gt;
&lt;p&gt;https://pmbaumgartner.github.io/blog/jupyter-notebooks-for-pelican/&lt;/p&gt;
&lt;p&gt;https://www.peijun.me/blogging-with-jupyter-and-pelican.html&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>General Tips on Programming</title><link href="http://www.legendu.net/misc/blog/general-programming-tips/" rel="alternate"></link><published>2019-08-06T21:56:39-07:00</published><updated>2019-08-06T21:56:39-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-08-06:/misc/blog/general-programming-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Do NOT chasing the latest versions of libraries/software/tools. 
  Wait for some time for them to be tested thoroughly …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Do NOT chasing the latest versions of libraries/software/tools. 
  Wait for some time for them to be tested thoroughly before adopting them.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Follow a good &lt;a href="https://semver.org/"&gt;Semantic Versioning&lt;/a&gt; 
  if you release your own library/software.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="tips"></category><category term="semantic versioning"></category></entry><entry><title>Command-line Tools for Python Developing</title><link href="http://www.legendu.net/misc/blog/command-line-tools-for-python-developing/" rel="alternate"></link><published>2019-07-26T18:55:03-07:00</published><updated>2019-07-26T18:55:03-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-07-26:/misc/blog/command-line-tools-for-python-developing/</id><summary type="html">&lt;h2 id="check-python-scripts"&gt;Check Python Scripts&lt;/h2&gt;
&lt;h3 id="pylint"&gt;&lt;a href="https://github.com/PyCQA/pylint"&gt;pylint&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pylint&lt;/span&gt; &lt;span class="n"&gt;your_script&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="mypy"&gt;mypy&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mypy&lt;/span&gt; &lt;span class="n"&gt;your_script&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;

&lt;span class="n"&gt;mypy&lt;/span&gt; &lt;span class="c1"&gt;--ignore-missing-imports roas.py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="type-annotation"&gt;Type Annotation&lt;/h2&gt;
&lt;h3 id="monkeytype"&gt;&lt;a href="https://github.com/Instagram/MonkeyType"&gt;MonkeyType&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Run the following command to annotate your Python script.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;monkeytype&lt;/span&gt; &lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="n"&gt;yourscript&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MonkeyType supports pytest.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;monkeytype&lt;/span&gt; &lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="o"&gt;`&lt;/span&gt;&lt;span class="n"&gt;which&lt;/span&gt; &lt;span class="n"&gt;pytest&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="formatting"&gt;Formatting&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/google/yapf"&gt;yapf&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;yapf&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="n"&gt;yourscript&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/ambv/black"&gt;black&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Please refer to 
&lt;a href="https://medium.com/3yourmind/auto-formatters-for-python-8925065f9505"&gt;Auto formatters …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;h2 id="check-python-scripts"&gt;Check Python Scripts&lt;/h2&gt;
&lt;h3 id="pylint"&gt;&lt;a href="https://github.com/PyCQA/pylint"&gt;pylint&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pylint&lt;/span&gt; &lt;span class="n"&gt;your_script&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="mypy"&gt;mypy&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mypy&lt;/span&gt; &lt;span class="n"&gt;your_script&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;

&lt;span class="n"&gt;mypy&lt;/span&gt; &lt;span class="c1"&gt;--ignore-missing-imports roas.py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="type-annotation"&gt;Type Annotation&lt;/h2&gt;
&lt;h3 id="monkeytype"&gt;&lt;a href="https://github.com/Instagram/MonkeyType"&gt;MonkeyType&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Run the following command to annotate your Python script.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;monkeytype&lt;/span&gt; &lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="n"&gt;yourscript&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MonkeyType supports pytest.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;monkeytype&lt;/span&gt; &lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="o"&gt;`&lt;/span&gt;&lt;span class="n"&gt;which&lt;/span&gt; &lt;span class="n"&gt;pytest&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="formatting"&gt;Formatting&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/google/yapf"&gt;yapf&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;yapf&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="n"&gt;yourscript&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/ambv/black"&gt;black&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Please refer to 
&lt;a href="https://medium.com/3yourmind/auto-formatters-for-python-8925065f9505"&gt;Auto formatters for Python&lt;/a&gt;
for detailed comparison between yapf and black.&lt;/p&gt;
&lt;h2 id="debugging"&gt;Debugging&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://docs.python.org/3/library/pdb.html"&gt;pdb&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="installation-of-the-tools"&gt;Installation of the Tools&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;yapf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pylint&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;monkeytype&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mypy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;conda&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;c&lt;/span&gt; &lt;span class="n"&gt;conda&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;forge&lt;/span&gt; &lt;span class="n"&gt;MonkeyType&lt;/span&gt;
&lt;span class="n"&gt;conda&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;mypy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Python development"></category><category term="command-line"></category><category term="pylint"></category><category term="yapf"></category><category term="pdb"></category><category term="linter"></category><category term="formatting"></category><category term="debugging"></category></entry><entry><title>Error/Exception Handling and Testing in Scala</title><link href="http://www.legendu.net/misc/blog/error-exception-handling-and-testing-in-scala/" rel="alternate"></link><published>2019-07-25T01:15:11-07:00</published><updated>2019-07-25T01:15:11-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-07-25:/misc/blog/error-exception-handling-and-testing-in-scala/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="assert-vs-require-vs-assume"&gt;assert vs require vs assume&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;assert&lt;/code&gt; means that your program has reached an inconsistent state.
This might be a problem …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="assert-vs-require-vs-assume"&gt;assert vs require vs assume&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;assert&lt;/code&gt; means that your program has reached an inconsistent state.
This might be a problem with the current method/function 
(think of it a bit as e.g., HTTP 500 InternalServerError).&lt;/p&gt;
&lt;p&gt;&lt;code&gt;require&lt;/code&gt; means that the caller of the method is at fault 
and should fix its call (think of it a bit as e.g., HTTP 400 BadRequest).
Use &lt;code&gt;require&lt;/code&gt; whenever you want a constraint on parameters.
Use &lt;code&gt;assert&lt;/code&gt; whenever you want to make sure some conditions (like invariants) are always true during execution. 
It is a way of testing.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="n"&gt;assert&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;assertion&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;Boolean&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt; 
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;(!&lt;/span&gt;&lt;span class="n"&gt;assertion&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; 
        &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;AssertionError&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;assertion failed&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; 
&lt;span class="o"&gt;}&lt;/span&gt; 

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="n"&gt;assume&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;assumption&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;Boolean&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt; 
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;(!&lt;/span&gt;&lt;span class="n"&gt;assumption&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; 
        &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;AssertionError&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;assumption failed&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; 
&lt;span class="o"&gt;}&lt;/span&gt; 

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="n"&gt;require&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;requirement&lt;/span&gt;&lt;span class="k"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;Boolean&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt; 
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;(!&lt;/span&gt;&lt;span class="n"&gt;requirement&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; 
        &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nc"&gt;IllegalArgumentException&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;requirement failed&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; 
&lt;span class="o"&gt;}&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;assert&lt;/code&gt; (java.lang.AssertionError) – a predicate which needs to be proven by a static code analyser to attempt to prove. 
It is something that you expect the static checker to be able to prove at compile time.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;assume&lt;/code&gt; (java.lang.AssertionError) – an axiom for a static checker. 
It is something that the static checker can rely upon.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;require&lt;/code&gt; (IllegalArgumentException) – Blames the caller of the method for violating the condition. 
Used as a pre-condition. ensuring is a post-condition.&lt;/p&gt;
&lt;h2 id="scalatest"&gt;scalaTest&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It seems to be that scalaTest doesn't work well with junit5 at this time. 
  The suggestion is to stick to junit4 when using scalaTest.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Java discourages the use of Singletons and unit testing on Singletons is not supported any more in JUnit5. 
  However, 
  due to the nature of functional programming, 
  you will find Singletons to be nature in Scala.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category></entry><entry><title>Java Unit Testing</title><link href="http://www.legendu.net/misc/blog/java-unit-testing/" rel="alternate"></link><published>2019-07-25T01:15:11-07:00</published><updated>2019-07-25T01:15:11-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-07-25:/misc/blog/java-unit-testing/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;import static org.junit.Assert.*;&lt;/p&gt;
&lt;p&gt;assertEquals&lt;/p&gt;
&lt;p&gt;assertArrayEquals&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://javarevisited.blogspot.com/2018/09/junit-testing-tips-constructor-is-called-before-test-methods.html&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;import static org.junit.Assert.*;&lt;/p&gt;
&lt;p&gt;assertEquals&lt;/p&gt;
&lt;p&gt;assertArrayEquals&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://javarevisited.blogspot.com/2018/09/junit-testing-tips-constructor-is-called-before-test-methods.html&lt;/p&gt;</content><category term="programming"></category><category term="Java"></category><category term="JVM"></category><category term="unit testing"></category><category term="JUnit"></category></entry><entry><title>Exception Error and Critical</title><link href="http://www.legendu.net/misc/blog/exception-error-and-critical/" rel="alternate"></link><published>2019-07-25T00:48:52-07:00</published><updated>2019-07-25T00:48:52-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-07-25:/misc/blog/exception-error-and-critical/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels&lt;/p&gt;
&lt;h2 id="java"&gt;Java&lt;/h2&gt;
&lt;p&gt;An Error is a subclass of Throwable that indicates serious problems that a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels&lt;/p&gt;
&lt;h2 id="java"&gt;Java&lt;/h2&gt;
&lt;p&gt;An Error is a subclass of Throwable that indicates serious problems that a reasonable application should not try to catch. Most such errors are abnormal conditions.&lt;/p&gt;
&lt;p&gt;https://stackify.com/application-exception-vs-error-difference/&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/912334/differences-between-exception-and-error&lt;/p&gt;</content><category term="programming"></category><category term="exception"></category><category term="error"></category><category term="fatal"></category><category term="critical"></category></entry><entry><title>Parsing JSON in Scala</title><link href="http://www.legendu.net/misc/blog/parsing-json-in-scala/" rel="alternate"></link><published>2019-07-21T20:40:24-07:00</published><updated>2019-07-21T20:40:24-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-07-21:/misc/blog/parsing-json-in-scala/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="circecirce"&gt;&lt;a href="https://github.com/circe/circe"&gt;circe/circe&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="json4sjson4s"&gt;&lt;a href="https://github.com/json4s/json4s"&gt;json4s/json4s&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/29908297/how-can-i-convert-a-json-string-to-a-scala-map&lt;/p&gt;
&lt;p&gt;There are an dependency issue using json4s with Spark. 
This …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="circecirce"&gt;&lt;a href="https://github.com/circe/circe"&gt;circe/circe&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="json4sjson4s"&gt;&lt;a href="https://github.com/json4s/json4s"&gt;json4s/json4s&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/29908297/how-can-i-convert-a-json-string-to-a-scala-map&lt;/p&gt;
&lt;p&gt;There are an dependency issue using json4s with Spark. 
This issue was somehow fixed in the plugin 
&lt;a href="https://github.com/johnrengelman/shadow"&gt;johnrengelman/shadow&lt;/a&gt; v4.0.3.
However, 
I can confirm that there are issue in 
&lt;a href="https://github.com/johnrengelman/shadow"&gt;johnrengelman/shadow&lt;/a&gt; v5.1.0.&lt;/p&gt;
&lt;p&gt;https://github.com/json4s/json4s/issues/316&lt;/p&gt;
&lt;p&gt;https://github.com/json4s/json4s/issues/418&lt;/p&gt;
&lt;h2 id="argonaut-ioargonaut"&gt;&lt;a href="https://github.com/argonaut-io/argonaut"&gt;argonaut-io/argonaut&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Below are Java libraries for parsing JSON.&lt;/p&gt;
&lt;h2 id="googlegson"&gt;&lt;a href="https://github.com/google/gson"&gt;google/gson&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/2779251/how-can-i-convert-json-to-a-hashmap-using-gson&lt;/p&gt;
&lt;p&gt;A great JSON parsing library developed by Google.&lt;/p&gt;
&lt;h2 id="stlearyjson-java"&gt;&lt;a href="https://github.com/stleary/JSON-java"&gt;stleary/JSON-java&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://medium.com/@djoepramono/how-to-parse-json-in-scala-c024cb44f66b&lt;/p&gt;</content><category term="programming"></category><category term="Scala"></category><category term="JSON"></category><category term="Java"></category><category term="gson"></category></entry><entry><title>SQL Tips</title><link href="http://www.legendu.net/misc/blog/sql-tips/" rel="alternate"></link><published>2019-07-19T01:34:21-07:00</published><updated>2019-07-19T01:34:21-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-07-19:/misc/blog/sql-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you want to do some analysis on a time window of data,
  it is best to choose a continuous …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you want to do some analysis on a time window of data,
  it is best to choose a continuous window during a certain month if possible.
  This makes it simple (no need to use date/time function) to work with the dates later.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Outer join is preferred over inner join if you doing some exploring analyses
  (unless you absolute know that inner join is sufficient) 
  as it preserves more information.
  It is often the case when doing exploring analyses that you run an inner join and then found that you really need a left/right join.
  This can be a great waste of time if your analysis consist of many steps and you have to go back to the very beginning change an inner join to an outer join.
  On the contrary, 
  it does not hurt that your run a left/right join when you found that you really just need an inner join.
  However, 
  DO be careful when you use outer joins as they are tricky too!
  If using left/right join, 
  prefer to keep column in the left/right table.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;window_function() over (partition by col1, col2 order by col3)&lt;/code&gt;
  Be careful that a default window of unbounded prceeding to the current row is used by default when you sort partitions.
  Due to this, some window functions requires full information (such as last, max, mean, rank, etc.) won't give you the right results.
  However, windows functions that only require partial information (such as first, row_number, etc.) work as expected.
  For this reason, &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;first is preferred over last&lt;/li&gt;
&lt;li&gt;row_number is preferred over rank&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;row_number() over ()&lt;/code&gt; It is allowed to specify no partition for window functions.
  In that case, all records is treated as one partition.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When using integer constant in SQL code, prefer BigInt, i.e., suffix them with &lt;code&gt;L&lt;/code&gt;.
  This can save you troubes of overflow if count/sum a large table.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Always assume there are data issues (such as missing values, duplicates, etc.) unless forced by table constraints
  as this is often the fact.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you write some database-based application,
  never delete anything and just mark records (to be deleted) as hidden instead.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If space and performance is not critical, 
    to make it is easier for collabarating,
    you can define all columns as type of varchar. 
    The advantage is that no one has to remember the type of columns. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Good to keep all kind of IDs even if you won't need them currently, 
    you nev.. know when you are going to need them ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Avoid using subqueries in SQL. 
    Use CTE (with clause) instead
    which is equivalent but has much more readable.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;avoid using resvered keywords (e.g., title) as column/table name, 
    even if you can use "keyword" but still other people might forget for not obvious keywords like title&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;JDBC is preferred over ODBC for 3 reason. 
    First, JDBC is easier to set up.
    Second, JDBC has better performance.
    Last but not least, JDBC has wider support.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;*&lt;/code&gt; stand for all fields. 
    If you want all fields of a specific table,
    then prefix &lt;code&gt;*&lt;/code&gt; with the table name, 
    e.g., &lt;code&gt;t.*&lt;/code&gt;. 
    This is helpful when you join multiple tables.
    Another thing is that &lt;code&gt;*&lt;/code&gt; cannot be followed by more fields. 
    However, &lt;code&gt;t.*&lt;/code&gt; can (where &lt;code&gt;t&lt;/code&gt; is a table).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Some versions of SQL use &lt;code&gt;as&lt;/code&gt; when creating aliases for selected fields 
    while some other versions of SQL don't.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;analytical functions are powerful
    row_number() over partition
    another way is to use self join&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;select count(*) from table t;&lt;/code&gt;
    no grouping, kind of default grouping, all record are in a default group&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use &lt;code&gt;=&lt;/code&gt; instead of &lt;code&gt;==&lt;/code&gt; for comparison.
    Quote strings using single quotation marks instead of double quotation marks.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;refresh in SQLDeveloper to show newly created talbes&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You must put all columns of the SELECT 
    in the GROUP BY or use aggregate functions on them 
    which compress the results to a single value (like MIN, MAX or SUM) 
    according to SQL standard.
    MySQL does not conform to this standard
    and the results returned is not well defined sometimes 
    when you don't follow the SQL standard.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;the select distinct, distinct describes record, not column.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="tricks-and-traps"&gt;Tricks and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You cannot use &lt;code&gt;order by&lt;/code&gt; when insert records into a table using select .
    this is easy to understand as first SQL does not save data in order. 
    second, ordering in select might conflict with ordered columns (e.g., auto increment columns).
    Finally, select never garantee any ordering.
    You have to apply order by any way. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is always good practice to indicate the version of SQL in your sql code ....
    as others cannot easily tell whether you are using Teradata SQL, Oracel SQL or MS SQL
    not to mention the version (if version specific feature is used).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;extra semicolon somewhere causes mistakes&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;case when, break at first match, no need to manually break (unlike C/C++)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;avoid using keywords as column names, 
    if you do want use a keyword as a column name, 
    you have to double quote it (e.g., "as"). 
    can also use [], '', in MS SQL, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;always specify (unique) primary index when you create a table &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if not group by statement, then all records as 1 group 
    if there is a aggregation function.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;be careful when you use the 
    &lt;code&gt;delete from table_name&lt;/code&gt; command, 
    as you might mistakely delete all rows 
    if you forget the &lt;code&gt;where&lt;/code&gt; clause or has an extra &lt;code&gt;;&lt;/code&gt; before ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sometimes you want add "missing" rows (compared to some "full" table). 
    the first step is of course to create such a full table, 
    and join the two tables to find "missing" rows&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Even if observations in a table is sorted, 
    you have to rely on the &lt;code&gt;order by&lt;/code&gt; clause to get sorted observations.
    That is the &lt;code&gt;select&lt;/code&gt; statement without &lt;code&gt;order by&lt;/code&gt; guarantees no specific order of observations.
    This is true for all versions of SQLs.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="syntax"&gt;Syntax&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;()&lt;/code&gt; can be used and sometimes make people confused ... function or keyword ...&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="operators"&gt;Operators&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Prefer &lt;code&gt;&amp;lt;&amp;gt;&lt;/code&gt; as the not equal sign as not all versions of SQL support &lt;code&gt;!=&lt;/code&gt; as the not equal sign.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;extra &lt;code&gt;;&lt;/code&gt; can be really dangerous ... &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="comment"&gt;Comment&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Amost all versions of SQL support &lt;code&gt;--&lt;/code&gt; as single-line comment.
    and &lt;code&gt;/* ... */&lt;/code&gt; as multiple-line comment.
    MySQL also support &lt;code&gt;#&lt;/code&gt; as single-line comment.&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SQL"></category><category term="tips"></category><category term="IDE"></category><category term="sqldep"></category><category term="queryscope"></category><category term="queryViz"></category><category term="eralchemy"></category><category term="database"></category></entry><entry><title>My List of Python Modules</title><link href="http://www.legendu.net/misc/blog/my-list-of-python-modules/" rel="alternate"></link><published>2019-07-19T00:33:35-07:00</published><updated>2019-07-19T00:33:35-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-07-19:/misc/blog/my-list-of-python-modules/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/vinta/awesome-python"&gt;Awesome Python&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/mahmoud/awesome-python-applications"&gt;Awesome Python Applications&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="data-science"&gt;Data Science&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;pandas: data frame.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;scipy: scientific computing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;numpy: multi-dimensional arrays, fundation of pandas and deep learning packages.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;re: regular expression&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="file-system"&gt;File System&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;shutil: copy, move and remove files.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;tempfile: create temporary files and directories.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;os: misc operating system interfaces.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;os.path: file path manipulations.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;loguru: logging made (stupidly) easy for Python. It is a much better alternative than the built-in logging module.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="python-developing-tools"&gt;Python Developing Tools&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://docs.python.org/3/library/venv.html"&gt;venv&lt;/a&gt;: create virtual environment.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;pytest&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;yapf&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;mypy&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;flake8, pylint&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="visualization"&gt;&lt;a href="http://www.legendu.net/misc/blog/python-modules-for-visualization/"&gt;Visualization&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="documentation-reporting"&gt;Documentation &amp;amp; Reporting&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;sphinx&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/mpastell/Pweave"&gt;Pweave&lt;/a&gt;: R knitr equivalence in Python.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="database"&gt;Database&lt;/h2&gt;
&lt;p&gt;http://www.legendu.net/misc/blog/odbc-vs-jdbc-in-python/&lt;/p&gt;
&lt;h2 id="datetime"&gt;Date/Time&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;datetime&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;monthdelta&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="high-performance-computing"&gt;&lt;a href="http://www.legendu.net/misc/blog/high-performance-computing-in-python/"&gt;High Performance Computing&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="command-line-arguments-parsing"&gt;Command-line Arguments Parsing&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;argparse: Parser for command-line options, arguments and sub-commands.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;curses&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="machine-learning"&gt;Machine Learning&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://scikit-learn.org/stable/"&gt;scikit-learn&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/Theano/Theano"&gt;theano&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="gui-application"&gt;GUI application&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;PyQt&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PySide&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="calling-shell"&gt;Calling Shell&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;os.system&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;subprocess: subprocess management.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="encryption"&gt;Encryption&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;gnupg&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;pycrypto&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="unit-testing"&gt;Unit Testing&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/pytest-dev/pytest"&gt;pytest&lt;/a&gt;: the best unit testing framework for Python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;unittest: built-in unit testing framework.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="networkgraph"&gt;Network/Graph&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/networkx/networkx"&gt;networkx/networkx&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/pydot/pydot"&gt;pydot/pydot&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/opusonesolutions/asciigraf"&gt;opusonesolutions/asciigraf&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://git.skewed.de/count0/graph-tool"&gt;count0/graph-tool&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/pydot/pydot"&gt;pydot/pydot&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="misc"&gt;Misc&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;inspect: check class, function definition and so on.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://wiki.python.org/moin/UsefulModules"&gt;https://wiki.python.org/moin/UsefulModules&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://freepythontips.wordpress.com/2013/07/30/20-python-libraries-you-cant-live-without/"&gt;20 Python libraries you can’t live without&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="programming"></category><category term="Python"></category><category term="module"></category><category term="package"></category></entry><entry><title>Unit Testing and Debugging Tools for Python</title><link href="http://www.legendu.net/misc/blog/unit-testing-debugging-python/" rel="alternate"></link><published>2019-07-16T23:41:33-07:00</published><updated>2019-07-16T23:41:33-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-07-16:/misc/blog/unit-testing-debugging-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/tdda/tdda"&gt;TDDA&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="pysnooper"&gt;&lt;a href="https://github.com/cool-RR/PySnooper"&gt;PySnooper&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;A poor man's tool for debugging which is much better than print.&lt;/p&gt;
&lt;h2 id="unittest-vs-pytest"&gt;unittest vs pytest&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;unitest&lt;/code&gt; is the official unit testing tool in Python
    and thus has better support and integration with other tools generally speaking. 
    However, 
    &lt;code&gt;pytest&lt;/code&gt; is more concise than unittest and makes unit testing more efficiency.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="doctest"&gt;Doctest&lt;/h2&gt;
&lt;h2 id="hypothesis"&gt;hypothesis&lt;/h2&gt;
&lt;h2 id="coverage"&gt;Coverage&lt;/h2&gt;
&lt;h2 id="mock-and-pytest-fixtures"&gt;Mock and pytest Fixtures&lt;/h2&gt;
&lt;h2 id="flake8-vs-mypy-vs-pylint"&gt;Flake8 vs MyPy vs pylint&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Flake8 focus on logical errors rather than stylistic errors.
    It strives to reduce false positives.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;mypy&lt;/code&gt; does the best on type hint.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;pylint&lt;/code&gt; performs deeper analysis and thus is slower.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;To sum up,
I'd try the tools in the following order
&lt;code&gt;Flake8 &amp;gt; mypy &amp;gt; pylint&lt;/code&gt;.&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="unit testing"></category><category term="debugging"></category><category term="command-line tools"></category><category term="development"></category><category term="dev"></category></entry><entry><title>Regular Expression in Python</title><link href="http://www.legendu.net/misc/blog/regular-expression-in-python/" rel="alternate"></link><published>2019-07-16T21:49:10-07:00</published><updated>2019-07-16T21:49:10-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-07-16:/misc/blog/regular-expression-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://regex101.com/"&gt;Online Regular Expression Tester&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;re.search vs pattern.search: no performance difference. 
  Python compiles and caches regular expression internally. 
  If …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://regex101.com/"&gt;Online Regular Expression Tester&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;re.search vs pattern.search: no performance difference. 
  Python compiles and caches regular expression internally. 
  If you have to given the pattern a nice name or if you don't copy the regular expression multiple times, then compile it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(?i) case-insensitive matching&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;re.match&lt;/code&gt; matches the regular expression pattern from the beginning of the string
    while &lt;code&gt;re.search&lt;/code&gt; matches the regular expression pattern anywhere in the string.
    Generally speaking &lt;code&gt;re.search&lt;/code&gt; is preferred over &lt;code&gt;re.match&lt;/code&gt;
    as it is more flexible.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Passing &lt;code&gt;re.DOTALL&lt;/code&gt; to the argument &lt;code&gt;flag&lt;/code&gt; makes the dot (&lt;code&gt;.&lt;/code&gt;) matches anything
    including a newline (by default the dot does not matches a newline).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Python"></category><category term="regex"></category><category term="regular expression"></category></entry><entry><title>Spark IO</title><link href="http://www.legendu.net/misc/blog/spark-io/" rel="alternate"></link><published>2019-07-08T23:28:03-07:00</published><updated>2019-07-08T23:28:03-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-07-08:/misc/blog/spark-io/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Do NOT read data from and write data to the same path in Spark!
  Due to lazy evaluation of Spark …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Do NOT read data from and write data to the same path in Spark!
  Due to lazy evaluation of Spark, 
  the path will likely be cleared before it's read into Spark,
  which will throw IO exceptions.
  And the worst part is that your data on HDFS is removed but recoverable.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you want to keep headers in the data,
    it is suggested that you use the Parquet format to save data for multiple reasons.
    It is fast, takes less space
    and you don't have to worry about duplicated headers encountered when merging CSV files with headers.
    There is no need to merge Parquet files.
    You can directly read in a folder of Parquet files in all kinds of programming languages,
    which is more convenient than a folder of CSV files.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Writing to existing files using &lt;code&gt;RDD.saveAsTextFile&lt;/code&gt; throws file already exist exception.
    This s because Hadoop filesystem does not overwrite files that already exist.
    &lt;code&gt;RDD.saveAsTextFile&lt;/code&gt; does not provide an option to manually overwrite existing files.
    To avoid the issue,
    you have to manually remove the existing file before writing to them.
    Of course,
    it is no longer suggested to use RDD directly any more in Spark.
    You use should DataFrame as much as possible.
    &lt;code&gt;DataFrame.write&lt;/code&gt; allows you to overwrite existing HDFS files via &lt;code&gt;DataFrame.write.option("overwrite")&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="readiness-of-data-on-hdfs"&gt;Readiness of Data on HDFS&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Data in a Hive table guarantees completeness
    which means that if you see data of a certain date in the table,
    the complete data is there.
    However, if you work with other format (Parquet, Avro, Sequence, etc.),
    you'd better check for data readiness before you use it.
    A simple way to do this is to check whether the &lt;code&gt;_SUCESS&lt;/code&gt; file exists in the same directory.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="parquet"&gt;Parquet&lt;/h2&gt;
&lt;p&gt;https://spark.apache.org/docs/latest/sql-data-sources-parquet.html#partition-discovery&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You have issues saving a DataFrame read in from Parquet to a CSV file.
    The reason is that Parquet support more complex data structures (e.g., array)
    which is not supported in CSV.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Shell-like syntax (curly brace, wildcard, etc.) of matching multiple files is supported in both the Scala API
    and the SQL API when querying files directly
    as long as it does cause CONFLICTING directory structure.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;s3a://dev/2017/01/{02,03}/data.parquet&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;session&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;read&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parquet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;spark&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;read&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parquet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;some_path/2019-02-10_05-38-11/SITE_NAME=*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;select&lt;/span&gt;
    &lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;
&lt;span class="k"&gt;from&lt;/span&gt;
    &lt;span class="n"&gt;parquet&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;`/&lt;/span&gt;&lt;span class="n"&gt;some_path&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2019&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="n"&gt;_05&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;38&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;SITE_NAME&lt;/span&gt;&lt;span class="o"&gt;=*`&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://spark.apache.org/docs/latest/sql-data-sources-parquet.html&lt;/p&gt;
&lt;p&gt;https://docs.databricks.com/spark/latest/data-sources/read-parquet.html&lt;/p&gt;
&lt;h2 id="file-format"&gt;File Format&lt;/h2&gt;
&lt;p&gt;avro offical support instead of databricks? simplest way to read avro into data frame?&lt;/p&gt;
&lt;p&gt;– Text – Sequence – Avro – Parquet – ORC&lt;/p&gt;
&lt;p&gt;Example orc file for me to read?&lt;/p&gt;
&lt;p&gt;spark: it seems that we must know the schema of sequence files ...&lt;/p&gt;
&lt;h2 id="rddsaveastextfile"&gt;RDD.saveAsTextFile&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;RDD.saveAsTextFile&lt;/code&gt; does not provide options to control the format of output files.
    You have to manually format the RDD to one containings string in the format that you want.
    For example,
    if rdd contains tuples and you want to output it into TSV files,
    you can format it first using the following code.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;rdd&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;map&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;productIterator&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mkString&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;\t&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It takes lots of for &lt;code&gt;hadoop fs -getmerge&lt;/code&gt;
    to extract and merge large number of compressed files.
    So it is suggested that you turn off compression
    when saving results into text files (using &lt;code&gt;saveAsTextFile&lt;/code&gt;)
    especially when there are huge number of partitions.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hadoopConfiguration&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;mapred.output.compress&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;false&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Spark"></category><category term="IO"></category><category term="compression"></category></entry><entry><title>Python Big Data</title><link href="http://www.legendu.net/misc/blog/python-big-data/" rel="alternate"></link><published>2019-07-08T22:23:18-07:00</published><updated>2019-07-08T22:23:18-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-07-08:/misc/blog/python-big-data/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="dask"&gt;Dask&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;You have to install the complete version of Dask using the command &lt;code&gt;pip3 install dask[complete]&lt;/code&gt;.
  The default installation …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="dask"&gt;Dask&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;You have to install the complete version of Dask using the command &lt;code&gt;pip3 install dask[complete]&lt;/code&gt;.
  The default installation version (&lt;code&gt;pip3 install dask&lt;/code&gt;) of Dask 
  does not support extended memory (for handling big data) and schedulers (for performance).&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="pyspark"&gt;PySpark&lt;/h2&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://www.dataquest.io/blog/pandas-big-data/&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="big data"></category><category term="Dask"></category><category term="PySpark"></category></entry><entry><title>Tools for Web Crawling</title><link href="http://www.legendu.net/misc/blog/tools-for-web-crawling/" rel="alternate"></link><published>2019-06-27T18:34:44-07:00</published><updated>2019-06-27T18:34:44-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-06-27:/misc/blog/tools-for-web-crawling/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="platforms"&gt;Platforms&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://scrapinghub.com/platform"&gt;ScrapingHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="libraries"&gt;Libraries&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://scrapy.org/"&gt;Scrapy&lt;/a&gt; (an open source web crawling and scraping tool written in Python)&lt;/li&gt;
&lt;li&gt;火车采集器&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.80legs.com/"&gt;80legs&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href="https://github.com/xchaoinfo/fuck-login"&gt;xchaoinfo/fuck-login&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="platforms"&gt;Platforms&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://scrapinghub.com/platform"&gt;ScrapingHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="libraries"&gt;Libraries&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://scrapy.org/"&gt;Scrapy&lt;/a&gt; (an open source web crawling and scraping tool written in Python)&lt;/li&gt;
&lt;li&gt;火车采集器&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.80legs.com/"&gt;80legs&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href="https://github.com/xchaoinfo/fuck-login"&gt;xchaoinfo/fuck-login&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="web crawling"></category><category term="web scraping"></category></entry><entry><title>SQL Logic Visualization</title><link href="http://www.legendu.net/misc/blog/sql-logic-visualization/" rel="alternate"></link><published>2019-06-27T18:31:29-07:00</published><updated>2019-06-27T18:31:29-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-06-27:/misc/blog/sql-logic-visualization/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/rm-hull/sql_graphviz"&gt;rm-hull/sql_graphviz&lt;/a&gt;
    is a small Pyton script that generates a Graphviz visualization of a SQL schema dump.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://app.sqldep.com/queryscope/#"&gt;sqldep - queryScope&lt;/a&gt;
    is …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/rm-hull/sql_graphviz"&gt;rm-hull/sql_graphviz&lt;/a&gt;
    is a small Pyton script that generates a Graphviz visualization of a SQL schema dump.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://app.sqldep.com/queryscope/#"&gt;sqldep - queryScope&lt;/a&gt;
    is a great online tool for visualizing logic of SQL code.
    You need to sign up in order to use this tool.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://queryviz.com/online/"&gt;queryViz&lt;/a&gt;
    is another online tool for visualizing logic of SQL code 
    but with very limited functionalities.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/Alexis-benoist/eralchemy"&gt;eralchemy&lt;/a&gt;
    is a a tool for visualizing entity relationship in a SQL database.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SQL"></category><category term="SQL Logic Visualization"></category><category term="sqldep"></category><category term="queryScope"></category><category term="queryViz"></category><category term="eralchemy"></category></entry><entry><title>Tips on Graph Database</title><link href="http://www.legendu.net/misc/blog/tips-on-graph-database/" rel="alternate"></link><published>2019-06-27T18:25:17-07:00</published><updated>2019-06-27T18:25:17-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-06-27:/misc/blog/tips-on-graph-database/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="vesoft-incnebula"&gt;&lt;a href="https://github.com/vesoft-inc/nebula"&gt;vesoft-inc/nebula&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;A high performance distributed Graph Database&lt;/p&gt;
&lt;h2 id="neo4jneo4j0httpsgithubcomneo4jneo4j0"&gt;[neo4j/neo4j]0https://github.com/neo4j/neo4j0&lt;/h2&gt;
&lt;p&gt;Neo4j is the world’s …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="vesoft-incnebula"&gt;&lt;a href="https://github.com/vesoft-inc/nebula"&gt;vesoft-inc/nebula&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;A high performance distributed Graph Database&lt;/p&gt;
&lt;h2 id="neo4jneo4j0httpsgithubcomneo4jneo4j0"&gt;[neo4j/neo4j]0https://github.com/neo4j/neo4j0&lt;/h2&gt;
&lt;p&gt;Neo4j is the world’s leading Graph Database. 
It is a high performance graph store with all the features expected of a mature and robust database, 
like a friendly query language and ACID transactions. 
The programmer works with a flexible network structure of nodes and relationships rather than static tables — yet enjoys all the benefits of enterprise-quality database. 
For many applications, Neo4j offers orders of magnitude performance benefits compared to relational DBs.&lt;/p&gt;</content><category term="programming"></category><category term="database"></category><category term="graph database"></category><category term="nebula"></category></entry><entry><title>Read Parquet Files in Python</title><link href="http://www.legendu.net/misc/blog/read-parquet-files-in-python/" rel="alternate"></link><published>2019-06-26T21:56:32-07:00</published><updated>2019-06-26T21:56:32-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-06-26:/misc/blog/read-parquet-files-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="read-in-parquet-files"&gt;Read in Parquet Files&lt;/h2&gt;
&lt;p&gt;It is suggested that you go with pyarrow.&lt;/p&gt;
&lt;h2 id="pyarrow"&gt;pyarrow&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo pip3 install pyarrow
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="fastparquet"&gt;fastparquet&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wajig install …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="read-in-parquet-files"&gt;Read in Parquet Files&lt;/h2&gt;
&lt;p&gt;It is suggested that you go with pyarrow.&lt;/p&gt;
&lt;h2 id="pyarrow"&gt;pyarrow&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo pip3 install pyarrow
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="fastparquet"&gt;fastparquet&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wajig install python3-snappy
pip3 install fastparquet 
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="write-a-dataframe-into-parquet-files"&gt;Write a DataFrame into Parquet Files&lt;/h2&gt;
&lt;p&gt;https://github.com/pandas-dev/pandas/issues/21228&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://spark.apache.org/docs/latest/sql-data-sources-parquet.html#partition-discovery&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="Parquet"></category><category term="pyarrow"></category><category term="fastparquet"></category></entry><entry><title>Run Commands on a Remote Machine</title><link href="http://www.legendu.net/misc/blog/run-commands-on-a-remote-machine/" rel="alternate"></link><published>2019-06-26T18:39:12-07:00</published><updated>2019-06-26T18:39:12-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-06-26:/misc/blog/run-commands-on-a-remote-machine/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="ssh"&gt;SSH&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The pipeline command is run locally.
    If you want the pipeline command to run remotely, 
    place the whole command …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="ssh"&gt;SSH&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The pipeline command is run locally.
    If you want the pipeline command to run remotely, 
    place the whole command to be run remotely in double/single quotes.
    For example, 
    the command below SSH into into a Hadoop client through a proxy configured by proxychains,
    prints the content of a text file and then count the number of lines in the file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;proxychains&lt;/span&gt; &lt;span class="n"&gt;ssh&lt;/span&gt; &lt;span class="n"&gt;client_ip&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;apache&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;hadoop&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;hdfs&lt;/span&gt; &lt;span class="n"&gt;dfs&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cat&lt;/span&gt; &lt;span class="n"&gt;adset_id&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adset_id_642&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;txt&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;wc&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;wc -l&lt;/code&gt; command is run locally instead of running on the Hadoop client.
Since proxychains prints out some information too, 
the &lt;code&gt;wc -l&lt;/code&gt; will over count the number of lines in the text file.
The correct way is count the number of lines on the Hadoop client instead of counting locally.
A simple way is to place the whole command to be run on the Hadoop client in double/singls quotes.
Below is an illustration.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;proxychains&lt;/span&gt; &lt;span class="n"&gt;ssh&lt;/span&gt; &lt;span class="n"&gt;client_ip&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/apache/hadoop/bin/hdfs dfs -cat adset_id/adset_id_642.txt | wc -l&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://stackoverflow.com/questions/305035/how-to-use-ssh-to-run-a-shell-script-on-a-remote-machine&lt;/p&gt;
&lt;h2 id="python"&gt;Python&lt;/h2&gt;
&lt;h3 id="paramikoparamiko"&gt;&lt;a href="https://github.com/paramiko/paramiko"&gt;paramiko/paramiko&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/paramiko/paramiko"&gt;paramiko/paramiko&lt;/a&gt;
is a pure Python implementation of SSHv2. 
It is a great tool to interact with a remote server in Python.&lt;/p&gt;
&lt;h3 id="parallel-ssh"&gt;&lt;a href="https://github.com/ParallelSSH/parallel-ssh"&gt;parallel-ssh&lt;/a&gt;&lt;/h3&gt;
&lt;h3 id="asyncssh"&gt;&lt;a href="https://github.com/ronf/asyncssh"&gt;asyncssh&lt;/a&gt;&lt;/h3&gt;
&lt;h3 id="fabric"&gt;&lt;a href="https://github.com/fabric/fabric/"&gt;fabric&lt;/a&gt;&lt;/h3&gt;
&lt;h3 id="ssh2-python"&gt;&lt;a href="https://github.com/ParallelSSH/ssh2-python"&gt;ssh2-python&lt;/a&gt;&lt;/h3&gt;
&lt;h3 id="sshtunnel"&gt;&lt;a href="https://github.com/pahaz/sshtunnel"&gt;sshtunnel&lt;/a&gt;&lt;/h3&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;http://vozis.blogspot.com/2015/01/python-sftp-with-paramiko-via-socks.html&lt;/p&gt;
&lt;p&gt;https://medium.com/@RyanHiebert/sftp-via-socks-proxy-using-paramiko-a736afe17b9e&lt;/p&gt;
&lt;p&gt;https://adimian.com/blog/2014/10/paramiko-and-corporate-proxies&lt;/p&gt;
&lt;p&gt;https://github.com/Anorov/PySocks&lt;/p&gt;
&lt;p&gt;https://github.com/paramiko/paramiko/pull/508&lt;/p&gt;
&lt;p&gt;https://gist.github.com/rubanm/5818236&lt;/p&gt;
&lt;p&gt;https://medium.com/@keagileageek/paramiko-how-to-ssh-and-file-transfers-with-python-75766179de73&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/10488832/how-to-ssh-over-http-proxy-in-python/33767220&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/28411960/execute-a-command-on-remote-machine-in-python&lt;/p&gt;
&lt;p&gt;https://python-for-system-administrators.readthedocs.io/en/latest/ssh.html&lt;/p&gt;</content><category term="programming"></category><category term="Shell"></category><category term="Python"></category><category term="SSH"></category></entry><entry><title>SQL Style and Formatter</title><link href="http://www.legendu.net/misc/blog/sql-style-and-formatter/" rel="alternate"></link><published>2019-06-26T07:47:37-07:00</published><updated>2019-06-26T07:47:37-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-06-26:/misc/blog/sql-style-and-formatter/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.jooq.org/translate/"&gt;SQL translation&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="sql-formatter"&gt;SQL Formatter&lt;/h2&gt;
&lt;p&gt;You can use online SQL formatters to help you format SQL queries.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.dpriver.com/pp/sqlformat.htm"&gt;Instant SQL Formatter&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://sqlformat.org/"&gt;SQLFormat …&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.jooq.org/translate/"&gt;SQL translation&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="sql-formatter"&gt;SQL Formatter&lt;/h2&gt;
&lt;p&gt;You can use online SQL formatters to help you format SQL queries.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.dpriver.com/pp/sqlformat.htm"&gt;Instant SQL Formatter&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://sqlformat.org/"&gt;SQLFormat&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.sql-format.com/"&gt;SQL Formatter&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You can also use the Python library 
&lt;a href="https://github.com/andialbrecht/sqlparse"&gt;andialbrecht/sqlparse&lt;/a&gt;
to help you format SQL queries.
It is actually the backend of &lt;a href="https://sqlformat.org/"&gt;SQLFormat&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sqlparse&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sp&lt;/span&gt;

&lt;span class="n"&gt;sql&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="s1"&gt;    select c1, c2 /* this is a comment */&lt;/span&gt;
&lt;span class="s1"&gt;    from t where c1 &amp;gt; 1&amp;quot;&lt;/span&gt;
&lt;span class="s1"&gt;    &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;sql_fmt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sql&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;keyword_case&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;upper&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;,&lt;/span&gt;
    &lt;span class="n"&gt;identifier_case&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;strip_comments&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;reindent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;indent_width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sql_fmt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="sql-style-and-formatting"&gt;SQL Style and Formatting&lt;/h2&gt;
&lt;p&gt;https://www.sqlstyle.guide/&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;||&lt;/code&gt; works differently on different date types. 
    This is because different data types have different (default) padding/formatting styles.
    You can manually cast date types to produce the format you want. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;some people like to put &lt;code&gt;,&lt;/code&gt; 
    before column names in select, 
    I don't think this is a good practices, 
    as what if we want to remove the first column? 
    it similarly inconvenient to removing the last column when put comma after column names&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/3310188/what-free-sql-formatting-tools-exist&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions/1394998/parsing-sql-with-python&lt;/p&gt;</content><category term="programming"></category><category term="SQL"></category><category term="SQL formatter"></category><category term="SQL style"></category></entry><entry><title>Spark Application Submission Is Not Finished</title><link href="http://www.legendu.net/misc/blog/spark-issue-application-submission-is-not-finished/" rel="alternate"></link><published>2019-06-22T19:45:56-07:00</published><updated>2019-06-22T19:45:56-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-06-22:/misc/blog/spark-issue-application-submission-is-not-finished/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="error-message"&gt;Error Message&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Application submission is not finished, submitted application application__1524215324275_0081 is still in ...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="image" src="https://user-images.githubusercontent.com/824507/57563475-447c7e00-7353-11e9-8421-4b51e58ef18d.png"&gt;&lt;/p&gt;
&lt;h2 id="possible-causes"&gt;Possible Causes&lt;/h2&gt;
&lt;p&gt;The Resource Manager needs to write too much data to ZooKeeper and hit the buffer limit.&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;Ask the Spark Cluster admin to increase the ZooKeeper buffer limit.&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="big data"></category><category term="issue"></category></entry><entry><title>Spark Issue Too Many Containers Asked</title><link href="http://www.legendu.net/misc/blog/spark-issue-too-many-containers-asked/" rel="alternate"></link><published>2019-06-22T19:44:53-07:00</published><updated>2019-06-22T19:44:53-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-06-22:/misc/blog/spark-issue-too-many-containers-asked/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="error-message"&gt;Error Message&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;org.apache.hadoop.yarn.exceptions.InvalidResourceRequestException: Too many containers asked, 16731530.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="image" src="https://user-images.githubusercontent.com/824507/57563512-99b88f80-7353-11e9-8993-aee9a302c209.png"&gt;&lt;/p&gt;
&lt;h2 id="possible-causes"&gt;Possible Causes&lt;/h2&gt;
&lt;p&gt;"Too many containers asked" is …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="error-message"&gt;Error Message&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;org.apache.hadoop.yarn.exceptions.InvalidResourceRequestException: Too many containers asked, 16731530.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="image" src="https://user-images.githubusercontent.com/824507/57563512-99b88f80-7353-11e9-8993-aee9a302c209.png"&gt;&lt;/p&gt;
&lt;h2 id="possible-causes"&gt;Possible Causes&lt;/h2&gt;
&lt;p&gt;"Too many containers asked" is a protection mechanism of the Resource Manager.
It might be triggered when dynamic allocation is enabled.&lt;/p&gt;
&lt;h2 id="solutions"&gt;Solutions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Disable Spark dynamic allocation.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;--conf spark.dynamicAllocation.enabled=false&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Limit Spark default parallelism (say, to 200).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;spark&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;default&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parallelism&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="big data"></category></entry><entry><title>Use Scala With Picocli</title><link href="http://www.legendu.net/misc/blog/use-scala-with-picocli/" rel="alternate"></link><published>2019-06-22T03:41:22-07:00</published><updated>2019-06-22T03:41:22-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-06-22:/misc/blog/use-scala-with-picocli/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It is easy to make mistakes due to type of parameters when use picocli in Scala.
It is suggested that …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It is easy to make mistakes due to type of parameters when use picocli in Scala.
It is suggested that you&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Have all parameters prepared before using them.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;manually specify types of arguments when preparing parameters.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Never use &lt;code&gt;args("some-parameters")&lt;/code&gt; directly. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Scala"></category><category term="JVM"></category><category term="picocli"></category><category term="command-line interface"></category><category term="command-line parser"></category></entry><entry><title>SQL Equivalent</title><link href="http://www.legendu.net/misc/blog/sql-equivalent/" rel="alternate"></link><published>2019-06-21T21:20:15-07:00</published><updated>2019-06-21T21:20:15-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-06-21:/misc/blog/sql-equivalent/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.jooq.org/translate/"&gt;SQL translation&lt;/a&gt;
is a great tool that transalte any SQL statement(s) to a different dialetc using the JOOQ Parser …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.jooq.org/translate/"&gt;SQL translation&lt;/a&gt;
is a great tool that transalte any SQL statement(s) to a different dialetc using the JOOQ Parser.&lt;/p&gt;
&lt;h2 id="show-tables"&gt;Show Tables&lt;/h2&gt;
&lt;h3 id="oracle-sql"&gt;Oracle SQL&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;List all tables owned by the current user.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;user_tables&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;List all tables in a database.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;dba_tables&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;List all tables accessible to the current user.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;all_tables&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="mysql"&gt;MySQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;show&lt;/span&gt; &lt;span class="n"&gt;tables&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To list all databases, in the MySQL prompt type:&lt;/p&gt;
&lt;p&gt;show databases&lt;/p&gt;
&lt;p&gt;Then choose the right database:&lt;/p&gt;
&lt;p&gt;use &lt;database-name&gt;&lt;/p&gt;
&lt;p&gt;List all tables in the database:&lt;/p&gt;
&lt;p&gt;show tables&lt;/p&gt;
&lt;p&gt;Describe a table:&lt;/p&gt;
&lt;p&gt;desc &lt;table-name&gt;&lt;/p&gt;
&lt;h3 id="sql-server"&gt;SQL Server&lt;/h3&gt;
&lt;p&gt;SQL Server 2005, 2008, 2012 or 2014:&lt;/p&gt;
&lt;p&gt;SELECT * FROM information_schema.tables WHERE TABLE_TYPE='BASE TABLE'&lt;/p&gt;
&lt;p&gt;To show only tables from a particular database&lt;/p&gt;
&lt;p&gt;SELECT TABLE_NAME FROM &lt;DATABASE_NAME&gt;.INFORMATION_SCHEMA.Tables WHERE TABLE_TYPE = 'BASE TABLE'&lt;/p&gt;
&lt;p&gt;Or,&lt;/p&gt;
&lt;p&gt;SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_CATALOG='dbName' --(for MySql, use: TABLE_SCHEMA='dbName' )&lt;/p&gt;
&lt;p&gt;PS: For SQL Server 2000:&lt;/p&gt;
&lt;p&gt;SELECT * FROM sysobjects WHERE xtype='U' &lt;/p&gt;
&lt;h2 id="display-table-schema"&gt;Display Table Schema&lt;/h2&gt;
&lt;h3 id="teradata-sql"&gt;Teradata SQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;or&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt; &lt;span class="k"&gt;column&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="orace-sql"&gt;Orace SQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;desc&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="mysql_1"&gt;MySQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;describe&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="drop-a-table-conditionally"&gt;Drop a Table Conditionally&lt;/h2&gt;
&lt;h3 id="microsoft-sql-server"&gt;Microsoft SQL Server&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;object_id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="k"&gt;not&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt; &lt;span class="k"&gt;drop&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="sas-proc-sql"&gt;SAS Proc SQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;proc&lt;/span&gt; &lt;span class="k"&gt;sql&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;drop&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;quit&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If the table does not exists, 
&lt;code&gt;proc sql&lt;/code&gt; throws an error but the remaining code can continue to run.
So this acts like a conditional drop. &lt;/p&gt;
&lt;h2 id="top-npercent-queries"&gt;Top N/Percent Queries&lt;/h2&gt;
&lt;h3 id="microsoft-sql-server_1"&gt;Microsoft SQL Server&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;-- select top 5 queries&lt;/span&gt;
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="n"&gt;top&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="c1"&gt;-- select top 50% queries&lt;/span&gt;
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="n"&gt;top&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt; &lt;span class="n"&gt;percent&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="sas-proc-sql_1"&gt;SAS Proc SQL&lt;/h3&gt;
&lt;h3 id="teradata-sql_1"&gt;Teradata SQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="n"&gt;top&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="oracle-sql_1"&gt;Oracle SQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="k"&gt;limit&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="mysql_2"&gt;MySQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="k"&gt;limit&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="sqlite"&gt;SQLite&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="k"&gt;limit&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="randomly-sample-100-queries"&gt;Randomly Sample 100 Queries&lt;/h2&gt;
&lt;h3 id="teradata-sql_2"&gt;Teradata SQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;sample&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Teradata also has the function &lt;code&gt;random&lt;/code&gt;, 
probably can do the same as SQLite ...&lt;/p&gt;
&lt;h3 id="sqlite_1"&gt;SQLite&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="k"&gt;order&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;limit&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="random-sample-with-acceptance-ratio-01"&gt;Random Sample with Acceptance Ratio 0.1&lt;/h2&gt;
&lt;h3 id="teradata-sql_3"&gt;Teradata SQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;sample&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="sqlite_2"&gt;SQLite&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that &lt;code&gt;random()&lt;/code&gt; generates a pseudo-random integer 
between -9223372036854775808 and +9223372036854775807. &lt;/p&gt;
&lt;h2 id="multiple-insert"&gt;Multiple Insert&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;You can always put multiple single insert statement together.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="oracle-sql_2"&gt;Oracle SQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;insert&lt;/span&gt; &lt;span class="k"&gt;into&lt;/span&gt; &lt;span class="n"&gt;pager&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;PAG_ID&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;PAG_PARENT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;PAG_NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;PAG_ACTIVE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="mi"&gt;8000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Multi 8000&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;dual&lt;/span&gt;
&lt;span class="k"&gt;union&lt;/span&gt; &lt;span class="k"&gt;all&lt;/span&gt; 
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="mi"&gt;8001&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Multi 8001&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;dual&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;INSERT&lt;/span&gt; &lt;span class="k"&gt;ALL&lt;/span&gt;
&lt;span class="k"&gt;INTO&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;col1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;col2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;col3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;VALUES&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;val1_1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;val1_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;val1_3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;INTO&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;col1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;col2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;col3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;VALUES&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;val2_1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;val2_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;val2_3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;INTO&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;col1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;col2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;col3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;VALUES&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;val3_1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;val3_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;val3_3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;DUAL&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="teradata-sql_4"&gt;Teradata SQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;insert&lt;/span&gt; &lt;span class="k"&gt;into&lt;/span&gt; &lt;span class="n"&gt;table1&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="k"&gt;First&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="k"&gt;Last&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;values&lt;/span&gt; 
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Fred&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Smith&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;John&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Smith&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Michael&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Smith&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Robert&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Smith&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="SQL"></category><category term="database"></category><category term="equivalent"></category><category term="querying"></category></entry><entry><title>Tips on Improving Spark Performance</title><link href="http://www.legendu.net/misc/blog/tips-on-improving-spark-performance/" rel="alternate"></link><published>2019-06-17T00:10:10-07:00</published><updated>2019-06-17T00:10:10-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-06-17:/misc/blog/tips-on-improving-spark-performance/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Prefer the method &lt;code&gt;reduceByKey&lt;/code&gt; over the method &lt;code&gt;groupByKey&lt;/code&gt; when aggregating a RDD object in Spark.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be cautious about the method …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Prefer the method &lt;code&gt;reduceByKey&lt;/code&gt; over the method &lt;code&gt;groupByKey&lt;/code&gt; when aggregating a RDD object in Spark.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be cautious about the method &lt;code&gt;RDD.collect&lt;/code&gt; as it retrieves all data in an RDD/DataFrame to the driver.
    This will likely cause an out-of-memory issue if the RDD/DataFrame is big.
    Even if not, 
    it will make your Spark application run slowly.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="data-serialization"&gt;Data Serialization&lt;/h2&gt;
&lt;p&gt;According to https://spark.apache.org/docs/latest/tuning.html#data-serialization,
Spark 2.0.0+ internally uses the Kryo serializer 
when shuffling RDDs with simple types, arrays of simple types, or string type 
and Spark automatically includes Kryo serializers for the many commonly-used core Scala classes 
covered in the AllScalaRegistrar from the Twitter chill library. 
So unless one uses customized classes inside RDD/DataFrame, 
there is little benefit to switch to kryo for serialization.
When you do use customized classes and/or complicated nested data structures in big DataFrames, 
you might want to consider using the Kryo serializer.&lt;/p&gt;
&lt;h2 id="joins"&gt;Joins&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Spark automatically decides which kind of joins (Broadcast Join, Sort Merge Join, Bucket Join) to perform. 
  Generally speaking,
  you should not change the default threshold for deciding which join to use.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do NOT split a medium sized table and boradcast each splitted part. 
  Just let Spark pick the right join (which will be the Sort Merge Join) in this case.
  Also notice that the splitting tricky might not work in non-inner joins.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make sure that keys to join in Spark DataFrames have the same type!
  When joining 2 large DataFrames in Spark, 
  Bucket Join is usually the best approach.
  However, 
  if the keys in the 2 DataFrame have inconsistent types 
  the bucket table will do a type cast 
  which makes Spark think the value of the original column is not enough resulting in Sort Merge Join (instead of Bucket Join).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="speculation"&gt;Speculation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Generally speaking, 
  it is not a good idea to turn on speculation in Spark. 
  The reason is that is is usually very tricky to define "slowness".
  There are 3 levels of time out: process -&amp;gt; node -&amp;gt; rack
  through &lt;code&gt;spark.locality.wait.&amp;lt;level_name&amp;gt;&lt;/code&gt;.
  The default setting is 3s in the global timeout setting (&lt;code&gt;spark.locality.wait&lt;/code&gt;)
  which is comparatively too short in shared computer clusters in many companies.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="udfs-vs-mapflatmap"&gt;UDFs vs map/flatMap&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Most spark operations are column-oriented. 
  If you want to do some operation that is hard to expression as column expressions
  but is rather very easy to express as row expressions,
  you can either use UDFs or the &lt;code&gt;map&lt;/code&gt;/&lt;code&gt;flatMap&lt;/code&gt; methods.
  Currently, 
  the methods &lt;code&gt;map&lt;/code&gt;/&lt;code&gt;flatMap&lt;/code&gt; of DataFrame are still experimental
  so you'd use UDFs at this time.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="when-to-reshuffle"&gt;When to Reshuffle&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Situations (e.g., merging small files or splitting huge files) that requires explicitly increasing or decreasing the number of RDD partiitons.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Before multiple bucket joins, it is usually benefical to repartition DataFrames by the same key.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href="https://databricks.com/blog/2017/08/31/cost-based-optimizer-in-apache-spark-2-2.html"&gt;Cost Based Optimizer in Apache Spark 2.2&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://spark.apache.org/docs/latest/tuning.html"&gt;Tuning Spark&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/databricks/spark-knowledgebase&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="performance"></category><category term="tuning"></category></entry><entry><title>Tips on Spark MLlib</title><link href="http://www.legendu.net/misc/blog/tips-on-spark-mllib/" rel="alternate"></link><published>2019-06-16T23:45:42-07:00</published><updated>2019-06-16T23:45:42-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-06-16:/misc/blog/tips-on-spark-mllib/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Spark MLlib RDD-based API supports 
    &lt;a href="https://spark.apache.org/docs/latest/mllib-statistics.html#stratified-sampling"&gt;stratified sampling&lt;/a&gt;
    but the DataFrame-based API hasn't implemented it yet as of Spark 2.4 …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Spark MLlib RDD-based API supports 
    &lt;a href="https://spark.apache.org/docs/latest/mllib-statistics.html#stratified-sampling"&gt;stratified sampling&lt;/a&gt;
    but the DataFrame-based API hasn't implemented it yet as of Spark 2.4.3.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;sample keys (not rows) with equal probability&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://spark.apache.org/docs/latest/ml-guide.html&lt;/p&gt;
&lt;p&gt;https://spark.apache.org/docs/latest/ml-statistics.html&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="big data"></category><category term="MLlib"></category><category term="machine learning"></category><category term="AI"></category></entry><entry><title>Python Poetry Tips</title><link href="http://www.legendu.net/misc/blog/python-poetry-tips/" rel="alternate"></link><published>2019-06-15T19:09:53-07:00</published><updated>2019-06-15T19:09:53-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-06-15:/misc/blog/python-poetry-tips/</id><summary type="html">&lt;p&gt;**
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://poetry.eustace.io/docs/"&gt;Poetry Documentation&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="usage"&gt;Usage&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;poetry new proj
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;poetry init
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="updating-poetry"&gt;Updating poetry&lt;/h2&gt;
&lt;p&gt;Updating poetry to the latest stable version is as simple …&lt;/p&gt;</summary><content type="html">&lt;p&gt;**
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://poetry.eustace.io/docs/"&gt;Poetry Documentation&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="usage"&gt;Usage&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;poetry new proj
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;poetry init
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="updating-poetry"&gt;Updating poetry&lt;/h2&gt;
&lt;p&gt;Updating poetry to the latest stable version is as simple as calling the self:update command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;poetry self:update
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you want to install prerelease versions, you can use the --preview option.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;poetry self:update --preview
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;https://codingdose.info/2018/08/02/develop-and-publish-with-poetry/&lt;/p&gt;
&lt;p&gt;https://hackersandslackers.com/poetic-python-project-packaging/&lt;/p&gt;
&lt;h2 id="user-tasks"&gt;User Tasks&lt;/h2&gt;
&lt;p&gt;https://github.com/sdispater/poetry/pull/591&lt;/p&gt;
&lt;p&gt;https://github.com/sdispater/poetry/issues/241&lt;/p&gt;
&lt;h2 id="python-version"&gt;Python Version&lt;/h2&gt;
&lt;p&gt;Poetry supports the &lt;code&gt;env&lt;/code&gt; subcomamnd starting from version 1.0.0.
You can use &lt;code&gt;poetry env use python_version&lt;/code&gt; to specify the Python version to use for the project.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;poetry env use python3
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="activate-virtual-environment"&gt;Activate Virtual Environment&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;poetry shell&lt;/code&gt; does not activate virtual environment currently, 
which is a bug. 
However, 
one alternative is to run the following command (starting from poetry 1.0.0beta2).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;source&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;poetry env info -p&lt;span class="k"&gt;)&lt;/span&gt;/bin/activate
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://github.com/sdispater/poetry/issues/522&lt;/p&gt;
&lt;p&gt;https://github.com/sdispater/poetry/issues/655&lt;/p&gt;
&lt;p&gt;https://github.com/sdispater/poetry/issues/621&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="poetry"></category><category term="build tool"></category><category term="dependency management"></category></entry><entry><title>Deep Learning Tools and Apps</title><link href="http://www.legendu.net/misc/blog/deep-learning-tools-and-apps/" rel="alternate"></link><published>2019-05-21T01:31:55-07:00</published><updated>2019-05-21T01:31:55-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-21:/misc/blog/deep-learning-tools-and-apps/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.imageidentify.com/&lt;/p&gt;
&lt;h2 id="neural-style-transfer-applications"&gt;Neural Style Transfer Applications&lt;/h2&gt;
&lt;p&gt;DeepArt&lt;/p&gt;
&lt;p&gt;Prisma&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.imageidentify.com/&lt;/p&gt;
&lt;h2 id="neural-style-transfer-applications"&gt;Neural Style Transfer Applications&lt;/h2&gt;
&lt;p&gt;DeepArt&lt;/p&gt;
&lt;p&gt;Prisma&lt;/p&gt;</content><category term="programming"></category><category term="deep learning"></category><category term="tools"></category><category term="applications"></category></entry><entry><title>Computer Science Algorithms</title><link href="http://www.legendu.net/misc/blog/computer-science-algorithms/" rel="alternate"></link><published>2019-05-20T23:32:49-07:00</published><updated>2019-05-20T23:32:49-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-20:/misc/blog/computer-science-algorithms/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://leetcode.com/&lt;/p&gt;
&lt;p&gt;https://github.com/TheAlgorithms/Python&lt;/p&gt;
&lt;h2 id="specific-ones"&gt;Specific Ones&lt;/h2&gt;
&lt;p&gt;https://en.wikipedia.org/wiki/Viterbi_algorithm&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://leetcode.com/&lt;/p&gt;
&lt;p&gt;https://github.com/TheAlgorithms/Python&lt;/p&gt;
&lt;h2 id="specific-ones"&gt;Specific Ones&lt;/h2&gt;
&lt;p&gt;https://en.wikipedia.org/wiki/Viterbi_algorithm&lt;/p&gt;</content><category term="programming"></category><category term="computer science algorithms"></category><category term="leetcode"></category></entry><entry><title>PyPDF2 Examples</title><link href="http://www.legendu.net/misc/blog/pypdf2-examples/" rel="alternate"></link><published>2019-05-20T19:10:07-07:00</published><updated>2019-05-20T19:10:07-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-20:/misc/blog/pypdf2-examples/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;PyPDF2&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;PdfFileWriter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;PdfFileReader&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;typing&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;List&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Mapping&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Sequence&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;extract_pages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;subfiles&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Mapping&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Sequence&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;int …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;PyPDF2&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;PdfFileWriter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;PdfFileReader&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;typing&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;List&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Mapping&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Sequence&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;extract_pages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;subfiles&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Mapping&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Sequence&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;fin&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;rb&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;reader&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PdfFileReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fin&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;indexes&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;subfiles&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="n"&gt;_extract_pages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;indexes&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;fin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_extract_pages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;PdfFileReader&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;indexes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Sequence&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;writer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PdfFileWriter&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;indexes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;writer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;addPage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getPage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;wb&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;fout&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;writer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fout&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Extract pages 0-3 as &lt;code&gt;tod.pdf&lt;/code&gt;, page 4 as &lt;code&gt;loi.pdf&lt;/code&gt; and pages 5-15 as &lt;code&gt;cia.pdf&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;subfiles&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="s1"&gt;&amp;#39;tod.pdf&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
  &lt;span class="s1"&gt;&amp;#39;loi.pdf&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
  &lt;span class="s1"&gt;&amp;#39;cia.pdf&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;extract_pages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;scan.pdf&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;subfiles&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/490195/split-a-multi-page-pdf-file-into-multiple-pdf-files-with-python&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="PyPDF2"></category><category term="example"></category></entry><entry><title>Online Tools for Popular Programming Languages</title><link href="http://www.legendu.net/misc/blog/Free%20Online%20Tools%20for%20Developers/" rel="alternate"></link><published>2019-05-17T19:20:44-07:00</published><updated>2019-05-17T19:20:44-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-05-17:/misc/blog/Free Online Tools for Developers/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://insights.stackoverflow.com/trends"&gt;StackOverflow Tends&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/ripienaar/free-for-dev"&gt;ripienaar/free-for-dev&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://undraw.co/"&gt;UnDraw&lt;/a&gt; offers free to use pictures for web desgin, etc.&lt;/p&gt;
&lt;h2 id="answer-engine"&gt;Answer Engine&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.wolframalpha.com/"&gt;Wolfram Alpha&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="online-compilers-and-interpreters"&gt;Online Compilers …&lt;/h2&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://insights.stackoverflow.com/trends"&gt;StackOverflow Tends&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/ripienaar/free-for-dev"&gt;ripienaar/free-for-dev&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://undraw.co/"&gt;UnDraw&lt;/a&gt; offers free to use pictures for web desgin, etc.&lt;/p&gt;
&lt;h2 id="answer-engine"&gt;Answer Engine&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.wolframalpha.com/"&gt;Wolfram Alpha&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="online-compilers-and-interpreters"&gt;Online Compilers and Interpreters&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://ideone.com/"&gt;IDEONE&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="online-regular-editors"&gt;Online Regular Editors&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://regex101.com/"&gt;Regular Expression 101&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.hongkiat.com/blog/regular-expression-tools-resources/"&gt;Regular Expression: Tools and Resources&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="data-base"&gt;Data Base&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://json.parser.online.fr/"&gt;Json Parser Online&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="tex-tools"&gt;Tex Tools&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.onemathematicalcat.org/MathJaxDocumentation/TeXSyntax.htm"&gt;Tex Commands Available in MathJax&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="programming"></category><category term="regex"></category><category term="regular expression"></category><category term="online"></category></entry><entry><title>High Performance Computing in Python</title><link href="http://www.legendu.net/misc/blog/high-performance-computing-in-python/" rel="alternate"></link><published>2019-05-17T15:03:06-07:00</published><updated>2019-05-17T15:03:06-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-05-17:/misc/blog/high-performance-computing-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;First of all,
make sure that you have read 
&lt;a href="https://wiki.python.org/moin/PythonSpeed/PerformanceTips"&gt;Python Performance Tips&lt;/a&gt;.
However,
keep in mind that some of the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;First of all,
make sure that you have read 
&lt;a href="https://wiki.python.org/moin/PythonSpeed/PerformanceTips"&gt;Python Performance Tips&lt;/a&gt;.
However,
keep in mind that some of the tips might be outdated.&lt;/p&gt;
&lt;h2 id="python-profilers"&gt;&lt;a href="https://docs.python.org/3/library/profile.html"&gt;Python Profilers&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://docs.python.org/3/library/profile.html#module-cProfile"&gt;cprofile&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="mars"&gt;&lt;a href="https://github.com/mars-project/mars"&gt;mars&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="apache-ray"&gt;&lt;a href="https://github.com/ray-project/ray"&gt;Apache Ray&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="modin-projectmodin"&gt;&lt;a href="https://github.com/modin-project/modin"&gt;modin-project/modin&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Notice that modin leverages the Apache Ray project.&lt;/p&gt;
&lt;h2 id="dask"&gt;Dask&lt;/h2&gt;
&lt;h2 id="numba"&gt;Numba&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;numba should be the first thing to try, minimum effort, can probably increase the performance to what you need&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;need to install llvm&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="cython"&gt;Cython&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;cython, close to python implementation but close to C speed&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;cython3 ma.pyx
gcc -shared -pthread -fPIC -fwrapv -O2 -Wall -fno-strict-aliasing -I/usr/include/python3.5 -o ma.so ma.c&lt;/p&gt;
&lt;h2 id="pybind11"&gt;pybind11&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;pybind11/pybind11.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;pybind11/stl.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;#include &amp;lt;pybind11/stl.sh&amp;gt;&lt;/code&gt; is for auto type conversion of STL.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;g++ -O2 -shared -std&lt;span class="o"&gt;=&lt;/span&gt;c++11 -I/usr/local/include/python3.5 -I/usr/include/python3.5m -fPIC ma_cpp.cpp -o macpp.so
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;PYBIND11_PLUGIN&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ma_cpp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;PYBIND11_PLUGIN&lt;/code&gt; defines the module name and the compiled shared object must use this name.&lt;/p&gt;
&lt;p&gt;The cppimport package makes things easy.
Don't forget to use the following setup
when using cppimport.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;%&lt;/span&gt;
&lt;span class="n"&gt;setup_pybind11&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cfg&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;%&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="pycuda-pygpu"&gt;PyCUDA &amp;amp; PyGPU&lt;/h2&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/582336/how-can-you-profile-a-python-script&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="HPC"></category><category term="high performance computing"></category><category term="pybind11"></category><category term="numba"></category><category term="Cython"></category><category term="mars"></category><category term="Apache Ray"></category></entry><entry><title>Clean Temporary Files on Linux</title><link href="http://www.legendu.net/misc/blog/clean-temporary-files-on-linux/" rel="alternate"></link><published>2019-05-14T01:44:38-07:00</published><updated>2019-05-14T01:44:38-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-14:/misc/blog/clean-temporary-files-on-linux/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="apt-get"&gt;apt-get&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;get&lt;/span&gt; &lt;span class="n"&gt;autoremove&lt;/span&gt;
&lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;get&lt;/span&gt; &lt;span class="n"&gt;clean&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;https://askubuntu.com/questions/3167/what-is-difference-between-the-options-autoclean-autoremove-and-clean&lt;/p&gt;
&lt;h2 id="pip-caching"&gt;pip Caching&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;use &lt;code&gt;--no-cache-dir&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The sub command …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="apt-get"&gt;apt-get&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;get&lt;/span&gt; &lt;span class="n"&gt;autoremove&lt;/span&gt;
&lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;get&lt;/span&gt; &lt;span class="n"&gt;clean&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;https://askubuntu.com/questions/3167/what-is-difference-between-the-options-autoclean-autoremove-and-clean&lt;/p&gt;
&lt;h2 id="pip-caching"&gt;pip Caching&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;use &lt;code&gt;--no-cache-dir&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The sub command &lt;code&gt;pip cache&lt;/code&gt; is under developing&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://pip.pypa.io/en/stable/reference/pip_install/#caching&lt;/p&gt;
&lt;h2 id="npm"&gt;npm&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;npm&lt;/span&gt; &lt;span class="k"&gt;cache&lt;/span&gt; &lt;span class="n"&gt;clean&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;https://docs.npmjs.com/cli/cache.html&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Column/Row Expressions in Spark</title><link href="http://www.legendu.net/misc/blog/column-row-expressions-in-spark/" rel="alternate"></link><published>2019-05-13T22:00:28-07:00</published><updated>2019-05-13T22:00:28-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-13:/misc/blog/column-row-expressions-in-spark/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Spark DataFrame is an alias to Dataset[Row].
Even though a Spark DataFrame is stored as Rows in a Dataset …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Spark DataFrame is an alias to Dataset[Row].
Even though a Spark DataFrame is stored as Rows in a Dataset,
built-in operations/functions (in org.apache.spark.sql.functions) for Spark DataFrame are Column-based.
Sometimes, 
there might be transformations on a DataFrame that is hard to express as Column expressions
but rather evey convenient to express as Row expressions. 
The traditional way to resolve this issue is to wrap the row-based function into a UDF.
It's worthing knowing that Spark DataFrame supports map/flatMap APIs 
which works on Rows. 
They are still experimental as Spark 2.4.3.&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="big data"></category><category term="Column"></category><category term="Row"></category><category term="Dataset"></category><category term="map"></category><category term="flatMap"></category></entry><entry><title>Apache Toree Tips</title><link href="http://www.legendu.net/misc/blog/apache-toree-tips/" rel="alternate"></link><published>2019-05-13T19:54:22-07:00</published><updated>2019-05-13T19:54:22-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-05-13:/misc/blog/apache-toree-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/apache/incubator-toree/blob/master/etc/examples/notebooks/magic-tutorial.ipynb"&gt;https://github.com/apache/incubator-toree/blob/master/etc/examples/notebooks/magic-tutorial.ipynb&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;anaconda3/bin/jupyter toree install --user --spark_home&lt;span class="o"&gt;=&lt;/span&gt;/apache …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/apache/incubator-toree/blob/master/etc/examples/notebooks/magic-tutorial.ipynb"&gt;https://github.com/apache/incubator-toree/blob/master/etc/examples/notebooks/magic-tutorial.ipynb&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;anaconda3/bin/jupyter toree install --user --spark_home&lt;span class="o"&gt;=&lt;/span&gt;/apache/spark
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="dependency-managemnt"&gt;Dependency Managemnt&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;%AddJar jar_url&lt;/span&gt;
&lt;span class="c"&gt;%AddDeps&lt;/span&gt;
&lt;span class="n"&gt;printHelp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;printStream&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &amp;quot;&amp;quot;&amp;quot;&lt;span class="c"&gt;%AddDeps my.company artifact-id version&amp;quot;&amp;quot;&amp;quot;)&lt;/span&gt;


&lt;span class="c"&gt;%AddDeps com.databricks spark-csv_2.10 1.2.0 --transitive&lt;/span&gt;

&lt;span class="n"&gt;kernel&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;magics&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;addDeps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&amp;quot;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;databricks&lt;/span&gt; &lt;span class="n"&gt;spark&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;csv_2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="mf"&gt;1.2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;transitive&lt;/span&gt;&amp;quot;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="c"&gt;%AddDeps org.apache.spark spark-mllib_2.10 1.6.2&lt;/span&gt;
&lt;span class="c"&gt;%AddDeps com.github.haifengl smile-core 1.1.0 --transitive&lt;/span&gt;
&lt;span class="c"&gt;%AddDeps io.reactivex rxscala_2.10 0.26.1 --transitive&lt;/span&gt;
&lt;span class="c"&gt;%AddDeps com.chuusai shapeless_2.10 2.3.0 --repository https://oss.sonatype.org/content/repositories/releases/&lt;/span&gt;
&lt;span class="c"&gt;%AddDeps org.tmoerman plongeur-spark_2.10 0.3.9 --repository file:/Users/tmo/.m2/repository&lt;/span&gt;


&lt;span class="c"&gt;%AddDeps &amp;quot;graphframes&amp;quot; % &amp;quot;graphframes&amp;quot; % &amp;quot;0.1.0-spark1.6&amp;quot; --repository http://dl.bintray.com/spark-packages/maven&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Currently it supports only https://repo1.maven.org/maven2/, but not all projects deploy there.&lt;/p&gt;
&lt;h2 id="questions"&gt;Questions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;multiple version of Scala? How?&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Apache Toree"></category><category term="Jupyter Notebook"></category><category term="JupyterLab"></category><category term="Jupyter Lab"></category><category term="Spark"></category></entry><entry><title>Tips on GitPython</title><link href="http://www.legendu.net/misc/blog/tips-on-gitpython/" rel="alternate"></link><published>2019-05-12T13:27:21-07:00</published><updated>2019-05-12T13:27:21-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-12:/misc/blog/tips-on-gitpython/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="changes-files"&gt;Changes Files&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;git&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Repo&lt;/span&gt;
&lt;span class="n"&gt;repo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Repo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;files_changed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a_path&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;repo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;diff&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="staged-files"&gt;Staged Files …&lt;/h2&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="changes-files"&gt;Changes Files&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;git&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Repo&lt;/span&gt;
&lt;span class="n"&gt;repo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Repo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;files_changed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a_path&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;repo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;diff&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="staged-files"&gt;Staged Files&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;git&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Repo&lt;/span&gt;
&lt;span class="n"&gt;repo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Repo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;files_changed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a_path&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;repo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;diff&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;HEAD&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://github.com/gitpython-developers/GitPython&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/33733453/get-changed-files-using-gitpython&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/31959425/how-to-get-staged-files-using-gitpython&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="Git"></category><category term="GitPython"></category><category term="tips"></category></entry><entry><title>PyQt5 Tips</title><link href="http://www.legendu.net/misc/blog/pyqt5-tips/" rel="alternate"></link><published>2019-05-12T11:12:42-07:00</published><updated>2019-05-12T11:12:42-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-12:/misc/blog/pyqt5-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.youtube.com/watch?v=0wAU5usATX8&lt;/p&gt;
&lt;h2 id="examples"&gt;Examples&lt;/h2&gt;
&lt;p&gt;https://github.com/mfitzp/15-minute-apps&lt;/p&gt;
&lt;h2 id="good-tutorials"&gt;Good Tutorials&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/playlist?list=PL1FgJUcJJ03uwFW8ys2ov2dffKs3ieGYk"&gt;PyQt5 GUI Programming with Python …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.youtube.com/watch?v=0wAU5usATX8&lt;/p&gt;
&lt;h2 id="examples"&gt;Examples&lt;/h2&gt;
&lt;p&gt;https://github.com/mfitzp/15-minute-apps&lt;/p&gt;
&lt;h2 id="good-tutorials"&gt;Good Tutorials&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/playlist?list=PL1FgJUcJJ03uwFW8ys2ov2dffKs3ieGYk"&gt;PyQt5 GUI Programming with Python 3.6&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://zetcode.com/gui/pyqt5/"&gt;PyQt5 tutorial&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://pythonspot.com/pyqt5/"&gt;PyQt5&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mfitzp/15-minute-apps"&gt;15 minute (small) desktop apps built with PyQt&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/6236323/whats-the-suitable-widget-in-pyqt-to-create-a-floating-widget-on-the-desktop&lt;/p&gt;</content><category term="programming"></category><category term="PyQt5"></category><category term="GUI"></category><category term="Python"></category><category term="Qt5"></category></entry><entry><title>Use Qt in Python</title><link href="http://www.legendu.net/misc/blog/qt-in-python/" rel="alternate"></link><published>2019-05-12T11:12:42-07:00</published><updated>2019-05-12T11:12:42-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-05-12:/misc/blog/qt-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="pyqt5-vs-pyside2"&gt;PyQt5 vs PySide2&lt;/h2&gt;
&lt;p&gt;https://www.reddit.com/r/Qt5/comments/a3zt3j/eli5_pyqt5_pyside2_which_one_to_use/&lt;/p&gt;
&lt;p&gt;Both PyQt5 (developed by Riverbank) and PySide2 (official …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="pyqt5-vs-pyside2"&gt;PyQt5 vs PySide2&lt;/h2&gt;
&lt;p&gt;https://www.reddit.com/r/Qt5/comments/a3zt3j/eli5_pyqt5_pyside2_which_one_to_use/&lt;/p&gt;
&lt;p&gt;Both PyQt5 (developed by Riverbank) and PySide2 (official Python bindings from Qt) are great.
They have very similar APIs.
However,
PySide2 has a more friendly LGPL licence.
Personally,
I prefer PySide2.&lt;/p&gt;
&lt;h2 id="installation"&gt;Installation&lt;/h2&gt;
&lt;h3 id="pyside2"&gt;PySide2&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;PySide2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="pyqt5"&gt;PyQt5&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;PyQt5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/baoboa/pyqt5"&gt;PyQt5 GitHub Repository&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/baoboa/pyqt5/tree/master/examples"&gt;PyQt5 Examples&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="git-repository-of-pyside2"&gt;Git Repository of PySide2&lt;/h2&gt;
&lt;p&gt;git clone git://code.qt.io/pyside/pyside-setup.git&lt;/p&gt;
&lt;h2 id="pyqt"&gt;PyQt&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;QtCore&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QCoreApplication&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;instance&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;quit&lt;/span&gt;
&lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="n"&gt;vs&lt;/span&gt;
&lt;span class="n"&gt;QtGui&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;qApp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;quit&lt;/span&gt; &lt;span class="n"&gt;vs&lt;/span&gt; &lt;span class="n"&gt;QtGui&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QMainWindow&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;self&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;close&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="tutorial"&gt;Tutorial&lt;/h2&gt;
&lt;p&gt;https://build-system.fman.io/python-qt-tutorial&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Qt_for_Python_Tutorial_HelloWorld&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Qt_for_Python_Tutorial_HelloQML&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Qt_for_Python_Tutorial_HelloQMessageBox&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Qt_for_Python_Tutorial_ClickableButton&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Qt_for_Python_Tutorial_SimpleDialog&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Qt_for_Python_Tutorial:_Data_Visualization_Tool&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Qt_for_Python_Signals_and_Slots&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Qt_for_Python_UsingQtProperties&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Qt_for_Python_DBusIntegration&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Qt_for_Python_UiFiles&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://www.qt.io/qt-for-python&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Qt_for_Python/Tutorial&lt;/p&gt;
&lt;p&gt;https://wiki.qt.io/Differences_Between_PySide_and_PyQt&lt;/p&gt;
&lt;p&gt;http://zetcode.com/gui/pyqt4/firstprograms/&lt;/p&gt;
&lt;p&gt;http://openbookproject.net/thinkcs/python/english3e/events.html&lt;/p&gt;</content><category term="programming"></category><category term="GUI"></category><category term="Python"></category><category term="QT"></category><category term="PyQT5"></category><category term="PySide2"></category></entry><entry><title>Spark Issue Invalidinputexception for Some Hive Data Partiions</title><link href="http://www.legendu.net/misc/blog/spark-issue-InvalidInputException-for-some-Hive-data-partiions/" rel="alternate"></link><published>2019-05-11T02:50:52-07:00</published><updated>2019-05-11T02:50:52-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-11:/misc/blog/spark-issue-InvalidInputException-for-some-Hive-data-partiions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;15/12/29 17:22:27 ERROR yarn.ApplicationMaster: User class threw exception: org.apache.hadoop.mapred.InvalidInputException: Input path …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;15/12/29 17:22:27 ERROR yarn.ApplicationMaster: User class threw exception: org.apache.hadoop.mapred.InvalidInputException: Input path does not exist.
org.apache.hadoop.mapred.InvalidInputException: Input path does not exist.
at org.apache.hadoop.mapred.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:285)
at org.apache.hadoop.mapred.FileInputFormat.listStatus(FileInputFormat.java:228)
at org.apache.hadoop.mapred.SequenceFileInputFormat.listStatus(SequenceFileInputFormat.java:45)
at org.apache.hadoop.mapred.FileInputFormat.getSplits(FileInputFormat.java:304)
at org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:207)&lt;/p&gt;
&lt;h2 id="cause"&gt;Cause&lt;/h2&gt;
&lt;p&gt;For some reason the HDFS path registered in the Hive meta store 
does not exist in the physical path - (Infra team should take care of this)&lt;/p&gt;
&lt;p&gt;Solution: add this 'hidden' parameter to the submit job to force check the path&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;--conf spark.sql.hive.verifyPartitionPath=true&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="big data"></category></entry><entry><title>Spark Issue Data Skew on Shuffle Phase</title><link href="http://www.legendu.net/misc/blog/spark-issue-data-skew-on-shuffle-phase/" rel="alternate"></link><published>2019-05-11T02:50:52-07:00</published><updated>2019-05-11T02:50:52-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-11:/misc/blog/spark-issue-data-skew-on-shuffle-phase/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symptom"&gt;Symptom&lt;/h2&gt;
&lt;p&gt;org.apache.spark.shuffle.FetchFailedException: Too large frame: 2200180718
Caused by: java.lang.IllegalArgumentException: Too large frame: 2200289525
at …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symptom"&gt;Symptom&lt;/h2&gt;
&lt;p&gt;org.apache.spark.shuffle.FetchFailedException: Too large frame: 2200180718
Caused by: java.lang.IllegalArgumentException: Too large frame: 2200289525
at org.spark_project.guava.base.Preconditions.checkArgument(Preconditions.java:119)&lt;/p&gt;
&lt;h2 id="reason"&gt;Reason&lt;/h2&gt;
&lt;p&gt;There is data skew in some column(s).&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;split and broadcast&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;add another random column to help reduce skew&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;joinWithoutSkew&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nl"&gt;df1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;df2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;joinCols&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="k"&gt;Array&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Column&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;duplicationNum&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nc"&gt;Int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;DateFrame&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;df1: bigtable, append random num to the join columns. keep the row count no change.
df2: smalltable, duplicate df2 by duplicationNum times and got df2Duplicate, 
df2Duplicate.count = df2.count * duplicationNum
append random num to the join columns.
joinCols: the joinCols to be join on
duplicationNum: duplication nums of df2&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category></entry><entry><title>Spark Issue: Executor Out of Memory When Running Large Table Join</title><link href="http://www.legendu.net/misc/blog/spark-issue-executor-out-of-memory-when-running-large-table-join/" rel="alternate"></link><published>2019-05-11T02:50:52-07:00</published><updated>2019-05-11T02:50:52-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-11:/misc/blog/spark-issue-executor-out-of-memory-when-running-large-table-join/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symptom"&gt;Symptom&lt;/h2&gt;
&lt;h3 id="symptom-1"&gt;Symptom 1&lt;/h3&gt;
&lt;p&gt;16/04/22 04:27:18 WARN yarn.YarnAllocator: Container marked as failed: container_1459803563374_223497_02_000067 on host.
Exit …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symptom"&gt;Symptom&lt;/h2&gt;
&lt;h3 id="symptom-1"&gt;Symptom 1&lt;/h3&gt;
&lt;p&gt;16/04/22 04:27:18 WARN yarn.YarnAllocator: Container marked as failed: container_1459803563374_223497_02_000067 on host.
Exit status: 143. Diagnostics: Container [pid=30502,containerID=container_1459803563374_223497_02_000067] is running beyond physical memory limits. 
Current usage: 13.8 GB of 13.8 GB physical memory used; 14.6 GB of 28.9 GB virtual memory used. Killing container.
Dump of the process-tree for container_1459803563374_223497_02_000067 :
|- PID PPID PGRPID SESSID CMD_NAME USER_MODE_TIME(MILLIS) SYSTEM_TIME(MILLIS) VMEM_USAGE(BYTES) RSSMEM_USAGE(PAGES) FULL_CMD_LINE
|- 30502 18022 30502 30502 (bash) 0 0 22773760 347 /bin/bash -c LD_LIBRARY_PATH=/apache/hadoop/lib/native:/apache/hadoop/lib/native/Linux-amd64-64: 
/usr/java/latest/bin/java -server -XX:OnOutOfMemoryError='kill %p' 
-Xms12288m -Xmx12288m -Djava.io.tmpdir=/hadoop/6/scratch/local/usercache/dclong/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/tmp 
'-Dspark.driver.port=35848' '-Dspark.ui.port=0' '-Dspark.akka.threads=32' 
-Dspark.yarn.app.container.log.dir=/hadoop/10/scratch/logs/application_1459803563374_223497/container_1459803563374_223497_02_000067 
-XX:MaxPermSize=256m org.apache.spark.executor.CoarseGrainedExecutorBackend 
--driver-url spark://CoarseGrainedScheduler@10.115.16.50:35848 --executor-id 33 
--cores 3 --app-id application_1459803563374_223497 
--user-class-path file:/hadoop/6/scratch/local/usercache/dclong/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/&lt;strong&gt;app&lt;/strong&gt;.jar 
--user-class-path file:/hadoop/6/scratch/local/usercache/dclong/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/hbase-client-0.98.0-EBAY-21.jar 
--user-class-path file:/hadoop/6/scratch/local/usercache/dclong/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/hbase-server-0.98.0-EBAY-21.jar 
--user-class-path file:/hadoop/6/scratch/local/usercache/dclong/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/datanucleus-api-jdo-3.2.6.jar 
--user-class-path file:/hadoop/6/scratch/local/usercache/dclong/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/datanucleus-core-3.2.10.jar 
--user-class-path file:/hadoop/6/scratch/local/usercache/dclong/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/datanucleus-rdbms-3.2.9.jar 
--user-class-path file:/hadoop/6/scratch/local/usercache/dclong/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/mysql-connector-java-5.1.33.jar 
--user-class-path file:/hadoop/6/scratch/local/usercache/dclong/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/spark-avro_2.11-2.0.1.jar 
--user-class-path file:/hadoop/6/scratch/local/usercache/dclong/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/spark-csv_2.11-1.3.0.jar 
--user-class-path file:/hadoop/6/scratch/local/usercache/dclong/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/commons-csv-1.2.jar 1&amp;gt; 
/hadoop/10/scratch/logs/application_1459803563374_223497/container_1459803563374_223497_02_000067/stdout 2&amp;gt; /hadoop/10/scratch/logs/application_1459803563374_223497/container_1459803563374_223497_02_000067/stderr
|- 30524 30502 30502 30502 (java) 23870 3795 15701848064 3605090 /usr/java/latest/bin/java -server -XX:OnOutOfMemoryError=kill %p -Xms12288m -Xmx12288m -Djava.io.tmpdir=/hadoop/6/scratch/local/usercache/b_pandaren_kwdm/appcache/application_1459803563374_223497/container_1459803563374_223497_02_000067/tmp -Dspark.driver.port=35848 -Dspark.ui.port=0 -Dspark.akka.threads=32 -Dspark.yarn.app.container.log.dir=/hadoop/10/scratch/logs/application_1459803563374_223497/container_1459803563374_223497_02_000067 -XX:MaxPermSize=256m org.apache.spark.executor.CoarseGrainedExecutorBackend 
Container killed on request. Exit code is 143
Container exited with a non-zero exit code 143&lt;/p&gt;
&lt;h2 id="symptom-2"&gt;Symptom 2&lt;/h2&gt;
&lt;p&gt;16/04/23 23:12:20 INFO broadcast.TorrentBroadcast: Started reading broadcast variable 46
16/04/23 23:12:31 INFO executor.CoarseGrainedExecutorBackend: Driver commanded a shutdown
16/04/23 23:12:31 ERROR shuffle.RetryingBlockFetcher: Exception while beginning fetch of 1 outstanding blocks
java.io.IOException: Failed to connect to 10.115.45.46:40458
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:216)
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:167)
        at org.apache.spark.network.netty.NettyBlockTransferService&lt;/p&gt;
&lt;div class="math"&gt;$$anon$1.createAndStart(NettyBlockTransferService.scala:90)
        at org.apache.spark.network.shuffle.RetryingBlockFetcher.fetchAllOutstanding(RetryingBlockFetcher.java:140)
        at org.apache.spark.network.shuffle.RetryingBlockFetcher.start(RetryingBlockFetcher.java:120)
        at org.apache.spark.network.netty.NettyBlockTransferService.fetchBlocks(NettyBlockTransferService.scala:99)
        at org.apache.spark.network.BlockTransferService.fetchBlockSync(BlockTransferService.scala:89)
        at org.apache.spark.storage.BlockManager$$&lt;/div&gt;
&lt;p&gt;anonfun&lt;span class="math"&gt;\(doGetRemote\)&lt;/span&gt;2.apply(BlockManager.scala:588)
        at org.apache.spark.storage.BlockManager&lt;/p&gt;
&lt;div class="math"&gt;$$anonfun$doGetRemote$2.apply(BlockManager.scala:585)
        at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)
        at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)
        at org.apache.spark.storage.BlockManager.doGetRemote(BlockManager.scala:585)
        at org.apache.spark.storage.BlockManager.getRemoteBytes(BlockManager.scala:578)
        at org.apache.spark.broadcast.TorrentBroadcast$$&lt;/div&gt;
&lt;p&gt;anonfun&lt;span class="math"&gt;\(org\)&lt;/span&gt;apache&lt;span class="math"&gt;\(spark\)&lt;/span&gt;broadcast&lt;span class="math"&gt;\(TorrentBroadcast&lt;div class="math"&gt;$$readBlocks$1.org$apache$spark$broadcast$TorrentBroadcast$$&lt;/div&gt;anonfun&lt;div class="math"&gt;$$getRemote$1(TorrentBroadcast.scala:127)
        at org.apache.spark.broadcast.TorrentBroadcast$$&lt;/div&gt;anonfun\)&lt;/span&gt;org&lt;span class="math"&gt;\(apache\)&lt;/span&gt;spark&lt;span class="math"&gt;\(broadcast\)&lt;/span&gt;TorrentBroadcast&lt;/p&gt;
&lt;div class="math"&gt;$$readBlocks$1$$&lt;/div&gt;
&lt;p&gt;anonfun&lt;span class="math"&gt;\(1.apply(TorrentBroadcast.scala:137)
        at org.apache.spark.broadcast.TorrentBroadcast&lt;div class="math"&gt;$$anonfun$org$apache$spark$broadcast$TorrentBroadcast$$&lt;/div&gt;readBlocks\)&lt;/span&gt;1&lt;/p&gt;
&lt;div class="math"&gt;$$anonfun$1.apply(TorrentBroadcast.scala:137)
        at scala.Option.orElse(Option.scala:289)
        at org.apache.spark.broadcast.TorrentBroadcast$$&lt;/div&gt;
&lt;p&gt;anonfun&lt;span class="math"&gt;\(org\)&lt;/span&gt;apache&lt;span class="math"&gt;\(spark\)&lt;/span&gt;broadcast&lt;span class="math"&gt;\(TorrentBroadcast&lt;div class="math"&gt;$$readBlocks$1.apply$mcVI$sp(TorrentBroadcast.scala:137)
        at org.apache.spark.broadcast.TorrentBroadcast$$&lt;/div&gt;anonfun\)&lt;/span&gt;org&lt;span class="math"&gt;\(apache\)&lt;/span&gt;spark&lt;span class="math"&gt;\(broadcast\)&lt;/span&gt;TorrentBroadcast&lt;/p&gt;
&lt;div class="math"&gt;$$readBlocks$1.apply(TorrentBroadcast.scala:120)
        at org.apache.spark.broadcast.TorrentBroadcast$$&lt;/div&gt;
&lt;p&gt;anonfun&lt;span class="math"&gt;\(org\)&lt;/span&gt;apache&lt;span class="math"&gt;\(spark\)&lt;/span&gt;broadcast&lt;span class="math"&gt;\(TorrentBroadcast&lt;div class="math"&gt;$$readBlocks$1.apply(TorrentBroadcast.scala:120)
        at scala.collection.immutable.List.foreach(List.scala:381)
        at org.apache.spark.broadcast.TorrentBroadcast.org$apache$spark$broadcast$TorrentBroadcast$$&lt;/div&gt;readBlocks(TorrentBroadcast.scala:120)
        at org.apache.spark.broadcast.TorrentBroadcast&lt;div class="math"&gt;$$anonfun$readBroadcastBlock$1.apply(TorrentBroadcast.scala:175)
        at org.apache.spark.util.Utils$.tryOrIOException(Utils.scala:1219)
        at org.apache.spark.broadcast.TorrentBroadcast.readBroadcastBlock(TorrentBroadcast.scala:165)
        at org.apache.spark.broadcast.TorrentBroadcast._value$lzycompute(TorrentBroadcast.scala:64)
        at org.apache.spark.broadcast.TorrentBroadcast._value(TorrentBroadcast.scala:64)
        at org.apache.spark.broadcast.TorrentBroadcast.getValue(TorrentBroadcast.scala:88)
        at org.apache.spark.broadcast.Broadcast.value(Broadcast.scala:70)
        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:62)
        at org.apache.spark.scheduler.Task.run(Task.scala:89)
        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:214)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.ConnectException: Connection refused: 10.115.45.46:40458
        at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
        at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
        at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:224)
        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:289)
        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:528)
        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:468)
        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:382)
        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:354)
        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:111)
        ... 1 more
16/04/23 23:12:31 ERROR shuffle.RetryingBlockFetcher: Exception while beginning fetch of 3 outstanding blocks
java.lang.NullPointerException: group
        at io.netty.bootstrap.AbstractBootstrap.group(AbstractBootstrap.java:80)
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:189)
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:167)
        at org.apache.spark.network.netty.NettyBlockTransferService$$&lt;/div&gt;anon\)&lt;/span&gt;1.createAndStart(NettyBlockTransferService.scala:90)
        at org.apache.spark.network.shuffle.RetryingBlockFetcher.fetchAllOutstanding(RetryingBlockFetcher.java:140)
        at org.apache.spark.network.shuffle.RetryingBlockFetcher.start(RetryingBlockFetcher.java:120)
        at org.apache.spark.network.netty.NettyBlockTransferService.fetchBlocks(NettyBlockTransferService.scala:99)
        at org.apache.spark.storage.ShuffleBlockFetcherIterator.sendRequest(ShuffleBlockFetcherIterator.scala:152)
        at org.apache.spark.storage.ShuffleBlockFetcherIterator.fetchUpToMaxBytes(ShuffleBlockFetcherIterator.scala:316)
        at org.apache.spark.storage.ShuffleBlockFetcherIterator.next(ShuffleBlockFetcherIterator.scala:296)
        at org.apache.spark.storage.ShuffleBlockFetcherIterator.next(ShuffleBlockFetcherIterator.scala:51)
        at scala.collection.Iterator&lt;/p&gt;
&lt;div class="math"&gt;$$anon$11.next(Iterator.scala:370)
        at scala.collection.Iterator$$&lt;/div&gt;
&lt;p&gt;anon&lt;span class="math"&gt;\(12.hasNext(Iterator.scala:396)
        at scala.collection.Iterator&lt;div class="math"&gt;$$anon$11.hasNext(Iterator.scala:369)
        at org.apache.spark.util.CompletionIterator.hasNext(CompletionIterator.scala:32)
        at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:39)
        at scala.collection.Iterator$$&lt;/div&gt;anon\)&lt;/span&gt;11.hasNext(Iterator.scala:369)
        at org.apache.spark.sql.execution.UnsafeExternalRowSorter.sort(UnsafeExternalRowSorter.java:167)
        at org.apache.spark.sql.execution.Sort&lt;/p&gt;
&lt;div class="math"&gt;$$anonfun$1.apply(Sort.scala:90)
        at org.apache.spark.sql.execution.Sort$$&lt;/div&gt;
&lt;p&gt;anonfun&lt;span class="math"&gt;\(1.apply(Sort.scala:64)
        at org.apache.spark.rdd.RDD&lt;div class="math"&gt;$$anonfun$mapPartitionsInternal$1$$&lt;/div&gt;anonfun\)&lt;/span&gt;apply&lt;span class="math"&gt;\(21.apply(RDD.scala:728)
        at org.apache.spark.rdd.RDD&lt;div class="math"&gt;$$anonfun$mapPartitionsInternal$1$$&lt;/div&gt;anonfun\)&lt;/span&gt;apply&lt;span class="math"&gt;\(21.apply(RDD.scala:728)
        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
        at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
        at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
        at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
        at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
        at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
        at org.apache.spark.rdd.ZippedPartitionsRDD2.compute(ZippedPartitionsRDD.scala:88)
        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
        at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
        at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
        at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:66)
        at org.apache.spark.scheduler.Task.run(Task.scala:89)
        at org.apache.spark.executor.Executor\)&lt;/span&gt;TaskRunner.run(Executor.scala:214)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)
16/04/23 23:12:31 INFO shuffle.RetryingBlockFetcher: Retrying fetch (1/3) for 1 outstanding blocks after 5000 ms&lt;/p&gt;
&lt;h2 id="cause"&gt;Cause&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The buffer between the JVM heap size and the amount of memory requested from YARN is too small.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The netty transfer service will use off-heap buffers (whereas the NIO service doesn't).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Note: this issue will only happen when some table size is larger than 50GB.&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;The current state of the art is to increase 
One way is to increase &lt;code&gt;spark.yarn.executor.memoryOverhead&lt;/code&gt; until the job stops failing. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;--conf spark.yarn.executor.memoryOverhead=2048M&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;http://stackoverflow.com/questions/29850784/what-are-the-likely-causes-of-org-apache-spark-shuffle-metadatafetchfailedexcept &lt;/p&gt;
&lt;p&gt;http://apache-spark-developers-list.1001551.n3.nabble.com/Lost-executor-on-YARN-ALS-iterations-td7916.html &lt;/p&gt;
&lt;p&gt;https://issues.apache.org/jira/browse/SPARK-4516?focusedCommentId=14220157&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14220157&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="big data"></category></entry><entry><title>Spark Issue File Not Found Exception</title><link href="http://www.legendu.net/misc/blog/spark-issue-file-not-found-exception/" rel="alternate"></link><published>2019-05-11T02:50:52-07:00</published><updated>2019-05-11T02:50:52-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-11:/misc/blog/spark-issue-file-not-found-exception/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symptom"&gt;Symptom&lt;/h2&gt;
&lt;h3 id="symptom-1"&gt;Symptom 1&lt;/h3&gt;
&lt;p&gt;15/12/10 07:44:21 ERROR shuffle.OneForOneBlockFetcher: Failed while starting block fetches&lt;/p&gt;
&lt;p&gt;java.lang.RuntimeException …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symptom"&gt;Symptom&lt;/h2&gt;
&lt;h3 id="symptom-1"&gt;Symptom 1&lt;/h3&gt;
&lt;p&gt;15/12/10 07:44:21 ERROR shuffle.OneForOneBlockFetcher: Failed while starting block fetches&lt;/p&gt;
&lt;p&gt;java.lang.RuntimeException: java.io.FileNotFoundException: 
/hadoop/1/scratch/local/usercache/dclong/appcache/application_1447357188616_340392/blockmgr-e13c06e0-e52b-467c-84ef-7df716199dce/17/shuffle_0_1564_0.index 
(No such file or directory)
    at java.io.FileInputStream.open(Native Method)&lt;/p&gt;
&lt;h3 id="symptom-2"&gt;Symptom 2&lt;/h3&gt;
&lt;p&gt;15/12/16 18:17:35 ERROR shuffle.OneForOneBlockFetcher: Failed while starting block fetches
java.io.IOException: Connection from 10.115.82.103:42646 closed&lt;/p&gt;
&lt;h2 id="cause-1"&gt;Cause 1&lt;/h2&gt;
&lt;p&gt;Insufficient memory for executor during the shuffle period, 
so the executor container is being killed by Yarn. 
In this case the executor is either unreachable, 
or the temp files (intermediate file stored locally for shuffle) are removed.&lt;/p&gt;
&lt;h2 id="solution-1"&gt;Solution 1&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Enlarge the executor memory&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="cause-2"&gt;Cause 2&lt;/h2&gt;
&lt;p&gt;The shuffle file need to be stored locally for each executor, 
when doing very large shuffle, 
there are chances that the stored temp files exceed the hard limit restricted by yarn&lt;/p&gt;
&lt;p&gt;The local dir that used to store the temp files are controlled by yarn.nodemanager.local-dirs, which is set to 12 folders on the Spark cluster.&lt;/p&gt;
&lt;p&gt;The upper bound size for each dir is controlled by yarn.nodemanager.localizer.cache.target-size-mb, which is 10G by default  (not set on the cluster)&lt;/p&gt;
&lt;h2 id="solution-2"&gt;Solution 2&lt;/h2&gt;
&lt;p&gt;Since we don't have authority to change the yarn properties, 
we can walk around the issue by enlarging the cluster size. 
In this case we have more temp folder capacity. 
For example, 
to compute 30-day google live item response, we need around 300 executors to resolve the issue&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;--num-executors 320&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="big data"></category></entry><entry><title>Spark Issue: High Disk and Memory Spill When Doing Shuffle</title><link href="http://www.legendu.net/misc/blog/spark-issue-high-disk-and-memory-spill-when-doing-shuffle/" rel="alternate"></link><published>2019-05-11T02:50:52-07:00</published><updated>2019-05-11T02:50:52-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-11:/misc/blog/spark-issue-high-disk-and-memory-spill-when-doing-shuffle/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symtom"&gt;Symtom&lt;/h2&gt;
&lt;p&gt;High disk and memory spill when doing shuffle.&lt;/p&gt;
&lt;h2 id="cause"&gt;Cause&lt;/h2&gt;
&lt;p&gt;Insufficient executor memory (You can monitor this spill metrics from …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symtom"&gt;Symtom&lt;/h2&gt;
&lt;p&gt;High disk and memory spill when doing shuffle.&lt;/p&gt;
&lt;h2 id="cause"&gt;Cause&lt;/h2&gt;
&lt;p&gt;Insufficient executor memory (You can monitor this spill metrics from Spark UI)&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Increase executor memory: --executor-memory "4096M"&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For jobs that don't need to persist data in memory we can reduce the cache storage size and enlarge the memory portion for Shuffle&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;--conf spark.shuffle.memoryFraction=0.4 &lt;/span&gt;
&lt;span class="c1"&gt;--conf spark.storage.memoryFraction=0.1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="big data"></category></entry><entry><title>Spark Issue Java.Lang.Outofmemoryerror</title><link href="http://www.legendu.net/misc/blog/spark-issue-java.lang.OutOfMemoryError/" rel="alternate"></link><published>2019-05-11T02:50:52-07:00</published><updated>2019-05-11T02:50:52-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-11:/misc/blog/spark-issue-java.lang.OutOfMemoryError/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Cause:  Executor out of memory&lt;/p&gt;
&lt;p&gt;Solution: Increase executor memory from 4G to 6G: --executor-memory "6G" &lt;/p&gt;
&lt;p&gt;Reference:&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Cause:  Executor out of memory&lt;/p&gt;
&lt;p&gt;Solution: Increase executor memory from 4G to 6G: --executor-memory "6G" &lt;/p&gt;
&lt;p&gt;Reference:&lt;/p&gt;
&lt;p&gt;http://stackoverflow.com/questions/27462061/why-does-spark-fail-with-java-lang-outofmemoryerror-gc-overhead-limit-exceeded&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="big data"></category></entry><entry><title>Spark Issue Table Not Found</title><link href="http://www.legendu.net/misc/blog/spark-issue-table-not-found/" rel="alternate"></link><published>2019-05-11T02:50:52-07:00</published><updated>2019-05-11T02:50:52-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-11:/misc/blog/spark-issue-table-not-found/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Solution: include Hive configuration of the Spark cluster when submitting Spark jobs.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;--files &amp;quot;/apache/spark_scala211/conf/hive-site.xml&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Solution: include Hive configuration of the Spark cluster when submitting Spark jobs.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;--files &amp;quot;/apache/spark_scala211/conf/hive-site.xml&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="big data"></category></entry><entry><title>Spark Issue: Timeout When Communicate With Driver During Shuffle Caused by Driver OOM</title><link href="http://www.legendu.net/misc/blog/spark-issue-timeout-when-communicate-with-driver-during-shuffle/" rel="alternate"></link><published>2019-05-11T02:50:52-07:00</published><updated>2019-05-11T02:50:52-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-11:/misc/blog/spark-issue-timeout-when-communicate-with-driver-during-shuffle/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symptom"&gt;Symptom&lt;/h2&gt;
&lt;p&gt;15/12/24 02:04:21 INFO spark.MapOutputTrackerWorker: Doing the fetch; tracker endpoint = AkkaRpcEndpointRef(Actor[akka.tcp://sparkDriver …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symptom"&gt;Symptom&lt;/h2&gt;
&lt;p&gt;15/12/24 02:04:21 INFO spark.MapOutputTrackerWorker: Doing the fetch; tracker endpoint = AkkaRpcEndpointRef(Actor[akka.tcp://sparkDriver@10.115.58.55:52077/user/MapOutputTracker#-1937024516])&lt;/p&gt;
&lt;p&gt;15/12/24 02:06:21 WARN akka.AkkaRpcEndpointRef: Error sending message [message = GetMapOutputStatuses(0)] in 1 attempts&lt;/p&gt;
&lt;p&gt;org.apache.spark.rpc.RpcTimeoutException: Futures timed out after [120 seconds]. This timeout is controlled by spark.rpc.askTimeout&lt;/p&gt;
&lt;p&gt;at org.apache.spark.rpc.RpcTimeout.org&lt;span class="math"&gt;\(apache\)&lt;/span&gt;spark&lt;span class="math"&gt;\(rpc\)&lt;/span&gt;RpcTimeout$$createRpcTimeoutException(RpcEnv.scala:214)&lt;/p&gt;
&lt;p&gt;15/12/24 02:05:36 ERROR actor.ActorSystemImpl: Uncaught fatal error from thread [sparkDriver-akka.remote.default-remote-dispatcher-24] shutting down ActorSystem [sparkDriver]&lt;/p&gt;
&lt;p&gt;java.lang.OutOfMemoryError: Java heap space&lt;/p&gt;
&lt;p&gt;at java.util.Arrays.copyOf(Arrays.java:2271)&lt;/p&gt;
&lt;p&gt;at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:178)&lt;/p&gt;
&lt;h2 id="cause"&gt;Cause&lt;/h2&gt;
&lt;p&gt;Driver maintains the partition information of the map output, 
so during the shuffle period, 
it can respond to reducer to find the desired partition. 
When shuffling a large amount of partitions, Driver need to store huge amount of MapOutputStatus object that may cause OOM. 
Based on my experience, we may need 10G memory for 10K partition. &lt;/p&gt;
&lt;h2 id="solution"&gt;Solution:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Increase Driver memory and computation power is useful in case you need less than 15G memory &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;--driver-memory 12G&lt;/span&gt;
&lt;span class="c1"&gt;--conf spark.driver.cores=4 &lt;/span&gt;
&lt;span class="c1"&gt;--conf spark.akka.threads=32&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The ultimate solution is to re-partition the map output when feed to the reduce actions. 
    A simple way is to half the number of input partitions.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;liveItems&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;liveItemsPair&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reduceByKey&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rFindMax&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;liveItemsPair&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;partitions&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;size&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For example, 
when we compute 30-day Google live item response, 
it consumes about 20K partitions, 
which will require more than 20G memory for the driver. 
But when we half the partition size for the reducer, 
we can complete the work with 10G Driver memory.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="big data"></category></entry><entry><title>Spark Issue Too Large Table for Auto Broadcasthashjoin</title><link href="http://www.legendu.net/misc/blog/spark-issue-too-large-table-for-auto-BroadcastHashJoin/" rel="alternate"></link><published>2019-05-11T02:50:52-07:00</published><updated>2019-05-11T02:50:52-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-11:/misc/blog/spark-issue-too-large-table-for-auto-BroadcastHashJoin/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;16/04/17 11:17:36 ERROR scheduler.TaskSetManager: Total size of serialized results of 126 tasks (1137.3 MB …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;16/04/17 11:17:36 ERROR scheduler.TaskSetManager: Total size of serialized results of 126 tasks (1137.3 MB) is bigger than spark.driver.maxResultSize (1024.0 MB)
16/04/17 11:17:36 ERROR yarn.ApplicationMaster: User class threw exception: org.apache.spark.SparkException: 
Job aborted due to stage failure: Total size of serialized results of 114 tasks (1029.0 MB) is bigger than spark.driver.maxResultSize (1024.0 MB)
org.apache.spark.SparkException: Job aborted due to stage failure: Total size of serialized results of 114 tasks (1029.0 MB) is bigger than spark.driver.maxResultSize (1024.0 MB)&lt;/p&gt;
&lt;p&gt;OR&lt;/p&gt;
&lt;p&gt;16/04/17 11:23:15 INFO executor.Executor: Finished task 196.0 in stage 6.0 (TID 610). 9455052 bytes result sent to driver
16/04/17 11:23:46 WARN netty.NettyRpcEndpointRef: Error sending message [message = Heartbeat(157,[Lscala.Tuple2;@56be55da,BlockManagerId(157, 45017))] in 1 attempts
org.apache.spark.rpc.RpcTimeoutException: Futures timed out after [10 seconds]. This timeout is controlled by spark.executor.heartbeatInterval&lt;/p&gt;
&lt;h2 id="cause"&gt;Cause&lt;/h2&gt;
&lt;p&gt;When the BroadcastHashJoin is executed, 
for some reason,
the driver clones N copies (N is the number of executors) of the broadcasted table size, 
(in my case: 75MB) 
and broadcast it to each executor. 
If the N is like 300, 
the total memory required for driver is at least: 75MB * 300 = 22.5GB, 
larger than the executor memory.
It will cause driver no-response (OOM).&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;Do not use BroadcastHashJoin&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;For SparkSQL (HiveContext): setting spark.sql.autoBroadcastJoinThreshold=10MB (or less)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For SparkSQL (SQLContext): do not call functions.broadcast()&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For RDD: do not use broadcast variable&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="big data"></category></entry><entry><title>Spark Issue: Native Memory Usage Exceed MemoryOverhead</title><link href="http://www.legendu.net/misc/blog/spark-issue-native-memory-usage-exceed-memoryOverhead/" rel="alternate"></link><published>2019-05-11T01:59:02-07:00</published><updated>2019-05-11T01:59:02-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-11:/misc/blog/spark-issue-native-memory-usage-exceed-memoryOverhead/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symptom"&gt;Symptom&lt;/h2&gt;
&lt;p&gt;Job aborted due to stage failure: Task 110 in stage 68.0 failed 1 times, 
most recent failure: Lost …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="symptom"&gt;Symptom&lt;/h2&gt;
&lt;p&gt;Job aborted due to stage failure: Task 110 in stage 68.0 failed 1 times, 
most recent failure: Lost task 110.0 in stage 68.0:
ExecutorLostFailure (executor 35 exited caused by one of the running tasks) 
Reason: Container killed by YARN for exceeding memory limits. 40.6 GB of 40 GB physical memory used. 
Consider boosting spark.yarn.executor.memoryOverhead.&lt;/p&gt;
&lt;h2 id="reason"&gt;Reason&lt;/h2&gt;
&lt;p&gt;DataFrame and Spark Tunsten leverage off-heap a lot to boost performance. Checking the Spark SQL physical plan, the Aggregation and Sort are all happened in Off-Heap. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apache&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spark&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;sql&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;catalyst&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;errors&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;package$TreeNodeException&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tree&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="n"&gt;TungstenAggregate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="n"&gt;functions&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="k"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;Final&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;isDistinct&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt; &lt;span class="k"&gt;output&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="mi"&gt;983&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="o"&gt;+-&lt;/span&gt; &lt;span class="n"&gt;TungstenExchange&lt;/span&gt; &lt;span class="n"&gt;SinglePartition&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;None&lt;/span&gt;
  &lt;span class="o"&gt;+-&lt;/span&gt; &lt;span class="n"&gt;TungstenAggregate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="n"&gt;functions&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="k"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;Partial&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;isDistinct&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt; &lt;span class="k"&gt;output&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="mi"&gt;988&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="o"&gt;+-&lt;/span&gt; &lt;span class="n"&gt;Project&lt;/span&gt;
      &lt;span class="o"&gt;+-&lt;/span&gt; &lt;span class="n"&gt;Sort&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ocsQltyScr&lt;/span&gt;&lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="mi"&gt;845&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt; &lt;span class="k"&gt;DESC&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="o"&gt;+-&lt;/span&gt; &lt;span class="n"&gt;ConvertToUnsafe&lt;/span&gt;
          &lt;span class="o"&gt;+-&lt;/span&gt; &lt;span class="n"&gt;Exchange&lt;/span&gt; &lt;span class="n"&gt;rangepartitioning&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ocsQltyScr&lt;/span&gt;&lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="mi"&gt;845&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt; &lt;span class="k"&gt;DESC&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;400&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="k"&gt;None&lt;/span&gt;
            &lt;span class="o"&gt;+-&lt;/span&gt; &lt;span class="n"&gt;ConvertToSafe&lt;/span&gt;
              &lt;span class="o"&gt;+-&lt;/span&gt; &lt;span class="n"&gt;Project&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ocsQltyScr&lt;/span&gt;&lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="mi"&gt;845&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                &lt;span class="o"&gt;+-&lt;/span&gt; &lt;span class="n"&gt;Filter&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rank&lt;/span&gt;&lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="mi"&gt;977&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                  &lt;span class="o"&gt;+-&lt;/span&gt; &lt;span class="n"&gt;Window&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;This may not be an optimum solution, 
but if the memoryOverhead is too small (by default max(0.1*executorMemory, 384M), 
we can still tune it to be 8 to 12G.
Tune &lt;code&gt;spark.yarn.executor.memoryOverhead&lt;/code&gt; to be larger.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/37505638/understanding-spark-physical-plan&lt;/p&gt;
&lt;p&gt;https://community.hortonworks.com/questions/36266/spark-physical-plan-doubts-tungstenaggregate-tungs.html&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="big data"></category></entry><entry><title>Spark Issue Task Not Serializable</title><link href="http://www.legendu.net/misc/blog/spark-issue-task-not-serializable/" rel="alternate"></link><published>2019-05-11T01:34:21-07:00</published><updated>2019-05-11T01:34:21-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-11:/misc/blog/spark-issue-task-not-serializable/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="error-message"&gt;Error Message&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;org.apache.spark.SparkException: Job aborted due to stage failure: Task not serializable: java.io.NotSerializableException: ...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="possible-causes"&gt;Possible Causes …&lt;/h2&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="error-message"&gt;Error Message&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;org.apache.spark.SparkException: Job aborted due to stage failure: Task not serializable: java.io.NotSerializableException: ...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="possible-causes"&gt;Possible Causes&lt;/h2&gt;
&lt;p&gt;Some object sent to works from the driver is not serializable. &lt;/p&gt;
&lt;h2 id="solutions"&gt;Solutions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Don't send the non-serializable object to workers.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use a serializable version if you do want to send the object to workders.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://github.com/databricks/spark-knowledgebase/blob/master/troubleshooting/javaionotserializableexception.md&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Tips on SAS</title><link href="http://www.legendu.net/misc/blog/sas-tips/" rel="alternate"></link><published>2019-05-10T19:13:40-07:00</published><updated>2019-05-10T19:13:40-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-05-10:/misc/blog/sas-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;SAS on Linux recognize &lt;code&gt;~&lt;/code&gt; as the home directory of users.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;good to use a profile (containing database use and password …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;SAS on Linux recognize &lt;code&gt;~&lt;/code&gt; as the home directory of users.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;good to use a profile (containing database use and password, etc.) and %include it ...
    e.g., .sas_profile&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%include&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;~/.sas_profile&amp;quot;&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="library"&gt;Library&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There are at least two ways to get the path of the temporary &lt;code&gt;work&lt;/code&gt; library.
    The first way is to right click on the &lt;code&gt;work&lt;/code&gt; library
    and choose &lt;code&gt;Property ...&lt;/code&gt;.
    The second way is to run the following code.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%put&lt;/span&gt; &lt;span class="nf"&gt;%sysfunc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;getoption&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;work&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;However, 
the path returned by these 2 ways might not be correct (which is really annoying).
If you want to keep datasets in the "work" library,
you can copy it to another permanent library.
To do this, &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="n"&gt;datasets&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;work&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;library&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="k"&gt;right&lt;/span&gt; &lt;span class="n"&gt;click&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="k"&gt;copy&lt;/span&gt;
&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="k"&gt;right&lt;/span&gt; &lt;span class="n"&gt;click&lt;/span&gt; &lt;span class="k"&gt;on&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;permanent&lt;/span&gt; &lt;span class="n"&gt;library&lt;/span&gt;
&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;choose&lt;/span&gt; &lt;span class="n"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Or you can use the &lt;code&gt;datasets&lt;/code&gt; procedure directly.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;proc&lt;/span&gt; &lt;span class="n"&gt;datasets&lt;/span&gt; &lt;span class="n"&gt;library&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;source&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
   &lt;span class="k"&gt;copy&lt;/span&gt; &lt;span class="k"&gt;out&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dest&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do not use the "work" library to save important datasets.
    Always use a (permanent) library.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAS is case-insensitive. 
    It does not matter whether you use upper or lower case 
    for keywords, functions, data set names, etc. in SAS.
    However, 
    strings/characters are case-sensitive. 
    For example, 
    &lt;code&gt;"good"&lt;/code&gt; and &lt;code&gt;"GOOD"&lt;/code&gt; are different as characters. 
    This matters when your SAS code relies on string comparisons.
    A file path is case-insensitive in Windows but case-sensitive in Linux,&lt;br&gt;
    so a file path in SAS running on a Windows server is case-insensitive 
    but case-sensitive in SAS running on a Linux server.
    A tricky situation where case matters is 
    when a macro variable is embedded in double quotes 
    to be used it as a string value.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="procedures"&gt;procedures&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;metalib (for user name, password information and so on)
    LIBNAME CRE_DATA BASE "/var/userdata/CPRA/Users/ub66536”
    you have additional key word base 
    (this fixes a SAS stored process problem, 
    if you cannot run a stored process, maybe permission)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;lag and dif functions very useful ...
    can we combine lag and diff? yes
    lag does not work on variables that don't exist in the table
    so you cannot use lag on new variables
    instead, you should use retain&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;termstr, according to files created on different operating systems ...
    use different termstr &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="other-tips"&gt;Other tips&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;dm statement is the display manager ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is very slow to display results in HTML format when there are massive results. 
    Instead of using the prin procedure, it might be much faster to just rerun the code. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;pwencode&lt;/code&gt; procedure encodes password 
    and let you use it in place of plaintext passwords in SAS programs 
    that access relational database management systems (RDBSMs) and various servers.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="options"&gt;Options&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;The global key &lt;code&gt;options&lt;/code&gt; in SAS has an alias &lt;code&gt;option&lt;/code&gt;. 
    However, it is suggested that you always use &lt;code&gt;options&lt;/code&gt; instead of &lt;code&gt;option&lt;/code&gt; 
    when setting SAS system options.&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sas&lt;/span&gt; &lt;span class="n"&gt;proc&lt;/span&gt; &lt;span class="k"&gt;sql&lt;/span&gt; &lt;span class="n"&gt;stimer&lt;/span&gt; &lt;span class="k"&gt;option&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;options&lt;/span&gt; &lt;span class="n"&gt;macrogen&lt;/span&gt; &lt;span class="n"&gt;symbolgen&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;option&lt;/span&gt; &lt;span class="n"&gt;mprint&lt;/span&gt; &lt;span class="n"&gt;symbolgen&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="syntax"&gt;Syntax&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;be careful when you copy sas code from a non-text editor (e.g., MS Word).
    It might screw up special symbols, such as the double quotes,
    which results in syntax error.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAS has many pre-mature syntax sugars. For example, &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;_null_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;intnx&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;week&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;17oct03&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;put&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;date9&lt;/span&gt;&lt;span class="p"&gt;.;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;However, 
it is suggested that you use the following way instead 
as it is more consistent with other programming languages.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;_null_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;intnx&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;week&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;17oct03&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;put&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;x = &amp;#39;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="n"&gt;date9&lt;/span&gt;&lt;span class="p"&gt;.;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use l &amp;lt;= x &amp;lt;= u conditions in a SAS where statement,
    which is more convenient.
    We can also do this in python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The keyword descending in the sort procedure must be before the variable it describes in proc sort.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="naming"&gt;Naming&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Names of engines, filerefs, librefs and passwords can be at most 8 characters;
    names of call routines, functions and procedures can be at most 16 characters;
    all other variable names can have at least 28 characters.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use _SomeVar as macro variable names.
    It seems that some people like to use this naming convention.
    I think this is to avoid name confliction.
    To avoid name confliction, 
    a good way is to use _ followed by a sequence of random digits (e.g., _2893478219903).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="random"&gt;Random&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ranuni, call ranuni, unifrom, call randgen
    use a negative seed to use time as seed,
    which is recommended&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;amp;&amp;amp;x&amp;amp;i.&lt;/code&gt;, &lt;code&gt;&amp;amp;&amp;amp;x.&amp;amp;i.&lt;/code&gt; 
    &lt;code&gt;.&lt;/code&gt; is not makeing things clear, from this view, you know which is right!&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="branch"&gt;branch&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;only the first statment following an if ... then ... clause is run.
    If you want to run run multiple statements in a if ... then ... branch,
    you have to include them in a do ... end block.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://duanzy.blogspot.com/"&gt;CFA SAS FRM Statistics Finance&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;http://www.jiangtanghu.com/blog/2012/10/16/incorporate-sasiml-to-base-sas/&lt;/p&gt;
&lt;p&gt;http://support.sas.com/documentation/cdl/en/imlug/64248/HTML/default/viewer.htm#imlug_procs_sect005.htm&lt;/p&gt;</content><category term="tips"></category><category term="SAS"></category><category term="programming"></category></entry><entry><title>Tips on Pig</title><link href="http://www.legendu.net/misc/blog/pig-tips/" rel="alternate"></link><published>2019-05-09T23:40:44-07:00</published><updated>2019-05-09T23:40:44-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-05-09:/misc/blog/pig-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="tips"&gt;Tips&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Pig uses &lt;code&gt;--&lt;/code&gt; (at the beginning of lines) to comment out lines.
    It also support C-style comment, i.e., using …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="tips"&gt;Tips&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Pig uses &lt;code&gt;--&lt;/code&gt; (at the beginning of lines) to comment out lines.
    It also support C-style comment, i.e., using &lt;code&gt;/* ... */&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Filter out records that you don't want before you do expensive transformations 
    such as joining, crossing, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pig uses single quotes instead of double quotes for strings.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;prefer filtering and then joining rather than joining and then filtering&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use dot/period to access fields when use aggregation functions,
    otherwise, use double colons (::) to access fileds/columns.
    but this is wierd&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;-p or -param&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="common-mistakes"&gt;Common Mistakes&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;forget to assign relation to a name&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use lower case of functions&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use double quotes for strings&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="big data"></category><category term="Pig"></category><category term="Hadoop"></category><category term="tips"></category></entry><entry><title>HDFS in Python</title><link href="http://www.legendu.net/misc/blog/python-hdfs/" rel="alternate"></link><published>2019-05-09T23:40:06-07:00</published><updated>2019-05-09T23:40:06-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-09:/misc/blog/python-hdfs/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="mtthhdfs"&gt;&lt;a href="https://github.com/mtth/hdfs/"&gt;mtth/hdfs&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Supports proxy.
    See &lt;a href="https://github.com/mtth/hdfs/issues/107"&gt;this issue&lt;/a&gt; for details.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="apache-arrow-hdfs"&gt;&lt;a href="https://arrow.apache.org/docs/python/filesystems.html#hdfs-api"&gt;Apache Arrow - HDFS&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;http://wesmckinney.com/blog/python-hdfs-interfaces/&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="mtthhdfs"&gt;&lt;a href="https://github.com/mtth/hdfs/"&gt;mtth/hdfs&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Supports proxy.
    See &lt;a href="https://github.com/mtth/hdfs/issues/107"&gt;this issue&lt;/a&gt; for details.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="apache-arrow-hdfs"&gt;&lt;a href="https://arrow.apache.org/docs/python/filesystems.html#hdfs-api"&gt;Apache Arrow - HDFS&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;http://wesmckinney.com/blog/python-hdfs-interfaces/&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="Hadoop"></category><category term="HDFS"></category></entry><entry><title>Check Whether a File Exists in Spark</title><link href="http://www.legendu.net/misc/blog/check-whether-a-file-exists-in-spark/" rel="alternate"></link><published>2019-05-09T22:30:29-07:00</published><updated>2019-05-09T22:30:29-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-09:/misc/blog/check-whether-a-file-exists-in-spark/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="orgapachehadoopfsfilesystem"&gt;org.apache.hadoop.fs.FileSystem&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;conf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sc&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hadoopConfiguration&lt;/span&gt;
&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;fs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apache&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hadoop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FileSystem&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;conf&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="k"&gt;exists …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="orgapachehadoopfsfilesystem"&gt;org.apache.hadoop.fs.FileSystem&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;conf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sc&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hadoopConfiguration&lt;/span&gt;
&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;fs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apache&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hadoop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FileSystem&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;conf&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="k"&gt;exists&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apache&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hadoop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;/path/on/hdfs/to/SUCCESS.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.apache.hadoop.fs.FileSystem&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.apache.hadoop.fs.Path&lt;/span&gt;

&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;hadoopfs&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;FileSystem&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;FileSystem&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spark&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sparkContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hadoopConfiguration&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;testDirExist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="n"&gt;Boolean&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="n"&gt;hadoopfs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;hadoopfs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getFileStatus&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isDirectory&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;filteredPaths&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;paths&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;testDirExists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;dataframe&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;spark&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parquet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filteredPaths&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="orgapachesparkstreamingutilhdfsutils"&gt;org.apache.spark.streaming.util.HdfsUtils&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;org.apache.spark.streaming.util.HdfsUtils&lt;/code&gt; is implemented based on &lt;code&gt;org.apache.hadoop.fs.FileSystem&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://spark.apache.org/docs/latest/api/java/index.html?org/apache/spark/streaming/util/HdfsUtils.html&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/30405728/apache-spark-check-if-file-exists&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/45193825/spark-read-file-only-if-the-path-exists?rq=1&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/27023766/spark-iterate-hdfs-directory&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="Hadoop"></category><category term="FileSystem"></category><category term="file system"></category></entry><entry><title>Unable to Find Encoder Type Issue in Spark</title><link href="http://www.legendu.net/misc/blog/spark-unable-to-find-encoder-type-issue/" rel="alternate"></link><published>2019-05-09T19:48:11-07:00</published><updated>2019-05-09T19:48:11-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-09:/misc/blog/spark-unable-to-find-encoder-type-issue/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="issue-unable-to-find-encoder-for-type-stored-in-a-dataset"&gt;Issue Unable to find encoder for type stored in a Dataset&lt;/h2&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;Import Spark implicits in the right scope resolves the issue.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;spark.implicits._&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/38664972/why-is-unable-to-find-encoder-for-type-stored-in-a-dataset-when-creating-a-dat&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issue"></category><category term="encoder"></category></entry><entry><title>Union RDDs in Spark</title><link href="http://www.legendu.net/misc/blog/union-RDDs-in-spark/" rel="alternate"></link><published>2019-05-09T19:43:10-07:00</published><updated>2019-05-09T19:43:10-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-05-09:/misc/blog/union-RDDs-in-spark/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;No deduplication is done (to be efficient) when unioning RDDs/DataFrames in Spark 2.1.0+.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Union 2 RDDs.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;df1 …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;No deduplication is done (to be efficient) when unioning RDDs/DataFrames in Spark 2.1.0+.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Union 2 RDDs.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;df1&lt;/span&gt;.&lt;span class="nv"&gt;union&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;df2&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="nv"&gt;or&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;old&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;fashioned&lt;/span&gt; &lt;span class="nv"&gt;RDD&lt;/span&gt;
&lt;span class="nv"&gt;rdd1&lt;/span&gt;.&lt;span class="nv"&gt;union&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;rdd_2&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Union multiple RDDs.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;spark&lt;/span&gt;.&lt;span class="nv"&gt;union&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;[&lt;span class="nv"&gt;df1&lt;/span&gt;, &lt;span class="nv"&gt;df2&lt;/span&gt;, &lt;span class="nv"&gt;df3&lt;/span&gt;]&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="nv"&gt;spark&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;SparkSession&lt;/span&gt; &lt;span class="nv"&gt;object&lt;/span&gt;
&lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="nv"&gt;or&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;old&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;fashioned&lt;/span&gt; &lt;span class="nv"&gt;RDD&lt;/span&gt;
&lt;span class="nv"&gt;rdd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;sc&lt;/span&gt;.&lt;span class="nv"&gt;union&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;[&lt;span class="nv"&gt;rdd1&lt;/span&gt;, &lt;span class="nv"&gt;rdd2&lt;/span&gt;, &lt;span class="nv"&gt;rdd3&lt;/span&gt;]&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="nv"&gt;sc&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;SparkContext&lt;/span&gt; &lt;span class="nv"&gt;object&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Scala"></category><category term="Spark"></category><category term="RDD"></category><category term="union"></category></entry><entry><title>Take Screenshots in Python</title><link href="http://www.legendu.net/misc/blog/take-screenshot-in-python/" rel="alternate"></link><published>2019-05-07T20:48:27-07:00</published><updated>2019-05-07T20:48:27-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-07:/misc/blog/take-screenshot-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="pillow"&gt;Pillow&lt;/h2&gt;
&lt;p&gt;PIL.ImageGrab.grab(bbox=(10, 10, 510, 510))&lt;/p&gt;
&lt;h2 id="pyqt5"&gt;PyQt5&lt;/h2&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="pillow"&gt;Pillow&lt;/h2&gt;
&lt;p&gt;PIL.ImageGrab.grab(bbox=(10, 10, 510, 510))&lt;/p&gt;
&lt;h2 id="pyqt5"&gt;PyQt5&lt;/h2&gt;</content><category term="programming"></category><category term="screenshot"></category><category term="Python"></category><category term="PIL"></category><category term="Pillow"></category><category term="PyQt5"></category></entry><entry><title>Virtual Studio Code for JVM Languages</title><link href="http://www.legendu.net/misc/blog/vscode-for-jvm-languages/" rel="alternate"></link><published>2019-05-07T20:34:40-07:00</published><updated>2019-05-07T20:34:40-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-07:/misc/blog/vscode-for-jvm-languages/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://devblogs.microsoft.com/visualstudio/java-on-visual-studio-code-april-update/"&gt;Java on Visual Studio Code April Update&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="extensions"&gt;Extensions&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://marketplace.visualstudio.com/items?itemName=dragos.scala-lsp"&gt;Scala Language Server&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://marketplace.visualstudio.com/items?itemName=scala-lang.scala"&gt;Scala Syntax&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://devblogs.microsoft.com/visualstudio/java-on-visual-studio-code-april-update/"&gt;Java on Visual Studio Code April Update&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="extensions"&gt;Extensions&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://marketplace.visualstudio.com/items?itemName=dragos.scala-lsp"&gt;Scala Language Server&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://marketplace.visualstudio.com/items?itemName=scala-lang.scala"&gt;Scala Syntax&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="Java"></category><category term="JVM languages"></category><category term="Scala"></category><category term="vscode"></category><category term="Visual Studio Code"></category></entry><entry><title>Visual Studio Code for Python</title><link href="http://www.legendu.net/misc/blog/vscode-for-python/" rel="alternate"></link><published>2019-05-07T20:34:40-07:00</published><updated>2019-05-07T20:34:40-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-07:/misc/blog/vscode-for-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://devblogs.microsoft.com/python/remote-python-development-in-visual-studio-code/"&gt;Remote Python Development in Visual Studio Code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://devblogs.microsoft.com/python/python-in-visual-studio-code-march-2019-release/"&gt;Python in Visual Studio Code – March 2019 Release&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://code.visualstudio.com/docs/python/python-tutorial"&gt;Getting Started with Python in …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://devblogs.microsoft.com/python/remote-python-development-in-visual-studio-code/"&gt;Remote Python Development in Visual Studio Code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://devblogs.microsoft.com/python/python-in-visual-studio-code-march-2019-release/"&gt;Python in Visual Studio Code – March 2019 Release&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://code.visualstudio.com/docs/python/python-tutorial"&gt;Getting Started with Python in VS Code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://visualstudio.microsoft.com/services/live-share/"&gt;Visual Studio Live Share&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://docs.microsoft.com/en-us/visualstudio/liveshare/"&gt;What is Visual Studio Live Share?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://code.visualstudio.com/docs/python/unit-testing"&gt;Python unit testing in Visual Studio Code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;https://code.visualstudio.com/docs/languages/python&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="Visual Studio Code"></category><category term="vscode"></category><category term="IDE"></category></entry><entry><title>Kubernetes Tips</title><link href="http://www.legendu.net/misc/blog/kubernetes-tips/" rel="alternate"></link><published>2019-05-04T01:53:39-07:00</published><updated>2019-05-04T01:53:39-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-05-04:/misc/blog/kubernetes-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.youtube.com/watch?v=ZpbXSdzp_vo&lt;/p&gt;
&lt;p&gt;https://github.com/kubernetes/minikube&lt;/p&gt;
&lt;p&gt;https://github.com/kubernetes/kubernetes&lt;/p&gt;
&lt;p&gt;&lt;a href="https://matthewpalmer.net/kubernetes-app-developer/articles/install-kubernetes-ubuntu-tutorial.html"&gt;4 Steps to …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.youtube.com/watch?v=ZpbXSdzp_vo&lt;/p&gt;
&lt;p&gt;https://github.com/kubernetes/minikube&lt;/p&gt;
&lt;p&gt;https://github.com/kubernetes/kubernetes&lt;/p&gt;
&lt;p&gt;&lt;a href="https://matthewpalmer.net/kubernetes-app-developer/articles/install-kubernetes-ubuntu-tutorial.html"&gt;4 Steps to Install Kubernetes on Ubuntu 16.04 and 18.04&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="Kubernetes"></category><category term="k8s"></category></entry><entry><title>Regular Expression in Bash</title><link href="http://www.legendu.net/misc/blog/regular-expression-in-bash/" rel="alternate"></link><published>2019-04-28T11:53:55-07:00</published><updated>2019-04-28T11:53:55-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-04-28:/misc/blog/regular-expression-in-bash/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You can use &lt;code&gt;=~&lt;/code&gt; for regular expression mathch in Bash.
This make Bash syntax extremely flexible and powerful.
For example, 
you …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You can use &lt;code&gt;=~&lt;/code&gt; for regular expression mathch in Bash.
This make Bash syntax extremely flexible and powerful.
For example, 
you can match multiple strings using regular expression.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; [[ &lt;span class="nv"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt; &lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;v1&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="nv"&gt;v2&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="nv"&gt;v3&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;$ ]]&lt;span class="c1"&gt;; then&lt;/span&gt;
    ...
&lt;span class="nv"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Bash"></category><category term="regular expression"></category><category term="regex"></category></entry><entry><title>Parallel Computing in Bash</title><link href="http://www.legendu.net/misc/blog/parallel-computing-in-bash/" rel="alternate"></link><published>2019-04-28T11:46:10-07:00</published><updated>2019-04-28T11:46:10-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-04-28:/misc/blog/parallel-computing-in-bash/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&amp;amp; and wait &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;parallel &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;xargs&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;parallel&lt;/code&gt; is a cool bash command which makes parallel computing easy in Bash.
It is a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&amp;amp; and wait &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;parallel &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;xargs&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;parallel&lt;/code&gt; is a cool bash command which makes parallel computing easy in Bash.
It is a parallel version replacement of &lt;code&gt;xargs&lt;/code&gt;.&lt;/p&gt;</content><category term="programming"></category><category term="Bash"></category><category term="parallel computing"></category></entry><entry><title>Install R Kernel for JupyterLab</title><link href="http://www.legendu.net/misc/blog/install-r-kernel-for-jupyterlab/" rel="alternate"></link><published>2019-04-25T20:22:24-07:00</published><updated>2019-04-25T20:22:24-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-04-25:/misc/blog/install-r-kernel-for-jupyterlab/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install JupyterLab.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wajig install python3 python3-pip python3-setuptools
sudo -H pip3 install jupyter jupyterlab
sudo jupyter serverextension &lt;span class="nb"&gt;enable&lt;/span&gt; --py jupyterlab --sys-prefix …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install JupyterLab.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wajig install python3 python3-pip python3-setuptools
sudo -H pip3 install jupyter jupyterlab
sudo jupyter serverextension &lt;span class="nb"&gt;enable&lt;/span&gt; --py jupyterlab --sys-prefix
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Install dev libraries required by IRKernel (or its dependent packages). &lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wajig install libssl-dev libcurl4-openssl-dev
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you are still on Ubuntu 14.04, 
you might have to force &lt;code&gt;libssl&lt;/code&gt; to downgrade. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wajig install libssl1.0.0/trusty
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Upgrade R to the latest version.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wajig update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; wajig install r-base-core
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Upgrade R packages to the latest version. 
Open an R sesseion using &lt;code&gt;sudo&lt;/code&gt; and run the following statement. 
It takes a while, so be patient. &lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;update.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;F&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;checkBuilt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;T&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Install IRkernel and register it.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# install dependencies packages of IRKernel&lt;/span&gt;
&lt;span class="nf"&gt;install.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;repr&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;IRdisplay&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;crayon&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;pbdZMQ&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;devtools&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="c1"&gt;# install IRkernel&lt;/span&gt;
&lt;span class="n"&gt;devtools&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;install_github&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;IRkernel/IRkernel&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# register IRkernel&lt;/span&gt;
&lt;span class="n"&gt;IRkernel&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;installspec&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If for any reason you cannot install devtools, 
you can manually download IRkernel and its dependencies and install them.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;install.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;evaluate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nf"&gt;install.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;uuid&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# assume you have downloaded IRkernel-0.7.1.tar.gz&lt;/span&gt;
&lt;span class="nf"&gt;install.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;IRkernel-0.7.1.tar.gz&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Configure JupyterLab.
First, run the following command to generate a configuration file for JupyterLab.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;jupyter lab --generate-config
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Second, edit the configuration file as neede. 
    - ip
    - browser 
    - working directory&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Make sure that the directory &lt;code&gt;~/.local/share/jupyter&lt;/code&gt; and its subcontents belogn to you rather than &lt;code&gt;root&lt;/code&gt;.
If they belong to &lt;code&gt;root&lt;/code&gt; then change the own to you by running the following command.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo chown -R username:usergroup ~/.local/share/jupyter
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Start JupyterLab.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nohup jupyter lab &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="issues"&gt;Issues&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Matrices are not displayed correctly.
They are shown as vectors instead.
However,
data frames are displayed correctly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;flush.console does not work well.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;.Last.value retrieves the return value of the last expression in R.
It is not working in Jupyter 0.7 or older.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IRKernel does not implement magics currently.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="R"></category><category term="CRAN"></category><category term="IRKernel"></category><category term="Jupyter"></category><category term="JupyterLab"></category></entry><entry><title>Hive Tips</title><link href="http://www.legendu.net/misc/blog/hive-tips/" rel="alternate"></link><published>2019-04-24T00:01:08-07:00</published><updated>2019-04-24T00:01:08-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-04-24:/misc/blog/hive-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Hive is case-insensitive, both keywords and functions&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use both double and single quotes for strings&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use &lt;code&gt;=&lt;/code&gt; rather than …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Hive is case-insensitive, both keywords and functions&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use both double and single quotes for strings&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use &lt;code&gt;=&lt;/code&gt; rather than &lt;code&gt;==&lt;/code&gt; for equality comparison
  but it seems that &lt;code&gt;==&lt;/code&gt; also works&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use &lt;code&gt;%&lt;/code&gt; rather than &lt;code&gt;*&lt;/code&gt; for matching multiple characters&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use quit or exit&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;when filtering use the where clause
  while when joining use the on clause&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it seems that it's not necessary to use group before running aggregation functions
  in hive, e.g., when you count the number of records in a table.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;must separate fields/column names with comma in the select clause or group by clause.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it seems to me that Hive runs command from right to left?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Random sample from a Hive table.
    http://www.joefkelley.com/736/&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; 
    &lt;span class="o"&gt;*&lt;/span&gt; 
&lt;span class="k"&gt;FROM&lt;/span&gt; 
  &lt;span class="n"&gt;my_table&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt; 
    &lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;0001&lt;/span&gt;
&lt;span class="n"&gt;DISTRIBUTE&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; 
    &lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;SORT&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; 
    &lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;10000&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="common-mistakes"&gt;Common Mistakes&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Forget to separate fields with comma in the select or group by clause.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="hive"&gt;Hive&lt;/h3&gt;
&lt;p&gt;http://stackoverflow.com/questions/18129581/how-do-i-output-the-results-of-a-hiveql-query-to-csv&lt;/p&gt;
&lt;p&gt;https://hadoopsters.net/2015/09/18/hadoop-tutorial-how-to-export-hive-table-to-csv-file/&lt;/p&gt;
&lt;p&gt;https://analyticsanvil.wordpress.com/2016//python-jdbc-dyanmic-hive-scripting/ &lt;/p&gt;
&lt;p&gt;Hive table, if I need a small part of a big Hive table, does hive load in all data or try to be smart? it seems that it's hard ...&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;http://www.joefkelley.com/736/&lt;/p&gt;</content><category term="big data"></category><category term="hadoop"></category><category term="Hive"></category></entry><entry><title>Rust Tips</title><link href="http://www.legendu.net/misc/blog/rust-tips/" rel="alternate"></link><published>2019-04-20T03:03:10-07:00</published><updated>2019-04-20T03:03:10-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-04-20:/misc/blog/rust-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://www.arewelearningyet.com/&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://www.arewelearningyet.com/&lt;/p&gt;</content><category term="programming"></category><category term="Rust"></category><category term="tips"></category></entry><entry><title>Apache Airflow Tips</title><link href="http://www.legendu.net/misc/blog/apache-airflow-tips/" rel="alternate"></link><published>2019-04-20T02:19:54-07:00</published><updated>2019-04-20T02:19:54-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-04-20:/misc/blog/apache-airflow-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="links"&gt;Links&lt;/h2&gt;
&lt;p&gt;https://airflow.apache.org/start.html&lt;/p&gt;
&lt;p&gt;https://airflow.apache.org/cli.html&lt;/p&gt;
&lt;p&gt;&lt;a href="https://medium.com/datareply/airflow-lesser-known-tips-tricks-and-best-practises-cf4d4a90f8f"&gt;Airflow Lesser Known Tips Tricks and Best …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="links"&gt;Links&lt;/h2&gt;
&lt;p&gt;https://airflow.apache.org/start.html&lt;/p&gt;
&lt;p&gt;https://airflow.apache.org/cli.html&lt;/p&gt;
&lt;p&gt;&lt;a href="https://medium.com/datareply/airflow-lesser-known-tips-tricks-and-best-practises-cf4d4a90f8f"&gt;Airflow Lesser Known Tips Tricks and Best Practises&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://medium.com/bluecore-engineering/were-all-using-airflow-wrong-and-how-to-fix-it-a56f14cb0753"&gt;We Are All Using AirFlow Wrong and How to Fix It&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://medium.com/bluecore-engineering/airflow-why-is-nothing-working-f705eb6b7b04"&gt;AirFlow Why Is Nothing Working&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://medium.com/@tomaszdudek/yet-another-scalable-apache-airflow-with-docker-example-setup-84775af5c451"&gt;Yet Another Scalable Apache AirFlow with Docker Example Setup&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;https://kubernetes.io/blog/2018/06/28/airflow-on-kubernetes-part-1-a-different-kind-of-operator/&lt;/p&gt;
&lt;p&gt;https://towardsdatascience.com/kubernetesexecutor-for-airflow-e2155e0f909c&lt;/p&gt;
&lt;p&gt;https://bostata.com/built-to-scale-running-highly-concurrent-etl-with-apache-airflow/&lt;/p&gt;
&lt;h2 id="installation-mysql"&gt;Installation (MySQL)&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install Apache AirFlow.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wajig&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;python3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;python3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pip&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;mysql&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;libmysqlclient&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;AIRFLOW_GPL_UNIDECODE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;yes&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pip3&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;apache&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;airflow&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mysql&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add the following content into your &lt;code&gt;my.cnf&lt;/code&gt; (e.g., &lt;code&gt;/etc/mysql/my.cnf&lt;/code&gt;) file. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[mysqld]&lt;/span&gt;
&lt;span class="na"&gt;explicit_defaults_for_timestamp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Below is an example of &lt;code&gt;my.cnf&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    #
    # &lt;span class="nv"&gt;The&lt;/span&gt; &lt;span class="nv"&gt;MySQL&lt;/span&gt; &lt;span class="nv"&gt;database&lt;/span&gt; &lt;span class="nv"&gt;server&lt;/span&gt; &lt;span class="nv"&gt;configuration&lt;/span&gt; &lt;span class="nv"&gt;file&lt;/span&gt;.
    #
    # &lt;span class="nv"&gt;You&lt;/span&gt; &lt;span class="nv"&gt;can&lt;/span&gt; &lt;span class="nv"&gt;copy&lt;/span&gt; &lt;span class="nv"&gt;this&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;one&lt;/span&gt; &lt;span class="nv"&gt;of&lt;/span&gt;:
    # &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;/etc/mysql/my.cnf&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;global&lt;/span&gt; &lt;span class="nv"&gt;options&lt;/span&gt;,
    # &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;~/.my.cnf&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;user&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;specific&lt;/span&gt; &lt;span class="nv"&gt;options&lt;/span&gt;.
    #
    # &lt;span class="nv"&gt;One&lt;/span&gt; &lt;span class="nv"&gt;can&lt;/span&gt; &lt;span class="nv"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;all&lt;/span&gt; &lt;span class="nv"&gt;long&lt;/span&gt; &lt;span class="nv"&gt;options&lt;/span&gt; &lt;span class="nv"&gt;that&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;program&lt;/span&gt; &lt;span class="nv"&gt;supports&lt;/span&gt;.
    # &lt;span class="nv"&gt;Run&lt;/span&gt; &lt;span class="nv"&gt;program&lt;/span&gt; &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;help&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;get&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;list&lt;/span&gt; &lt;span class="nv"&gt;of&lt;/span&gt; &lt;span class="nv"&gt;available&lt;/span&gt; &lt;span class="nv"&gt;options&lt;/span&gt; &lt;span class="nv"&gt;and&lt;/span&gt; &lt;span class="nv"&gt;with&lt;/span&gt;
    # &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;print&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;defaults&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;see&lt;/span&gt; &lt;span class="nv"&gt;which&lt;/span&gt; &lt;span class="nv"&gt;it&lt;/span&gt; &lt;span class="nv"&gt;would&lt;/span&gt; &lt;span class="nv"&gt;actually&lt;/span&gt; &lt;span class="nv"&gt;understand&lt;/span&gt; &lt;span class="nv"&gt;and&lt;/span&gt; &lt;span class="nv"&gt;use&lt;/span&gt;.
    #
    # &lt;span class="k"&gt;For&lt;/span&gt; &lt;span class="nv"&gt;explanations&lt;/span&gt; &lt;span class="nv"&gt;see&lt;/span&gt;
    # &lt;span class="nv"&gt;http&lt;/span&gt;:&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="nv"&gt;dev&lt;/span&gt;.&lt;span class="nv"&gt;mysql&lt;/span&gt;.&lt;span class="nv"&gt;com&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;doc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;mysql&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;en&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;server&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;system&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;variables&lt;/span&gt;.&lt;span class="nv"&gt;html&lt;/span&gt;

    #
    # &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nv"&gt;IMPORTANT&lt;/span&gt;: &lt;span class="nv"&gt;Additional&lt;/span&gt; &lt;span class="nv"&gt;settings&lt;/span&gt; &lt;span class="nv"&gt;that&lt;/span&gt; &lt;span class="nv"&gt;can&lt;/span&gt; &lt;span class="nv"&gt;override&lt;/span&gt; &lt;span class="nv"&gt;those&lt;/span&gt; &lt;span class="nv"&gt;from&lt;/span&gt; &lt;span class="nv"&gt;this&lt;/span&gt; &lt;span class="nv"&gt;file&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
    # &lt;span class="nv"&gt;The&lt;/span&gt; &lt;span class="nv"&gt;files&lt;/span&gt; &lt;span class="nv"&gt;must&lt;/span&gt; &lt;span class="k"&gt;end&lt;/span&gt; &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;.cnf&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;, &lt;span class="nv"&gt;otherwise&lt;/span&gt; &lt;span class="nv"&gt;they&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;ll be ignored.&lt;/span&gt;
    #

    &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nv"&gt;includedir&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;mysql&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;conf&lt;/span&gt;.&lt;span class="nv"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
    &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nv"&gt;includedir&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;mysql&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;mysql&lt;/span&gt;.&lt;span class="nv"&gt;conf&lt;/span&gt;.&lt;span class="nv"&gt;d&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;

    [&lt;span class="nv"&gt;mysqld&lt;/span&gt;]
    &lt;span class="nv"&gt;explicit_defaults_for_timestamp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Initial database.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;airflow&lt;/span&gt; &lt;span class="n"&gt;initdb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Start the web server.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;airflow&lt;/span&gt; &lt;span class="n"&gt;webserver&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;D&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="mi"&gt;8080&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Start a scheduler.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;airflow&lt;/span&gt; &lt;span class="n"&gt;scheduler&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;D&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://airflow.apache.org/start.html&lt;/p&gt;
&lt;p&gt;https://airflow.apache.org/installation.html&lt;/p&gt;
&lt;p&gt;https://airflow.apache.org/tutorial.html&lt;/p&gt;</content><category term="programming"></category><category term="Apache AirFlow"></category><category term="workflow"></category><category term="scheduler"></category><category term="scheduling"></category></entry><entry><title>General Tips for LaTeX</title><link href="http://www.legendu.net/misc/blog/general-tips-for-latex/" rel="alternate"></link><published>2019-04-18T18:02:38-07:00</published><updated>2019-04-18T18:02:38-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-04-18:/misc/blog/general-tips-for-latex/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="online-compilereditor"&gt;Online Compiler/Editor&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.latexlab.org/"&gt;LaTeXLab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.simplelatex.com/"&gt;Simple LaTeX&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="http://en.wikibooks.org/wiki/Latex"&gt;wikibooks&lt;/a&gt; has a comprehensive tutorial about LaTeX. &lt;/p&gt;
&lt;p&gt;&lt;a href="http://en.wikibooks.org/wiki/LaTeX/List_Structures"&gt;List Structures on WikiBooks&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.texample.net/"&gt;TeXample.net&lt;/a&gt; has …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="online-compilereditor"&gt;Online Compiler/Editor&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.latexlab.org/"&gt;LaTeXLab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.simplelatex.com/"&gt;Simple LaTeX&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="http://en.wikibooks.org/wiki/Latex"&gt;wikibooks&lt;/a&gt; has a comprehensive tutorial about LaTeX. &lt;/p&gt;
&lt;p&gt;&lt;a href="http://en.wikibooks.org/wiki/LaTeX/List_Structures"&gt;List Structures on WikiBooks&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.texample.net/"&gt;TeXample.net&lt;/a&gt; has lots of useful example resources for TeX users.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;LaTeX does not recognize &lt;code&gt;~&lt;/code&gt; as one's home directory.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sometimes these old temporary files generated by LaTeX during compiling can lead LaTeX to failure. 
    So if you don't think there's anything wrong in your LATeX code 
    (especially when the code works well before but it doesn't work now), 
    you might want to delete all these temporary files and then compile LaTeX again. 
    If you're working on a big LaTeX project and there're many subfolders which containing temporary file to be deleted, 
    it's very annoying to deleted them manually. 
    A good is to deleted them recursively using command prompt (in windows) or terminal (in linux).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you define you new commands in LaTeX, 
    you'd better put them after command &lt;code&gt;\begin{document}&lt;/code&gt;, 
    especially when you import these commands from a existing file, otherwise, 
    LaTeX might fail to find these user-defined commands.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Usually we don't have to put a string into a quotation mark in LaTeX,
    however, we have do this if the string contains space(s).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Command &lt;code&gt;\include{}&lt;/code&gt; cannot be nested, 
    and the file being
    imported cannot contain command &lt;code&gt;\setcounter&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You must use &lt;code&gt;\printanswers&lt;/code&gt; to show contents in solution
    environment if you use the document class &lt;code&gt;exam&lt;/code&gt;. Note this offers a
    neat way for controlling the solutions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you use the &lt;code&gt;hyperref&lt;/code&gt;, then you'd better not use the option &lt;code&gt;dvipdfm&lt;/code&gt;.
    Without the option &lt;code&gt;dvipdfm&lt;/code&gt;, both the commands &lt;code&gt;latex&lt;/code&gt; and  &lt;code&gt;pdflatex&lt;/code&gt;
    work well; with the option &lt;code&gt;dvipdfm&lt;/code&gt;, only the &lt;code&gt;latex&lt;/code&gt; wroks.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you want to compile different LaTeX code according to different
    compiler used, you can use &lt;code&gt;ifpdf&lt;/code&gt;. In your LaTeX code, you can use
    the following syntax to achieve the purpose&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;ifpdf&lt;/span&gt;
&lt;span class="nf"&gt;%latex&lt;/span&gt; &lt;span class="n"&gt;code&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;be&lt;/span&gt; &lt;span class="n"&gt;compiled&lt;/span&gt; &lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="n"&gt;pdflatex&lt;/span&gt;
&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="nf"&gt;%latex&lt;/span&gt; &lt;span class="n"&gt;code&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;be&lt;/span&gt; &lt;span class="n"&gt;compiled&lt;/span&gt; &lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="n"&gt;latex&lt;/span&gt;
&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Most LaTeX IDEs support user-defined templates,
    so you can create your own LaTeX templates for different purposes.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sometimes you might want to use a picture or some data table in a PDF document,
    but you do not have the source picture nor the source LaTeX code. What you
    can do is to take a snap shot of the part on the PDF using Adobe Reader,
    copy and paste the snap shot into Word, change the word file into PDF
    using &lt;code&gt;Save as ...&lt;/code&gt; function in Word, and then include the PDF pages
    into the your LaTeX source file. Some PDF viewer softwares (e.g., evince) might also allows you
    to extract the picture directly. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you use environment &lt;code&gt;align&lt;/code&gt;, you do not have to use &lt;code&gt;&amp;amp;&lt;/code&gt; to align
    equations manually though can do that. If you don't align equations
    manually, they will be aligned automatically.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="related-image-converterediter"&gt;Related Image Converter/Editer&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://tclab.kaist.ac.kr/ipe/"&gt;IPE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.ctan.org/tex-archive/support/jpeg2ps/"&gt;jpeg2ps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.ctan.org/tex-archive/support/eps2pdf/"&gt;eps2pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.xfig.org/"&gt;XFig&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://bourbon.usc.edu/tgif/download.html"&gt;TGIF&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="bibliography-management"&gt;Bibliography Management&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://sourceforge.net/projects/jabref/"&gt;JabRef&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.ctan.org/tex-archive/support/bibdb/"&gt;wbibdb22&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://jo.irisson.free.fr/bstdatabase/"&gt;LaTeX Bibliography Styles Database&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="integration-with-other-tools"&gt;Integration with Other Tools&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://users.ecs.soton.ac.uk/srg/softwaretools/presentation/TeX4PPT/"&gt;Tex4PPT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;http://www.tug.org/books/&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.emerson.emory.edu/services/latex/latex2e/latex2e_toc.html"&gt;LaTeX Help 1.4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.ctan.org/tex-archive/info/lshort/english/lshort.pdf"&gt;Not so short LaTeX guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="ftp://tug.ctan.org/pub/tex-archive/info/symbols/comprehensive/symbols-letter.pdf"&gt;The Comprehensive LaTeX Symbol List&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://amath.colorado.edu/documentation/LaTeX/Symbols.pdf"&gt;LaTeX Mathematical Symbols&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="ftp://ftp.ams.org/pub/tex/doc/amsmath/short-math-guide.pdf"&gt;Short Math Guide for LaTeX&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="tips"></category><category term="LaTeX"></category><category term="programming"></category><category term="list"></category></entry><entry><title>General Tips for Logging</title><link href="http://www.legendu.net/misc/blog/general-tips-for-logging/" rel="alternate"></link><published>2019-04-10T22:33:13-07:00</published><updated>2019-04-10T22:33:13-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-04-10:/misc/blog/general-tips-for-logging/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Many logging libraries support sending logs as emails or as attachments of emails. 
    It is suggested that you send warnings …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Many logging libraries support sending logs as emails or as attachments of emails. 
    It is suggested that you send warnings and more critical information to yourself via email. &lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels&lt;/p&gt;</content><category term="programming"></category><category term="logging"></category><category term="log"></category></entry><entry><title>Economy and Finance</title><link href="http://www.legendu.net/misc/blog/economy-and-finance/" rel="alternate"></link><published>2019-03-30T17:28:31-07:00</published><updated>2019-03-30T17:28:31-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-30:/misc/blog/economy-and-finance/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="economy"&gt;Economy&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=PHe0bXAIuk0"&gt;How The Economic Machine Works by Ray Dalio&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="finance"&gt;Finance&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Spend less money than you can make.&lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="economy"&gt;Economy&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=PHe0bXAIuk0"&gt;How The Economic Machine Works by Ray Dalio&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="finance"&gt;Finance&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Spend less money than you can make.&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category></entry><entry><title>Make a Business Card</title><link href="http://www.legendu.net/misc/blog/make-a-business-card/" rel="alternate"></link><published>2019-03-30T17:20:50-07:00</published><updated>2019-03-30T17:20:50-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-30:/misc/blog/make-a-business-card/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=DxzVnK4NuJ0"&gt;How to Make Business cards for Free&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=WT0L9UrFKTY"&gt;Make Business Cards - PowerPoint 2010&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=DxzVnK4NuJ0"&gt;How to Make Business cards for Free&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=WT0L9UrFKTY"&gt;Make Business Cards - PowerPoint 2010&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Tips for Mathematica</title><link href="http://www.legendu.net/misc/blog/mathematica-tips/" rel="alternate"></link><published>2019-03-29T09:27:31-07:00</published><updated>2019-03-29T09:27:31-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-03-29:/misc/blog/mathematica-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Drawing tools, 
    under a plot, click more, click drawing tools ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;to export results of GraphicsRow, use the &lt;code&gt;Export&lt;/code&gt; function
    mouse …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Drawing tools, 
    under a plot, click more, click drawing tools ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;to export results of GraphicsRow, use the &lt;code&gt;Export&lt;/code&gt; function
    mouse click seems not to work well even if you select all subplots ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="tips"></category><category term="programming"></category><category term="Mathematica"></category><category term="Wolfram"></category></entry><entry><title>Markdown Tips</title><link href="http://www.legendu.net/misc/blog/markdown-tips/" rel="alternate"></link><published>2019-03-28T18:53:06-07:00</published><updated>2019-03-28T18:53:06-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-03-28:/misc/blog/markdown-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;There are 2 ways to include (other Markdown) files in a Markdown file. 
    The first way is to use the …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;There are 2 ways to include (other Markdown) files in a Markdown file. 
    The first way is to use the tool &lt;a href="https://github.com/sethen/markdown-include"&gt;markdown-include&lt;/a&gt;.
    Another way is to use the tool pandoc.
    Please see discussions on &lt;a href="http://stackoverflow.com/questions/4779582/markdown-and-including-multiple-files"&gt;stackoverflow&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="markdown-related-tools"&gt;Markdown Related Tools&lt;/h2&gt;
&lt;p&gt;grip
markdown-include
pandoc
python-markdown ..
knitr (R package)&lt;/p&gt;
&lt;h2 id="editors"&gt;Editors&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ReText&lt;/li&gt;
&lt;li&gt;MdCharm&lt;/li&gt;
&lt;li&gt;UberWriter&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="questions"&gt;Questions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;how to define a link variable in jekyll or in markdown?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;does markdown support include and so on? if there are mutiple md file in a folder, several of them are use by a main file. what happens? can we tell jekyll not to compile some of the markdown files?   &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;markdown small size? right aliganment?   &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;categories, hierarchical? ...? it seems that jekyll support both &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;can we include a pdf in jekyll? I guess the problem is that whether html can do that&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to add a title for a figure?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The list environment does not work as expected sometimes. 
    Why does this happen? 
    Do we have to add two extra spaces so that it works?
    The list environment problem might actually the problem of firefox. 
    It seems that Chrome displays pages correctly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It seems that the comment separate one paragraph into two. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to indent list?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://daringfireball.net/projects/markdown/"&gt;John Gruber&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Here-Cheatsheet"&gt;Cheat Sheet&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://stationinthemetro.com/storage/dev/Markdown_Cheat_Sheet_v1-1.pdf"&gt;cheet sheet&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="mind-map"&gt;Mind Map&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.memofon.com/"&gt;MemoFon&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="programming"></category><category term="markdown"></category><category term="LaTeX"></category><category term="equation"></category><category term="tips"></category></entry><entry><title>a Collection of Cheatsheets</title><link href="http://www.legendu.net/misc/blog/a-collection-of-cheatsheets/" rel="alternate"></link><published>2019-03-28T18:49:13-07:00</published><updated>2019-03-28T18:49:13-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-28:/misc/blog/a-collection-of-cheatsheets/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://becominghuman.ai/cheat-sheets-for-ai-neural-networks-machine-learning-deep-learning-big-data-678c51b4b463"&gt;Cheat Sheets for AI, Neural Networks, Machine Learning, Deep Learning &amp;amp; Big Data&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://becominghuman.ai/cheat-sheets-for-ai-neural-networks-machine-learning-deep-learning-big-data-678c51b4b463"&gt;Cheat Sheets for AI, Neural Networks, Machine Learning, Deep Learning &amp;amp; Big Data&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Workflow managing Tools</title><link href="http://www.legendu.net/misc/blog/workflow-managing-tools/" rel="alternate"></link><published>2019-03-28T18:42:55-07:00</published><updated>2019-03-28T18:42:55-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-28:/misc/blog/workflow-managing-tools/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;So far most people recommends Apache Airflow!&lt;/p&gt;
&lt;h2 id="apacheairflow"&gt;&lt;a href="https://github.com/apache/airflow"&gt;apache/airflow&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="maradata-integration"&gt;&lt;a href="https://github.com/mara/data-integration"&gt;mara/data-integration&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="azkabanazkaban"&gt;&lt;a href="https://github.com/azkaban/azkaban"&gt;azkaban/azkaban&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="stackstormst2"&gt;&lt;a href="https://github.com/StackStorm/st2"&gt;StackStorm/st2&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="rundeckrundeck"&gt;&lt;a href="https://github.com/rundeck/rundeck"&gt;rundeck/rundeck&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="crontab"&gt;crontab&lt;/h2&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;So far most people recommends Apache Airflow!&lt;/p&gt;
&lt;h2 id="apacheairflow"&gt;&lt;a href="https://github.com/apache/airflow"&gt;apache/airflow&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="maradata-integration"&gt;&lt;a href="https://github.com/mara/data-integration"&gt;mara/data-integration&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="azkabanazkaban"&gt;&lt;a href="https://github.com/azkaban/azkaban"&gt;azkaban/azkaban&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="stackstormst2"&gt;&lt;a href="https://github.com/StackStorm/st2"&gt;StackStorm/st2&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="rundeckrundeck"&gt;&lt;a href="https://github.com/rundeck/rundeck"&gt;rundeck/rundeck&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="crontab"&gt;crontab&lt;/h2&gt;</content><category term="programming"></category><category term="workflow manager"></category><category term="scheduling"></category><category term="scheduler"></category><category term="Apache Airflow"></category><category term="mara"></category><category term="Azkaban"></category><category term="StackStorm"></category></entry><entry><title>Typescript Tips</title><link href="http://www.legendu.net/misc/blog/typescript-tips/" rel="alternate"></link><published>2019-03-15T17:52:54-07:00</published><updated>2019-03-15T17:52:54-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-15:/misc/blog/typescript-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://code.visualstudio.com/docs/languages/typescript&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://code.visualstudio.com/docs/languages/typescript&lt;/p&gt;</content><category term="programming"></category><category term="TypeScript"></category><category term="tips"></category></entry><entry><title>Tips for JavaScript</title><link href="http://www.legendu.net/misc/blog/javascript-tips/" rel="alternate"></link><published>2019-03-14T23:47:42-07:00</published><updated>2019-03-14T23:47:42-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-03-14:/misc/blog/javascript-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="nodejs"&gt;Node.js&lt;/h2&gt;
&lt;p&gt;&lt;a href="https:/nodejs.org/en/"&gt;Node.js&lt;/a&gt; is a JavaScript runtime environment outside browsers.&lt;/p&gt;
&lt;p&gt;https://github.com/sindresorhus/awesome-nodejs&lt;/p&gt;
&lt;p&gt;https://github.com/bnb …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="nodejs"&gt;Node.js&lt;/h2&gt;
&lt;p&gt;&lt;a href="https:/nodejs.org/en/"&gt;Node.js&lt;/a&gt; is a JavaScript runtime environment outside browsers.&lt;/p&gt;
&lt;p&gt;https://github.com/sindresorhus/awesome-nodejs&lt;/p&gt;
&lt;p&gt;https://github.com/bnb/awesome-awesome-nodejs&lt;/p&gt;
&lt;p&gt;&lt;a href="http://javascriptlibraries.com/"&gt;JavaScript Libraries&lt;/a&gt;
&lt;a href="http://en.wikibooks.org/wiki/JavaScript"&gt;JavaScript WikiBooks&lt;/a&gt;
&lt;a href="http://www.w3schools.com/js/default.asp"&gt;W3Schools JavaScript Tutorial&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="build-tools"&gt;Build Tools&lt;/h2&gt;
&lt;p&gt;https://arstechnica.com/civis/viewtopic.php?f=20&amp;amp;t=1432661&lt;/p&gt;
&lt;p&gt;https://www.tutorialsteacher.com/typescript/typescript-build-tools&lt;/p&gt;
&lt;h2 id="install-import-a-package"&gt;Install &amp;amp; Import a Package&lt;/h2&gt;
&lt;p&gt;This is a common misunderstanding in Node.js and npm. Installing a package globally doesn't ensure that the package can be required. A global install is meant to be used to install executable files. For example, if you want to install the latest version of npm, then you could run the command: npm install -g npm. This command would install the npm package in {prefix}/lib/node_modules and the executable file in {prefix}/bin (that usually is in your PATH).&lt;/p&gt;
&lt;p&gt;In your case, I'd suggest the following:&lt;/p&gt;
&lt;p&gt;$ mkdir my-project&lt;/p&gt;
&lt;p&gt;$ cd my-project&lt;/p&gt;
&lt;p&gt;$ npm init -y
[...]&lt;/p&gt;
&lt;p&gt;$ npm install web3
[...]&lt;/p&gt;
&lt;p&gt;$ npm install ethereum.js&lt;/p&gt;
&lt;p&gt;$ jupyter notebook
[so that your notebook is created in the folder where the npm packages have been installed]&lt;/p&gt;
&lt;p&gt;https://github.com/n-riesco/ijavascript/issues/118&lt;/p&gt;
&lt;h2 id="testing-debugging"&gt;Testing &amp;amp; Debugging&lt;/h2&gt;
&lt;p&gt;https://github.com/Microsoft/vscode-recipes/tree/master/Docker-TypeScript&lt;/p&gt;
&lt;h2 id="docker-client-api"&gt;Docker Client API&lt;/h2&gt;
&lt;p&gt;https://github.com/AgustinCB/docker-api&lt;/p&gt;
&lt;p&gt;https://github.com/apocas/dockerode&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;case sensi tive&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;you don't have to write every line of code in HTML,
    you can save JavaScript code in another file and then load it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;alert vs confirm vs prompt&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;An alert box is often used if you want to make sure information comes through to the user.&lt;/p&gt;
&lt;p&gt;When an alert box pops up, the user will have to click "OK" to proceed.&lt;/p&gt;
&lt;p&gt;A confirm box is often used if you want the user to verify or accept something.&lt;/p&gt;
&lt;p&gt;When a confirm box pops up, the user will have to click either "OK" or "Cancel" to proceed.&lt;/p&gt;
&lt;p&gt;If the user clicks "OK", the box returns true. If the user clicks "Cancel", the box returns false.&lt;/p&gt;
&lt;p&gt;A prompt box is often used if you want the user to input a value before entering a page.&lt;/p&gt;
&lt;p&gt;When a prompt box pops up, the user will have to click either "OK" or "Cancel" to proceed after entering an input value.&lt;/p&gt;
&lt;p&gt;If the user clicks "OK" the box returns the input value. If the user clicks "Cancel" the box returns null.&lt;/p&gt;
&lt;h2 id="electron"&gt;Electron&lt;/h2&gt;
&lt;p&gt;For desktop UI.&lt;/p&gt;
&lt;h2 id="libraries"&gt;Libraries&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;D3&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;jQuery&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;AJAX relationship between jQuery? seems that jQuery can make AJAX calls&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;plotly, phantomjs&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;angularJS&lt;/p&gt;
&lt;h2 id="visulization"&gt;Visulization&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Google Visualization APIs&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href="http://underscorejs.org/"&gt;Underscore&lt;/a&gt;
is a JavaScript library that provides a whole mess of useful functional programming helpers without extending any built-in objects. 
It's the answer to the question: 
"If I sit down in front of a blank HTML page, 
and want to start being productive immediately, 
what do I need?" ... and the tie to go along with jQuery's tux and Backbone's suspenders. &lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://github.com/jashkenas/coffeescript/wiki/list-of-languages-that-compile-to-js&lt;/p&gt;</content><category term="tips"></category><category term="programming"></category><category term="JavaScript"></category><category term="JS"></category><category term="web"></category></entry><entry><title>Tips for Typescript Compiler</title><link href="http://www.legendu.net/misc/blog/tips-for-typescript-compiler/" rel="alternate"></link><published>2019-03-14T23:47:42-07:00</published><updated>2019-03-14T23:47:42-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-14:/misc/blog/tips-for-typescript-compiler/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html"&gt;Compiler Options&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/39416691/webpack-ts2304-cannot-find-name-map-set-promise&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/30439869/can-typescript-compile-to-es6-code&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html"&gt;Compiler Options&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/39416691/webpack-ts2304-cannot-find-name-map-set-promise&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/30439869/can-typescript-compile-to-es6-code&lt;/p&gt;</content><category term="programming"></category><category term="TypeScript"></category><category term="compiler"></category><category term="ES6"></category><category term="JavaScript"></category></entry><entry><title>Python Virtual Environment</title><link href="http://www.legendu.net/misc/blog/python-virtual-environment/" rel="alternate"></link><published>2019-03-13T04:03:06-07:00</published><updated>2019-03-13T04:03:06-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-03-13:/misc/blog/python-virtual-environment/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It is suggested that you use &lt;code&gt;venv&lt;/code&gt; for managing virtual environments in Python3. &lt;/p&gt;
&lt;h2 id="installation-on-ubuntu"&gt;Installation on Ubuntu&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wajig install python3-venv
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="create-a-virtual-environment"&gt;Create …&lt;/h2&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It is suggested that you use &lt;code&gt;venv&lt;/code&gt; for managing virtual environments in Python3. &lt;/p&gt;
&lt;h2 id="installation-on-ubuntu"&gt;Installation on Ubuntu&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wajig install python3-venv
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="create-a-virtual-environment"&gt;Create a Virtual Environment&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python3 -m venv /path/to/your/environment
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;venv&lt;/code&gt; module provides several parameters to control the behavior of the virtual environment to be created.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nv"&gt;python3&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;m&lt;/span&gt; &lt;span class="nv"&gt;venv&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;h&lt;/span&gt;
&lt;span class="nv"&gt;usage&lt;/span&gt;: &lt;span class="nv"&gt;venv&lt;/span&gt; [&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;h&lt;/span&gt;] [&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;system&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;site&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;packages&lt;/span&gt;] [&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;symlinks&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;copies&lt;/span&gt;] [&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;clear&lt;/span&gt;]
            [&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;upgrade&lt;/span&gt;] [&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;without&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;pip&lt;/span&gt;] [&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;prompt&lt;/span&gt; &lt;span class="nv"&gt;PROMPT&lt;/span&gt;]
            &lt;span class="nv"&gt;ENV_DIR&lt;/span&gt; [&lt;span class="nv"&gt;ENV_DIR&lt;/span&gt; ...]

&lt;span class="nv"&gt;Creates&lt;/span&gt; &lt;span class="nv"&gt;virtual&lt;/span&gt; &lt;span class="nv"&gt;Python&lt;/span&gt; &lt;span class="nv"&gt;environments&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;one&lt;/span&gt; &lt;span class="nv"&gt;or&lt;/span&gt; &lt;span class="nv"&gt;more&lt;/span&gt; &lt;span class="nv"&gt;target&lt;/span&gt; &lt;span class="nv"&gt;directories&lt;/span&gt;.

&lt;span class="nv"&gt;positional&lt;/span&gt; &lt;span class="nv"&gt;arguments&lt;/span&gt;:
  &lt;span class="nv"&gt;ENV_DIR&lt;/span&gt;               &lt;span class="nv"&gt;A&lt;/span&gt; &lt;span class="nv"&gt;directory&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;create&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;environment&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt;.

&lt;span class="nv"&gt;optional&lt;/span&gt; &lt;span class="nv"&gt;arguments&lt;/span&gt;:
  &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;h&lt;/span&gt;, &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;help&lt;/span&gt;            &lt;span class="k"&gt;show&lt;/span&gt; &lt;span class="nv"&gt;this&lt;/span&gt; &lt;span class="nv"&gt;help&lt;/span&gt; &lt;span class="nv"&gt;message&lt;/span&gt; &lt;span class="nv"&gt;and&lt;/span&gt; &lt;span class="k"&gt;exit&lt;/span&gt;
  &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;system&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;site&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;packages&lt;/span&gt;
                        &lt;span class="nv"&gt;Give&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;virtual&lt;/span&gt; &lt;span class="nv"&gt;environment&lt;/span&gt; &lt;span class="nv"&gt;access&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;system&lt;/span&gt;
                        &lt;span class="nv"&gt;site&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;packages&lt;/span&gt; &lt;span class="nv"&gt;dir&lt;/span&gt;.
  &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;symlinks&lt;/span&gt;            &lt;span class="nv"&gt;Try&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;symlinks&lt;/span&gt; &lt;span class="nv"&gt;rather&lt;/span&gt; &lt;span class="nv"&gt;than&lt;/span&gt; &lt;span class="nv"&gt;copies&lt;/span&gt;, &lt;span class="nv"&gt;when&lt;/span&gt; &lt;span class="nv"&gt;symlinks&lt;/span&gt;
                        &lt;span class="nv"&gt;are&lt;/span&gt; &lt;span class="nv"&gt;not&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;default&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;platform&lt;/span&gt;.
  &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;copies&lt;/span&gt;              &lt;span class="nv"&gt;Try&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;copies&lt;/span&gt; &lt;span class="nv"&gt;rather&lt;/span&gt; &lt;span class="nv"&gt;than&lt;/span&gt; &lt;span class="nv"&gt;symlinks&lt;/span&gt;, &lt;span class="nv"&gt;even&lt;/span&gt; &lt;span class="nv"&gt;when&lt;/span&gt;
                        &lt;span class="nv"&gt;symlinks&lt;/span&gt; &lt;span class="nv"&gt;are&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;default&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;platform&lt;/span&gt;.
  &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;clear&lt;/span&gt;               &lt;span class="nv"&gt;Delete&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;contents&lt;/span&gt; &lt;span class="nv"&gt;of&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;environment&lt;/span&gt; &lt;span class="nv"&gt;directory&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;it&lt;/span&gt;
                        &lt;span class="nv"&gt;already&lt;/span&gt; &lt;span class="nv"&gt;exists&lt;/span&gt;, &lt;span class="nv"&gt;before&lt;/span&gt; &lt;span class="nv"&gt;environment&lt;/span&gt; &lt;span class="nv"&gt;creation&lt;/span&gt;.
  &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;upgrade&lt;/span&gt;             &lt;span class="nv"&gt;Upgrade&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;environment&lt;/span&gt; &lt;span class="nv"&gt;directory&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;this&lt;/span&gt; &lt;span class="nv"&gt;version&lt;/span&gt;
                        &lt;span class="nv"&gt;of&lt;/span&gt; &lt;span class="nv"&gt;Python&lt;/span&gt;, &lt;span class="nv"&gt;assuming&lt;/span&gt; &lt;span class="nv"&gt;Python&lt;/span&gt; &lt;span class="nv"&gt;has&lt;/span&gt; &lt;span class="nv"&gt;been&lt;/span&gt; &lt;span class="nv"&gt;upgraded&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;place&lt;/span&gt;.
  &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;without&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;pip&lt;/span&gt;         &lt;span class="nv"&gt;Skips&lt;/span&gt; &lt;span class="nv"&gt;installing&lt;/span&gt; &lt;span class="nv"&gt;or&lt;/span&gt; &lt;span class="nv"&gt;upgrading&lt;/span&gt; &lt;span class="nv"&gt;pip&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;virtual&lt;/span&gt;
                        &lt;span class="nv"&gt;environment&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;pip&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;bootstrapped&lt;/span&gt; &lt;span class="nv"&gt;by&lt;/span&gt; &lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
  &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="nv"&gt;prompt&lt;/span&gt; &lt;span class="nv"&gt;PROMPT&lt;/span&gt;       &lt;span class="nv"&gt;Provides&lt;/span&gt; &lt;span class="nv"&gt;an&lt;/span&gt; &lt;span class="nv"&gt;alternative&lt;/span&gt; &lt;span class="nv"&gt;prompt&lt;/span&gt; &lt;span class="nv"&gt;prefix&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;this&lt;/span&gt;
                        &lt;span class="nv"&gt;environment&lt;/span&gt;.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The virtual environment can be updated by running the module command again 
with the desired combination of parameters.
For example, 
suppose a virtual environment is created using the command &lt;code&gt;python3 -m venv /path/to/your/environment&lt;/code&gt;,
you can make it inherit system site-packages by running the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python3 -m venv --system-site-packages venv
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="activate-the-virtual-environment"&gt;Activate the Virtual Environment&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;source&lt;/span&gt; &amp;lt;DIR&amp;gt;/bin/activate
&lt;span class="c1"&gt;# or &lt;/span&gt;
. &amp;lt;DIR&amp;gt;/bin/activate
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="use-the-virtual-environment-in-pycharm"&gt;Use the Virtual Environment in PyCharm&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Click on the &lt;code&gt;PyCharm&lt;/code&gt; menu.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click on &lt;code&gt;Preferences...&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select &lt;code&gt;Project Interpreter&lt;/code&gt; in the left panel under &lt;code&gt;Project&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If no virtual environment is configured for PyCharm, 
    you can select &lt;code&gt;Using Existing Virtual Environment&lt;/code&gt; 
    and then choose the Python executable in the virtual environment directory (e.g., &lt;code&gt;venv/bin/python&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://packaging.python.org/tutorials/installing-packages/#creating-virtual-environments&lt;/p&gt;
&lt;p&gt;&lt;a href="http://libzx.so/main/learning/2016/03/13/best-practice-for-virtualenv-and-git-repos.html"&gt;Best Practice for Virtual Environment and Git Repository&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="virtual environment"></category><category term="venv"></category></entry><entry><title>Named Parameters in Typescript</title><link href="http://www.legendu.net/misc/blog/named-parameters-in-typescript/" rel="alternate"></link><published>2019-03-12T17:31:44-07:00</published><updated>2019-03-12T17:31:44-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-12:/misc/blog/named-parameters-in-typescript/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/Microsoft/TypeScript/issues/467&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/Microsoft/TypeScript/issues/467&lt;/p&gt;</content><category term="programming"></category><category term="TypeScript"></category><category term="named parameters"></category></entry><entry><title>Python Build Tools</title><link href="http://www.legendu.net/misc/blog/python-build-tools/" rel="alternate"></link><published>2019-03-11T23:07:13-07:00</published><updated>2019-03-11T23:07:13-07:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-11:/misc/blog/python-build-tools/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;poetry, pybuilder and pydoit seem to be good ones.&lt;/p&gt;
&lt;h2 id="sdispaterpoetry"&gt;&lt;a href="https://github.com/sdispater/poetry"&gt;sdispater/poetry&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="pybuilderpybuilder"&gt;&lt;a href="https://github.com/pybuilder/pybuilder"&gt;pybuilder/pybuilder&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="pypapipenv"&gt;&lt;a href="https://github.com/pypa/pipenv/"&gt;pypa/pipenv&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="pydoit"&gt;&lt;a href="https://github.com/pydoit/doit"&gt;pydoit&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="ninja"&gt;&lt;a href="https://github.com/ninja-build/ninja"&gt;ninja&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="platformio"&gt;&lt;a href="https://github.com/platformio/platformio-core"&gt;PlatformIO&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="meson"&gt;&lt;a href="https://github.com/mesonbuild/meson"&gt;Meson&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="buildbotbuildbot"&gt;&lt;a href="https://github.com/buildbot/buildbot"&gt;buildbot …&lt;/a&gt;&lt;/h2&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;poetry, pybuilder and pydoit seem to be good ones.&lt;/p&gt;
&lt;h2 id="sdispaterpoetry"&gt;&lt;a href="https://github.com/sdispater/poetry"&gt;sdispater/poetry&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="pybuilderpybuilder"&gt;&lt;a href="https://github.com/pybuilder/pybuilder"&gt;pybuilder/pybuilder&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="pypapipenv"&gt;&lt;a href="https://github.com/pypa/pipenv/"&gt;pypa/pipenv&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="pydoit"&gt;&lt;a href="https://github.com/pydoit/doit"&gt;pydoit&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="ninja"&gt;&lt;a href="https://github.com/ninja-build/ninja"&gt;ninja&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="platformio"&gt;&lt;a href="https://github.com/platformio/platformio-core"&gt;PlatformIO&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="meson"&gt;&lt;a href="https://github.com/mesonbuild/meson"&gt;Meson&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="buildbotbuildbot"&gt;&lt;a href="https://github.com/buildbot/buildbot"&gt;buildbot/buildbot&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Buildbot is a Python system to automate the compile/test cycle to validate code changes.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://frostming.com/2019/01-04/pipenv-poetry&lt;/p&gt;
&lt;p&gt;https://www.youtube.com/watch?v=GBQAKldqgZs&amp;amp;feature=youtu.be&lt;/p&gt;
&lt;p&gt;https://www.youtube.com/watch?v=GBQAKldqgZs&amp;amp;feature=youtu.be&lt;/p&gt;
&lt;p&gt;https://medium.com/@DJetelina/pipenv-review-after-using-in-production-a05e7176f3f0&lt;/p&gt;
&lt;p&gt;http://www.pybloggers.com/2018/07/pipenv-promises-a-lot-delivers-very-little/&lt;/p&gt;
&lt;p&gt;https://hynek.me/articles/python-app-deps-2018/&lt;/p&gt;
&lt;p&gt;https://medium.com/@fedor/setting-up-intellij-for-py-gradle-758770367858&lt;/p&gt;
&lt;p&gt;https://jacobian.org/2018/feb/21/python-environment-2018/&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="build tools"></category></entry><entry><title>PyBuilder Tips</title><link href="http://www.legendu.net/misc/blog/pybuilder-tips/" rel="alternate"></link><published>2019-03-11T22:34:44-07:00</published><updated>2019-03-11T22:34:44-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-03-11:/misc/blog/pybuilder-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="jump-start-a-python-3-project-using-pybuilder"&gt;Jump Start a Python 3 Project Using pybuilder&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install the Python package venv if you haven't. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wajig&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;python3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;venv …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="jump-start-a-python-3-project-using-pybuilder"&gt;Jump Start a Python 3 Project Using pybuilder&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install the Python package venv if you haven't. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wajig&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;python3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;venv&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a directory for your new project (e.g., myproj).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mkdir&lt;/span&gt; &lt;span class="n"&gt;myproj&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Change directory to the created directory. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;myproj&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a new virtual environment.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;python3&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="n"&gt;venv&lt;/span&gt; &lt;span class="n"&gt;venv&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Activate the virtual environment.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;source&lt;/span&gt; &lt;span class="n"&gt;venv&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;activate&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install &lt;code&gt;pybuilder&lt;/code&gt; in the virtual environment.&lt;/p&gt;
&lt;p&gt;pip3 install pybuilder&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run the &lt;code&gt;pyb&lt;/code&gt; command to initialize your project.&lt;/p&gt;
&lt;p&gt;pyb --start-project &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="copyinstall-non-python-files"&gt;Copy/Install Non-Python Files&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pybuilder.core&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;use_plugin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;init&lt;/span&gt;
     
&lt;span class="n"&gt;use_plugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;python.core&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;use_plugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;python.unittest&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;use_plugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;python.install_dependencies&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;use_plugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;python.flake8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;use_plugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;python.coverage&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;use_plugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;python.distutils&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;use_plugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;copy_resources&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
     
&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;demo_proj&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;version&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;0.0.1&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;default_task&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;publish&amp;quot;&lt;/span&gt;
     
     
&lt;span class="nd"&gt;@init&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;set_properties&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_property&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;coverage_break_build&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;depends_on_requirements&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;requirements.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_property&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;copy_resources_glob&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;src/main/resources/*.jar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_property&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;copy_resources_target&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$dir_dist&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;install_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;share/demo_proj/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;src/main/resources/ojdbc14.jar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;install_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;share/demo_proj/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;src/main/resources/tdgssconfig.jar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;install_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;share/demo_proj/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;src/main/resources/terajdbc4.jar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;https://stackoverflow.com/questions/37409282/pybuilder-non-python-files-are-not-packaged&lt;/p&gt;
&lt;h2 id="integration-with-pycharm"&gt;Integration with PyCharm&lt;/h2&gt;
&lt;p&gt;http://pybuilder.github.io/documentation/ide.html#.XHngOZNKjRY&lt;/p&gt;
&lt;p&gt;https://github.com/pybuilder/pybuilder/issues/24&lt;/p&gt;
&lt;h2 id="use-pybuilder-with-pytest"&gt;use &lt;code&gt;pybuilder&lt;/code&gt; with &lt;code&gt;pytest&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;You need to place&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;use_plugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pypi:pybuilder_pytest&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_property&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;pytest_extra_args&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;-x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;into the file &lt;code&gt;build.py&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;https://github.com/pybuilder/pybuilder/issues/13&lt;/p&gt;
&lt;h2 id="issues-with-python-37"&gt;Issues with Python 3.7&lt;/h2&gt;
&lt;p&gt;The current version (0.11.17) of pybuilder does not support Python 3.7. 
Python 3.7 will be supported by pybuilder starting from version 0.12.
If you must use pybuilder with Python 3.7 at this time, 
you can install the pre-release of pybuilder.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="c1"&gt;--pre pybuilder&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://pybuilder.readthedocs.io/en/latest/walkthrough-new.html&lt;/p&gt;
&lt;p&gt;http://pybuilder.github.io/documentation/tutorial.html#.XC-5d_x7nmE&lt;/p&gt;
&lt;p&gt;https://github.com/pybuilder/pybuilder/issues/606&lt;/p&gt;</content><category term="programming"></category><category term="PyBuilder"></category><category term="Python"></category><category term="project management"></category></entry><entry><title>Add Method to a Python Class</title><link href="http://www.legendu.net/misc/blog/add-method-to-a-python-class/" rel="alternate"></link><published>2019-03-10T02:23:34-08:00</published><updated>2019-03-10T02:23:34-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-10:/misc/blog/add-method-to-a-python-class/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.ianlewis.org/en/dynamically-adding-method-classes-or-class-instanc&lt;/p&gt;
&lt;p&gt;http://block.arch.ethz.ch/blog/2016/07/adding-methods-to-python-classes/&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.ianlewis.org/en/dynamically-adding-method-classes-or-class-instanc&lt;/p&gt;
&lt;p&gt;http://block.arch.ethz.ch/blog/2016/07/adding-methods-to-python-classes/&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="reflection"></category><category term="method"></category><category term="class"></category></entry><entry><title>Ensure Capturing Log of Applications</title><link href="http://www.legendu.net/misc/blog/a-trick-to-ensure-capturing-log/" rel="alternate"></link><published>2019-03-09T23:49:57-08:00</published><updated>2019-03-09T23:49:57-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-09:/misc/blog/a-trick-to-ensure-capturing-log/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;
**
Logging is critical for debugging applications.
For production applications,
it is best to send log information into a file instead …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;
**
Logging is critical for debugging applications.
For production applications,
it is best to send log information into a file instead of the standard output
so that the log information is persisted.
One command way to keep log into a file is to redict standard output into a file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;some_command arg1 arg2 &amp;gt; log_file
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;There is some issue with this approach. 
If an exception throws in &lt;code&gt;some_command arg1 arg2&lt;/code&gt;,
no log is redicted into the log file
as the rediction happens after &lt;code&gt;some_command&lt;/code&gt; runs sucessfully.
One way to fix the issue is to let the underlying application log into files. directly 
instead of relying on shell redirection. 
However, 
this is not always feasible. 
Another even simple way is to wrap &lt;code&gt;some_command&lt;/code&gt; into a &lt;code&gt;try ... catch ...&lt;/code&gt; block
to ensure that &lt;code&gt;some_command&lt;/code&gt; runs without throwing exceptions
so that the log redirection will always happen.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels&lt;/p&gt;</content><category term="programming"></category><category term="logging"></category><category term="rediction"></category><category term="exception"></category></entry><entry><title>Python Module Tips</title><link href="http://www.legendu.net/misc/blog/python-module-tips/" rel="alternate"></link><published>2019-03-09T13:31:07-08:00</published><updated>2019-03-09T13:31:07-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-03-09:/misc/blog/python-module-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="import-a-module"&gt;Import a Module&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;sys.path.append&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;import module_name
import module_name as &lt;span class="nb"&gt;alias&lt;/span&gt;
from module import pkg_mod_or_fun
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;https://stackoverflow.com/questions …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="import-a-module"&gt;Import a Module&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;sys.path.append&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;import module_name
import module_name as &lt;span class="nb"&gt;alias&lt;/span&gt;
from module import pkg_mod_or_fun
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;https://stackoverflow.com/questions/3144089/expand-python-search-path-to-other-source&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A module is cached in memory when it is loaded into Python.
    Changes to the module after loading of the module will not take effect
    unless the module is reloaded.
    A module can be reloaded using &lt;code&gt;imp.reload(module)&lt;/code&gt; In Python3.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="module-access"&gt;Module Access&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/44834/can-someone-explain-all-in-python&lt;/p&gt;
&lt;p&gt;http://xion.io/post/code/python-all-wild-imports.html&lt;/p&gt;
&lt;h2 id="import-warning"&gt;Import Warning&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/43393764/python-3-6-project-structure-leads-to-runtimewarning&lt;/p&gt;
&lt;h2 id="misc"&gt;Misc&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/ericdill/depfinder"&gt;depfinder&lt;/a&gt; finds all the unique imports in your library.&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="module"></category><category term="tips"></category><category term="module access"></category></entry><entry><title>Install Python Packages Behind Firewall</title><link href="http://www.legendu.net/misc/blog/install-python-behind-firewall/" rel="alternate"></link><published>2019-03-09T02:23:14-08:00</published><updated>2019-03-09T02:23:14-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-03-09:/misc/blog/install-python-behind-firewall/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It is recommended that you use &lt;code&gt;pip&lt;/code&gt; to install Python packages.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you don't already know the proxy in use …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It is recommended that you use &lt;code&gt;pip&lt;/code&gt; to install Python packages.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you don't already know the proxy in use (in your company),
    read the post &lt;a href="http://www.legendu.net/en/blog/find-out-proxy-in-use/"&gt;Find out Proxy in Use&lt;/a&gt;
    to figure it out.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Set proxy environment variables.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;http_proxy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nl"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="k"&gt;user&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="nv"&gt;@proxy_ip&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;https_proxy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nl"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="k"&gt;user&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="nv"&gt;@proxy_ip&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install Python packages.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;package_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;As an alternative to steps 2 and 3, 
you can also pass the proxy to pip directly without setting environment variables for it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;--proxy=&amp;quot;user:password@proxy_ip:port&amp;quot; package_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Notice that if you have the pysocks package installed,
you can use a socks proxy with pip as well.
For example, 
if you have a socks5 proxy at &lt;code&gt;localhost:1080&lt;/code&gt; you can use it with pipe as illustrated below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="c1"&gt;--proxy socks5:localhost:1080 package_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="Python"></category><category term="programming"></category><category term="Windows"></category><category term="proxy"></category><category term="install package"></category></entry><entry><title>Sphinx Tips</title><link href="http://www.legendu.net/misc/blog/sphinx-tips/" rel="alternate"></link><published>2019-03-08T23:47:26-08:00</published><updated>2019-03-08T23:47:26-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-08:/misc/blog/sphinx-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://www.sphinx-doc.org/en/1.5/invocation.html#invocation-apidoc&lt;/p&gt;
&lt;p&gt;https://www.sphinx-doc.org/en/master/usage/markdown.html&lt;/p&gt;
&lt;p&gt;https …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://www.sphinx-doc.org/en/1.5/invocation.html#invocation-apidoc&lt;/p&gt;
&lt;p&gt;https://www.sphinx-doc.org/en/master/usage/markdown.html&lt;/p&gt;
&lt;p&gt;https://medium.com/@richdayandnight/a-simple-tutorial-on-how-to-document-your-python-project-using-sphinx-and-rinohtype-177c22a15b5b&lt;/p&gt;
&lt;p&gt;https://matplotlib.org/sampledoc/getting_started.html&lt;/p&gt;
&lt;h2 id="generate-python-documentation"&gt;Generate Python Documentation&lt;/h2&gt;
&lt;p&gt;https://developer.ridgerun.com/wiki/index.php/How_to_generate_sphinx_documentation_for_python_code_running_in_an_embedded_system&lt;/p&gt;
&lt;p&gt;https://gisellezeno.com/tutorials/sphinx-for-python-documentation.html&lt;/p&gt;
&lt;p&gt;https://samnicholls.net/2016/06/15/how-to-sphinx-readthedocs/&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="Sphinx"></category><category term="Python documentation generator"></category></entry><entry><title>Configure Terminal for PyCharm on Windows</title><link href="http://www.legendu.net/misc/blog/configure-terminal-for-pycharm/" rel="alternate"></link><published>2019-03-05T01:48:55-08:00</published><updated>2019-03-05T01:48:55-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-05:/misc/blog/configure-terminal-for-pycharm/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="ubuntu-shell"&gt;Ubuntu Shell&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install Ubuntu Shell on Windows 10 if it hasn't been installed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;File -&amp;gt; Settings -&amp;gt; Tools -&amp;gt; Terminal &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Replace the Shell …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="ubuntu-shell"&gt;Ubuntu Shell&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install Ubuntu Shell on Windows 10 if it hasn't been installed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;File -&amp;gt; Settings -&amp;gt; Tools -&amp;gt; Terminal &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Replace the Shell path with &lt;code&gt;C:\Windows\System32\bash.exe&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Unfortunately the Python virtual environment created in Ubuntu shell cannot be used by PyCharm
as PyCharm (or more precisely, the Windows File System) does not recognize Linux symbolic links.&lt;/p&gt;
&lt;p&gt;See whether you can request this as a feature to PyCharm.&lt;/p&gt;
&lt;p&gt;Even if the Python virtual environment created in Ubuntu shell can be used by PyCharm,
I'm concerned as it sounds to me that you are accessing Linux filesystem from Windows
which is not supported currently.&lt;/p&gt;
&lt;h2 id="cygwin-shell"&gt;Cygwin Shell&lt;/h2&gt;
&lt;p&gt;Similarly to Ubuntu Shell, 
the Python virtual environement created in Cygwin cannot be used by PyCharm.
However, 
the Python virtual environment created by PyCharm cannot be used in Cygwin without any issues.&lt;/p&gt;
&lt;p&gt;https://engineroom.teamwork.com/using-cygwins-bash-terminal-in-a-jetbrains-ide-d22dd71b52b4&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Fix Authentication Error Docker Github</title><link href="http://www.legendu.net/misc/blog/fix-authentication-error-docker-github/" rel="alternate"></link><published>2019-03-04T19:49:58-08:00</published><updated>2019-03-04T19:49:58-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-04:/misc/blog/fix-authentication-error-docker-github/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Got to Account Seetings&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Navigate to the Linked Accounts seciton&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Unlink GitHub and relink it. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://github.com …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Got to Account Seetings&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Navigate to the Linked Accounts seciton&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Unlink GitHub and relink it. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://github.com/docker/hub-feedback/issues/416&lt;/p&gt;</content><category term="Programming"></category><category term="GitHub"></category><category term="Docker"></category><category term="authentication"></category><category term="deployment keys"></category></entry><entry><title>Data for Testing</title><link href="http://www.legendu.net/misc/blog/data-for-testing/" rel="alternate"></link><published>2019-03-02T01:43:38-08:00</published><updated>2019-03-02T01:43:38-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-03-02:/misc/blog/data-for-testing/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://editor.datatables.net/generator/"&gt;DataTable Generator&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.freedatagenerator.com/sql-data-generator"&gt;SQL Data Generator&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.generatedata.com/"&gt;GenerateData&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://editor.datatables.net/generator/"&gt;DataTable Generator&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.freedatagenerator.com/sql-data-generator"&gt;SQL Data Generator&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.generatedata.com/"&gt;GenerateData&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="data"></category><category term="testing"></category><category term="unit testing"></category><category term="data generator"></category></entry><entry><title>Pytest Tips</title><link href="http://www.legendu.net/misc/blog/pytest-tips/" rel="alternate"></link><published>2019-02-26T19:06:50-08:00</published><updated>2019-02-26T19:06:50-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-02-26:/misc/blog/pytest-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="plugins"&gt;Plugins&lt;/h2&gt;
&lt;p&gt;https://github.com/ClearcodeHQ/pytest-elasticsearch&lt;/p&gt;
&lt;p&gt;https://github.com/ClearcodeHQ/pytest-postgresql&lt;/p&gt;
&lt;p&gt;https://github.com/ClearcodeHQ/pytest-dynamodb&lt;/p&gt;
&lt;p&gt;https://github.com/ClearcodeHQ …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="plugins"&gt;Plugins&lt;/h2&gt;
&lt;p&gt;https://github.com/ClearcodeHQ/pytest-elasticsearch&lt;/p&gt;
&lt;p&gt;https://github.com/ClearcodeHQ/pytest-postgresql&lt;/p&gt;
&lt;p&gt;https://github.com/ClearcodeHQ/pytest-dynamodb&lt;/p&gt;
&lt;p&gt;https://github.com/ClearcodeHQ/pytest-rabbitmq&lt;/p&gt;
&lt;p&gt;https://github.com/ClearcodeHQ/pytest-mysql&lt;/p&gt;
&lt;p&gt;https://github.com/ClearcodeHQ/pytest-redis&lt;/p&gt;
&lt;p&gt;https://github.com/ClearcodeHQ/pytest-mongo&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="pytest"></category><category term="fixtures"></category><category term="plugins"></category></entry><entry><title>Python Profiler</title><link href="http://www.legendu.net/misc/blog/python-profiler/" rel="alternate"></link><published>2019-02-22T22:40:54-08:00</published><updated>2019-02-22T22:40:54-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-02-22:/misc/blog/python-profiler/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="time"&gt;%time&lt;/h2&gt;
&lt;h2 id="timeit"&gt;%timeit&lt;/h2&gt;
&lt;h2 id="prun"&gt;&lt;a href="https://ipython.readthedocs.io/en/stable/interactive/magics.html#magic-prun"&gt;%prun&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="pyheatmagic"&gt;&lt;a href="https://github.com/csurfer/pyheatmagic"&gt;pyheatmagic&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="installation"&gt;Installation&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;py&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;heat&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;magic&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="usage"&gt;Usage&lt;/h3&gt;
&lt;p&gt;Load the magic.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;load_ext&lt;/span&gt; &lt;span class="n"&gt;heat&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;%%heat &lt;/p&gt;
&lt;p&gt;%%heat -o file …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="time"&gt;%time&lt;/h2&gt;
&lt;h2 id="timeit"&gt;%timeit&lt;/h2&gt;
&lt;h2 id="prun"&gt;&lt;a href="https://ipython.readthedocs.io/en/stable/interactive/magics.html#magic-prun"&gt;%prun&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="pyheatmagic"&gt;&lt;a href="https://github.com/csurfer/pyheatmagic"&gt;pyheatmagic&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="installation"&gt;Installation&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;py&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;heat&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;magic&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="usage"&gt;Usage&lt;/h3&gt;
&lt;p&gt;Load the magic.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;load_ext&lt;/span&gt; &lt;span class="n"&gt;heat&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;%%heat &lt;/p&gt;
&lt;p&gt;%%heat -o file.png&lt;/p&gt;
&lt;h2 id="line-profiler"&gt;&lt;a href="https://github.com/rkern/line_profiler"&gt;Line Profiler&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Within your jupyter notebook, call: %load_ext line_profiler&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://mortada.net/easily-profile-python-code-in-jupyter.html&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="JupyterLab"></category><category term="notebook"></category></entry><entry><title>Generator in Python</title><link href="http://www.legendu.net/misc/blog/generator-in-python/" rel="alternate"></link><published>2019-02-22T08:55:04-08:00</published><updated>2019-02-22T08:55:04-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-02-22:/misc/blog/generator-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="when-not-to-use-generator"&gt;When Not to Use Generator&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You need to access the data multiple times (i.e. cache the results instead of …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="when-not-to-use-generator"&gt;When Not to Use Generator&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You need to access the data multiple times (i.e. cache the results instead of recomputing them).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;i&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;outer&lt;/span&gt;:           # &lt;span class="nv"&gt;used&lt;/span&gt; &lt;span class="nv"&gt;once&lt;/span&gt;, &lt;span class="nv"&gt;okay&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;be&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;generator&lt;/span&gt; &lt;span class="nv"&gt;or&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;list&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;j&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;inner&lt;/span&gt;:       # &lt;span class="nv"&gt;used&lt;/span&gt; &lt;span class="nv"&gt;multiple&lt;/span&gt; &lt;span class="nv"&gt;times&lt;/span&gt;, &lt;span class="nv"&gt;reusing&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;list&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;better&lt;/span&gt;
        ...
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You need random access (or any access other than forward sequential order).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;i&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;reversed&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;data&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;: ...     # &lt;span class="nv"&gt;generators&lt;/span&gt; &lt;span class="nv"&gt;aren&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;t reversible&lt;/span&gt;

&lt;span class="nv"&gt;s&lt;/span&gt;[&lt;span class="nv"&gt;i&lt;/span&gt;], &lt;span class="nv"&gt;s&lt;/span&gt;[&lt;span class="nv"&gt;j&lt;/span&gt;] &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;s&lt;/span&gt;[&lt;span class="nv"&gt;j&lt;/span&gt;], &lt;span class="nv"&gt;s&lt;/span&gt;[&lt;span class="nv"&gt;i&lt;/span&gt;]          # &lt;span class="nv"&gt;generators&lt;/span&gt; &lt;span class="nv"&gt;aren&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;t indexable&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You need to join strings (which requires two passes over the data).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;                &lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="n"&gt;lists&lt;/span&gt; &lt;span class="k"&gt;are&lt;/span&gt; &lt;span class="n"&gt;faster&lt;/span&gt; &lt;span class="k"&gt;than&lt;/span&gt; &lt;span class="n"&gt;generators&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt; &lt;span class="n"&gt;use&lt;/span&gt; &lt;span class="k"&gt;case&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You are using PyPy which sometimes can't optimize generator code as much as it can 
    with normal function calls and list manipulations.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/245792/when-is-not-a-good-time-to-use-python-generators&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="generator"></category><category term="iterator"></category></entry><entry><title>Total Size of Serialized results is bigger than spark.driver.maxResultSize</title><link href="http://www.legendu.net/misc/blog/spark-issues-and-solutions/" rel="alternate"></link><published>2019-02-20T20:37:59-08:00</published><updated>2019-02-20T20:37:59-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-02-20:/misc/blog/spark-issues-and-solutions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="issue"&gt;Issue&lt;/h2&gt;
&lt;p&gt;Total size of serialized results is bigger than spark.driver.maxResultSize&lt;/p&gt;
&lt;h2 id="solutions"&gt;Solutions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Eliminate unnecessary &lt;code&gt;broadcast&lt;/code&gt; or &lt;code&gt;collect&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make &lt;code&gt;spark.driver.maxResultSize&lt;/code&gt; larger.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;set by SparkConf: &lt;code&gt;conf.set("spark.driver.maxResultSize", "3g")&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;set by spark-defaults.conf: &lt;code&gt;spark.driver.maxResultSize 3g&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;set when calling spark-submit: &lt;code&gt;--conf spark.driver.maxResultSize=3g&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://spark.apache.org/docs/latest/configuration.html&lt;/p&gt;
&lt;p&gt;https://www.hackingnote.com/en/spark/trouble-shooting/total-size-is-bigger-than-maxResultSize&lt;/p&gt;
&lt;p&gt;https://issues.apache.org/jira/browse/SPARK-17556&lt;/p&gt;
&lt;p&gt;https://forums.databricks.com/questions/66/how-do-i-work-around-this-error-when-using-rddcoll.html&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/46763214/total-size-of-serialized-results-of-tasks-is-bigger-than-spark-driver-maxresults&lt;/p&gt;</content><category term="programming"></category><category term="Spark"></category><category term="issues"></category><category term="solutions"></category><category term="big data"></category></entry><entry><title>Java Reflection</title><link href="http://www.legendu.net/misc/blog/java-reflection/" rel="alternate"></link><published>2019-02-18T20:15:42-08:00</published><updated>2019-02-18T20:15:42-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-02-18:/misc/blog/java-reflection/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.oracle.com/technetwork/articles/java/javareflection-1536171.html&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/37628/what-is-reflection-and-why-is-it-useful&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.oracle.com/technetwork/articles/java/javareflection-1536171.html&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/37628/what-is-reflection-and-why-is-it-useful&lt;/p&gt;</content><category term="programming"></category><category term="Java"></category><category term="reflection"></category></entry><entry><title>General Tips for Mathematica</title><link href="http://www.legendu.net/misc/blog/general-tips-for-mathematica/" rel="alternate"></link><published>2019-02-18T19:53:47-08:00</published><updated>2019-02-18T19:53:47-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-02-18:/misc/blog/general-tips-for-mathematica/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are 
fragmentary and immature notes/thoughts of the author. 
It is not meant to readers 
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Mathematica is very a powerful symbolic computing system. 
    It is the best among all these symbol computing software that I've …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are 
fragmentary and immature notes/thoughts of the author. 
It is not meant to readers 
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Mathematica is very a powerful symbolic computing system. 
    It is the best among all these symbol computing software that I've used 
    (including Mathematica, Maxima and MATLAB). 
    You can even do algebraic computing on pictures imported or graphs generated by Mathematica. 
    Mathematica will just treat them as symbols.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Mathematica use full names for the names of functions, 
    which make it easy for us to find the functions you need. 
    Many times you can guess out the name of a function you want to use.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Mathematica has a complete set of built-in functions. 
    Whenever you want function, 
    you'd better check the help document of Mathematica first, 
    because usually what you want is already there. 
    You do not want to waste time in redoing what has already been done. 
    By the way, 
    never fail afraid to using the help document of Mathematica.
    It is very easy to find what you want in the help document. 
    As I said before, 
    usually you can dope out the name of the built-in functions you want. 
    I have to say that the help document of Mathematica is the best among all programming software that I've ever used, 
    but unfortunately the help document of R 
    (which is another programming language I like very much) 
    is the worst among all these programming software that I have ever used.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="work-easy"&gt;Work Easy&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;One thing I like very much about Mathematica is that there are some
    alternative ways (given next to the function in the help document if
    exists) to pass arguments to functions. For example, instead of
    writing &lt;code&gt;f[expr]&lt;/code&gt;, you can use &lt;code&gt;expr//f&lt;/code&gt;; instead of writing
    &lt;code&gt;Map[f,expr]&lt;/code&gt;, you can use &lt;code&gt;f/@expr&lt;/code&gt;; instead of writing
    &lt;code&gt;f[expr1,expr2]&lt;/code&gt;, you can use &lt;code&gt;expr1$\sim$f$\sim$expr2&lt;/code&gt;. These
    alternative ways can make things convenient in many situations.
    Because whenever you use a compound function, people usually think
    from the function most inside while you have to write from the
    function most outside in tradition way. With the help of &lt;code&gt;//&lt;/code&gt; and
    &lt;code&gt;$\sim$&lt;/code&gt;, you can write down a compound function easily without
    switching the cursor back to the beginning of our code.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;These alternative symbols for functions have a higher computing
    priority than &lt;code&gt;//&lt;/code&gt;, e.g. &lt;code&gt;f/@expr//Length&lt;/code&gt; is equivalent to&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt;&lt;span class="k"&gt;Length&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;Map&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;expr&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="configuration"&gt;Configuration&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;You can use function &lt;code&gt;Directory&lt;/code&gt; to get the current working directory
    of Mathematica. To change the working directory, you can use
    function &lt;code&gt;SetDirectory&lt;/code&gt;. To add a new path to the search path of
    Mathematica, you can modify variable &lt;code&gt;Path&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="rules"&gt;Rules&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Since all variables you defined in a Mathematica session (not
    variables that you defined in function &lt;code&gt;Module&lt;/code&gt; or &lt;code&gt;Block&lt;/code&gt; and so
    on) are global variables, you can use them any where including
    user-defined functions. It can easily screw up your program if
    there are too many global variables in Mathematica workspace, so
    you're not encouraged to use global variables. You can always use
    function &lt;code&gt;Clear&lt;/code&gt; to clear values and definitions for symbols. If you
    also want to properties associated (e.g. attributes and defaults)
    with the symbols, you can use function &lt;code&gt;ClearAll&lt;/code&gt;. However, function
    &lt;code&gt;Clear&lt;/code&gt; and &lt;code&gt;ClearAll&lt;/code&gt; won't remove these symbols defined from the
    Mathematica workspace, i.e. Mathematica still recognized them even
    if there are no value or definitions (or just nothing if function
    &lt;code&gt;ClearAll&lt;/code&gt; was used) associated with them. If you want to completely
    remove a symbol from the Mathematica workspace so that Mathematica
    can no longer recognize the symbol, you can use function &lt;code&gt;Remove&lt;/code&gt;.
    Notice that all these 3 functions accept wild cards in their
    arguments. Keep defining and removing symbols is not handy. You can
    avoid define symbols using rules. To be clearer, you can use rules
    to replace symbols with values or other expressions. For example, to
    calculate &lt;span class="math"&gt;\(sin 5 + cos 5\)&lt;/span&gt;, you can use command&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;Sin&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;Cos&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;instead of using
    x = 5;
Sin[x] + Cos[x]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The results of many functions in Mathematica are rules, but many
    times you want numerical values instead. To change a rule to
    number(s), you can simply apply the rule to symbols associated with
    it. For example, if you have a rule &lt;code&gt;x-&amp;gt;2, y-&amp;gt;3&lt;/code&gt; named &lt;code&gt;r&lt;/code&gt;,
    you can simply use command &lt;code&gt;{x,y}/.r&lt;/code&gt; to extract numbers in
    these rules. If the symbols in a rule are the same, for example if
    you have a rule &lt;code&gt;x-&amp;gt;2, x-&amp;gt;3&lt;/code&gt; named &lt;code&gt;r&lt;/code&gt;, then you can use
    command &lt;code&gt;x/.#&amp;amp;/@r&lt;/code&gt; to extract numbers in the rule.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="input-and-output"&gt;Input and Output&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;By default, the output in Mathematica is in standard form. If the
    results are strings, then it's hard for us tell whether the result
    is as expected or not if you read the output in standard form. A way
    to check whether the output is as expected is to change the output
    to input form suing function &lt;code&gt;InputForm&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;InputForm[expr]&lt;/code&gt; prints as a version of &lt;code&gt;expr&lt;/code&gt; suitable for input to Mathematica.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;OutputForm[expr]&lt;/code&gt; prints as a two-dimensional representation of
    &lt;code&gt;expr&lt;/code&gt; using only keyboard characters.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;TeXForm[expr]&lt;/code&gt; prints as a Tex version of &lt;code&gt;expr&lt;/code&gt;. Also you can type
    in expressions in Mathematica using Tex format using &lt;code&gt;ToExpression&lt;/code&gt;.
    For example, to type in &lt;span class="math"&gt;\(\alpha\)&lt;/span&gt; in Mathematica using Tex format,
    you can use command &lt;code&gt;ToExpression["$\alpha$",TeXForm]&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;TraditionalForm[expr]&lt;/code&gt; prints as an approximation to the
    traditional mathematical notation for &lt;code&gt;expr&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;StandardForm[expr]&lt;/code&gt; prints as the standard Mathematica
    two-dimensional representation of &lt;code&gt;expr&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Format[expr,form]&lt;/code&gt; gives a format for the specified form of output.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;ReadList&lt;/code&gt; can read data from a file into a list of specified patterns.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;Import&lt;/code&gt; and &lt;code&gt;Export&lt;/code&gt; are very powerful. They support all
    kinds of data format. File extensions are important when you use
    these two functions. Different file extensions might get different
    result when you use these two functions.&lt;/p&gt;
&lt;p&gt;dataOm2030=Import["D:\Dropbox\Research\thesis\simulation\MathOptim\mcmc_20_30\rms_20_30_1.bin", "real64"];&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Splice["file"]&lt;/code&gt; splices Mathematica output into an external file.
    It takes text enclosed between &lt;code&gt;&amp;lt;*&lt;/code&gt; and &lt;code&gt;*&amp;gt;&lt;/code&gt; in the file, evaluates
    the text as Mathematica input, and replaces the text with the
    resulting Mathematica output. It's similar to &lt;code&gt;Sweave&lt;/code&gt; in R.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;$$Alpha]&lt;/code&gt; gives the Greek symbol &lt;span class="math"&gt;\(\alpha\)&lt;/span&gt;, and others are similar.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;FileNameJoin[{"name1","name2",...}]&lt;/code&gt; joins the strings together into
    a file name suitable for your current operating system.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="characters"&gt;Characters&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;While character &lt;code&gt;_&lt;/code&gt; can be used in function names in many
    programming languages, it's reserved in Mathematica. Special
    characters that can be used in function names in Mathematica include
    &lt;code&gt;_&lt;/code&gt;, &lt;code&gt;$&lt;/code&gt;, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use function &lt;code&gt;Symbol&lt;/code&gt; to get the value of an object from
    it's string expression. Conversely, you can use function &lt;code&gt;Hold&lt;/code&gt; to
    to change an object into an expression and then use function
    &lt;code&gt;ToString&lt;/code&gt; to change it into a string.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Unlike R, numbers in Mathematica cannot be use as strings directly,
    instead, you must use &lt;code&gt;ToString&lt;/code&gt; to convert numbers to string.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="vector-matrix-array-and-list"&gt;Vector, Matrix, Array and List&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There's only one data structure in Mathematica, which is list. A
    vector in Mathematica is just a list of depth 1; a matrix in
    mathematica is a nested list of depth 2; a multi-dimensional array
    in Mathematica is a nested list with a depth greater than 2.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A vector (a list nested once, which is also an 1-dim array) in
    Mathematica can be treated either as a column vector or a row
    vector, which to use depends on conventions. For example, if &lt;code&gt;w&lt;/code&gt; and
    &lt;code&gt;v&lt;/code&gt; are two vectors then &lt;code&gt;w.v&lt;/code&gt; calculates the inner product of &lt;code&gt;w&lt;/code&gt;
    and &lt;code&gt;v&lt;/code&gt;. Sometimes, instead of calculating the inner product of the
    two vectors, you might you want to calculate the matrix production
    of the column vectors times the row vector. To achieve this, you can
    use &lt;code&gt;Outer[Times, w, v]&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Similar to R, a vector (a list with depth 1) is different from a
    matrix in Mathematica. But unlike R, you can not perform transpose
    operation on a vector to get a matrix of one row. However, by
    putting the vector into &lt;code&gt;{}&lt;/code&gt; you turn it into a matrix of one row.
    And by transposing the resulting matrix, you get a matrix of one
    column.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To take out an element (or some elements) from a list 
    (vector, matrix, multi-dimensional array or any list) in Mathematica,
    you use &lt;code&gt;[[]]&lt;/code&gt; (or function &lt;code&gt;Part[]&lt;/code&gt;), which is different from
    almost all other languages. For example, to take out an element (or
    some elements) of a vector, a matrix or a data frame in R, you use
    &lt;code&gt;[]&lt;/code&gt;; to take out an element from an 1-D array in C/C++ and Java you
    use &lt;code&gt;[]&lt;/code&gt; and &lt;code&gt;[][]&lt;/code&gt; for taking out an element from a 2-D array.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;Flatten[list]&lt;/code&gt; flattens out a nested list, i.e. it
    decreases the depth of a list. By contrary, function &lt;code&gt;Partition&lt;/code&gt; can
    split a list into sub lists, which increase the depth of a list. So
    function &lt;code&gt;Partition&lt;/code&gt; is useful to reshape a vector to a matrix or a
    multi-dimensional array. To change a vector &lt;code&gt;x&lt;/code&gt; into a matrix (2-D
    array) of &lt;code&gt;n&lt;/code&gt; columns, you can simply use &lt;code&gt;Partition[x,n]&lt;/code&gt;; to
    change vector &lt;code&gt;x&lt;/code&gt; into a 3-D array, you can use
    &lt;code&gt;result=Partition[Partition[x,m],n]&lt;/code&gt;. The resulting 3-D array
    &lt;code&gt;result&lt;/code&gt; is a list with &lt;span class="math"&gt;\(n\times m\)&lt;/span&gt; matrices as its elements&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1" rel="footnote"&gt;1&lt;/a&gt;&lt;/sup&gt;.
    Sometimes you might want to transpose each element of the resulting
    3-D array &lt;code&gt;result&lt;/code&gt;, e.g. if the data was exported from some 3-D
    array in R using default setting&lt;sup id="fnref:2"&gt;&lt;a class="footnote-ref" href="#fn:2" rel="footnote"&gt;2&lt;/a&gt;&lt;/sup&gt;. To achieve this, you can use
    &lt;code&gt;Map[Transpose,result]&lt;/code&gt; or use the alternative way
    &lt;code&gt;Transpose/@result&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You should use vector operations as much as possible because it's
    not only faster but also more convenient to write the code. Many
    functions in Mathematica support vector/list operations, however,
    some functions in Mathematica might not behave in the way you expect
    if you pass a list/vector to it. A more general and powerful way to
    carry out vector/list operation is to use function &lt;code&gt;Map&lt;/code&gt;&lt;sup id="fnref:3"&gt;&lt;a class="footnote-ref" href="#fn:3" rel="footnote"&gt;3&lt;/a&gt;&lt;/sup&gt;. An
    alternative way for command &lt;code&gt;Map[f,expr]&lt;/code&gt; is &lt;code&gt;f/@expr&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Tuples[list,n]&lt;/code&gt; generates a list of all possible n-tuples of elements from list.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Position[expr,pattern]&lt;/code&gt; (similar to function &lt;code&gt;which&lt;/code&gt; in R)gives a
    list of the positions at which objects matching pattern appear in &lt;code&gt;expr&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;DeleteDuplicates[list]&lt;/code&gt; deletes all duplicates from list.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Riffle&lt;/code&gt; in Mathematica is similar to function &lt;code&gt;paste&lt;/code&gt; in R.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;Join&lt;/code&gt; can join vectors, matrices, arrays or lists together in a specified way.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="graphics-and-animation"&gt;Graphics and Animation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Mathematica is very powerful at plotting graphics and presenting animations. 
    It can do almost everything that you can think about.
    Just give it a try if you come across a hard situation in other software.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="integral"&gt;Integral&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Mathematica的求导功能是无与伦比的，但是Mathematica的积分功能却不尽令人如意。
    当然这其中也包括其他一些功能，比如说化简功能。 有时候人一眼就能看出的答案用Mathematica却不能得到很好的结果。
    这是为什么呢？并不是Mathematica比较傻，而是Mathematica考虑的比常人多，尤其是非数学学着。
    通常Mathematica会把变量的范围放大到复数范围内，而不是局限在实数范围内。
    这就是Mathematica有时候会很慢而且给出的结果不尽令人如意的原因。
    通常解决的方法有两种，一种是给参数限定条件，另外一种是人工化简分解问题，
    给出Mathematica比较容易就能解决的问题。然后再把这些部分合起来从而得到结果。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="optimization"&gt;Optimization&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Function &lt;code&gt;Maximize&lt;/code&gt; and &lt;code&gt;Minimize&lt;/code&gt; carries out exact global
    optimizations. And function &lt;code&gt;NMaximize&lt;/code&gt; and &lt;code&gt;NMinimize&lt;/code&gt; carries out
    global optimization numerically. There're also many other functions
    in Mathematica which do global or local optimizations.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="useful-functions"&gt;Useful Functions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;函数Series可以进行Taylor或者是洛朗级数展开，非常有用。而级数对于求数列的通项是非常Powerful的。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;函数Apart可以将有理多项式分解开成方便积分的几个部分，这在进行一些复杂的有理多项式的积分中是相当有用的。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;FunctionInverse&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="programming"&gt;Programming&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;In Mathematica you use comma to separate different parts of a &lt;code&gt;For&lt;/code&gt; loop, 
    which is different from most other programming languages.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You have to be aware that all open notebooks in Mathematica share
    the same workspace, which means that the running result in a
    notebooks affects the running results in other notebooks. This can
    be handy in many situations, because you don't want to put
    everything in a single notebook oftentimes. However, you have to be
    careful about this. Because if you forget to define some local
    variable in a Module while there exists a global variable with the
    same name, the module define won't gives us warning messages. This
    will probably lead us to wrong results that are hardly noticeable.
    To avoid this problem, you can either use function &lt;code&gt;Clear[]&lt;/code&gt; to
    clear all global variables before you running modules you wrote, or
    you can quit the kernel first and then running these modules. A
    better way to solve this problem is to always make these variables
    used in a Module local.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You should always be careful about the &lt;code&gt;If&lt;/code&gt; function in mathematica.
    There're 3 branches in this function corresponding to &lt;code&gt;True&lt;/code&gt;,
    &lt;code&gt;False&lt;/code&gt; and &lt;code&gt;Null&lt;/code&gt; respectively. In most programming languages, you
    only have two branches. If you only specify branches corresponding
    to &lt;code&gt;True&lt;/code&gt; and &lt;code&gt;False&lt;/code&gt; for &lt;code&gt;If&lt;/code&gt; function, it doesn't do anything if
    it cannot decide whether given condition is &lt;code&gt;True&lt;/code&gt; or &lt;code&gt;False&lt;/code&gt;. This
    might result tricky bugs sometimes. So if the program does not
    behave like what you expect, you might want to check whether some
    &lt;code&gt;If&lt;/code&gt; function in your code has a condition that doesn't yield a
    boolean value.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A shoddy thing about programming with Mathematica is that the
    arguments of a Module are kind of like constants, which means that
    you cannot change them in your code. In many cases, you want to give
    some arguments of a function some default values, and you might want
    to change their values later. Unfortunately, this is not supported
    in Mathematica. To achieve this, you have to create new local
    variables in the Module, assign the values of the arguments to these
    variables, and then treat these variables as the arguments of the
    Module.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="parallel-computing"&gt;Parallel Computing&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Parallel computing in Mathematica is even more convenient than parallel computing in MATLAB, 
    because Mathematica automate many things for you. 
    However, as a side effect, parallel computing in MATLAB is not as efficient as parallel computing in MATLAB.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For an expression which contains only built-in functions and
    contains loops essentially (e.g. code contains &lt;code&gt;Table&lt;/code&gt; or &lt;code&gt;Map&lt;/code&gt;),
    you can parallelize them simply by putting them into &lt;code&gt;Parallelize&lt;/code&gt;.
    There's no need for you to launch kernels or to distribute
    definitions in Mathematica 8 or later. 
    They will be taken care of
    automatically by Mathematica (8 or later).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Many functions in mathematica have parallel versions, e.g. &lt;code&gt;Map&lt;/code&gt; has
    a parallel version &lt;code&gt;ParallelMap&lt;/code&gt;, &lt;code&gt;Table&lt;/code&gt; has a parallel version
    &lt;code&gt;ParallelTable&lt;/code&gt;, and &lt;code&gt;Do&lt;/code&gt; has a parallel version &lt;code&gt;ParallelDo&lt;/code&gt;. You
    can use these parallel versions functions directly with no extra
    work in Mathematica 8 or later.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For user-defined functions, 
    even if it contains loops (essentially) which are parallelizable, 
    you cannot parallelize it by just putting it into &lt;code&gt;Parallelize&lt;/code&gt;, 
    instead, 
    you must parallelize code which contains loops (essentially) in the function by yourself, 
    e.g., you can parallel versions for functions that are parallelizable.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you have to run jobs each of which is not parallelizable, you can
    still benefit from parallel computing by submitting them parallel
    using &lt;code&gt;ParallelSubmit&lt;/code&gt; and &lt;code&gt;WaitAll&lt;/code&gt;. 
    However, 
    you have to distribute definitions of user-defined functions manually first (at least before Mathematica 8).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="compile"&gt;Compile&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Compile, tensor, array, must be explicit&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="send-email"&gt;Send Email&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can use the built-in &lt;code&gt;SendMail&lt;/code&gt; to send email in Mathematica.
    The following command gives a simple example&lt;sup id="fnref:4"&gt;&lt;a class="footnote-ref" href="#fn:4" rel="footnote"&gt;4&lt;/a&gt;&lt;/sup&gt;. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;SendMail&lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="ss"&gt;&amp;quot;From&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;firedragon.du@gmail.com&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="ss"&gt;&amp;quot;To&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;dclong@iastate.edu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="ss"&gt;&amp;quot;Subject&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;Sending Email from Mathematica&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="ss"&gt;&amp;quot;Body&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;Just have a try&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="ss"&gt;&amp;quot;Server&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;mailhub.iastate.edu&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The options that &lt;code&gt;SendMail&lt;/code&gt; can use include: "To", "Cc", "Bcc",
    "Subject", "Body", "Attachments", "From",
    "Server","EncryptionProtocol", "Fullname", "PortNumber", "ReplyTo",
    "ServerAuthentication", "UserName".&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can insert object(s) in mathematica workspace into the email body directly 
    when you use &lt;code&gt;SendMail&lt;/code&gt; to send emails, 
    which is very convenient if you want to send the running results of mathmatica via email.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_1"&gt;不太清楚地方：&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;前面提到过Mathematica在进行操作时总是从复数范围出发， 从而在进行一些积分或者是化简操作时，
    给出限定条件就显得特别重要，而这个方面我不是很清楚。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;&amp;gt;&lt;/code&gt; joins two strings together, StringJoin, + in python, Java, etc. 
    A missing &amp;lt;&amp;gt; not necesarry cause error but of course give you wrong answer, so be careful!!!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can write program in plain text (and save it as .m file). You can import the functions in the file using Import[file_path]. This is the suggested way for you to manager your own Mathematica code.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can specify scope of notebook "Evaluation -&amp;gt; Notebook's Default Context" and then select one of the options.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be careful when you save your notebook as .m file. The stupid software comments out every line!!! You can just save it as plain text or copy and paste it into a .m file. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The stupid Mathematica 9 screws up scopes. Even if you have run the definition of a function in a notebook that is set as global, it's not seen in other notebooks!!!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;check whether a plain text file can also be imported!!!!&lt;/p&gt;
&lt;p&gt;a. mathematics  Mathematics     MATHEMATICS&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;just use ?FunName to get help of a function. If you are not sure whether a function is defined or not, this also helps.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;the result of ParallelTable is the same as Table except for side effect of computation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;parallize[table[]]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use "" for string instead of ‘’&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;missing semicolon is a common mistake&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;cannot use _ in variable names, cause error message: Set::write: Tag Times in 1 x_ is Protected. &amp;gt;&amp;gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;f[x_Real]:=x^2; pass integer to it won't work!!!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;f[x_Real:3.]=x^2 default parameter&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;nohup math -run "&amp;lt;&amp;lt;../mle_2_10.m" &amp;amp; do not quote&lt;br&gt;
in Mathematica you use &amp;lt;&amp;lt;"../mle_2_10.m", 
but here quote &amp;lt;&amp;lt;../mle_2_10.m instead of the file name.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Get[file_path] &amp;lt;&amp;lt;file_path Import[file_path]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;nohup matlab -nodesktop -nosplash file.m (don't put &amp;amp; as it cause matlab not to start)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SetDirectory["/home/dclong/simulation"] Directory[] FileNames[]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it is suggested that you use java camelCase style to name variables in  Mathematica which can distinguish them from functions&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;integer cannot be use in string concatenation directly, must use ToString to convert it to a String first.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;mle /. Rule -&amp;gt; (#2 &amp;amp;) &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Export[output, result, "Table"];&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="common-mistakes"&gt;common mistakes&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;forget {}, in Module&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="io"&gt;IO&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;put and PutAppends &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;and &amp;gt;&amp;gt;&amp;gt; similar to Linux bash &amp;gt; and &amp;gt;&amp;gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;The first partition combine m elements into a sublist which act as
a new element for the resulting list, and then the second partition
go further to combine n sublists together to form a matrix of
&lt;span class="math"&gt;\(m\times n\)&lt;/span&gt; which acts the a new element of the final resulting
list.&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;By default, a matrix in R is filled by columns and is stretched to
a vector by columns, while when you use function &lt;code&gt;Partition&lt;/code&gt;, the
matrices which are elements of the final resulting list/3-D array
are filled by row&amp;#160;&lt;a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 2 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:3"&gt;
&lt;p&gt;Similar to function &lt;code&gt;apply&lt;/code&gt; in R, but you cannot pass extra
parameters to the function which is to be applied over the list.&amp;#160;&lt;a class="footnote-backref" href="#fnref:3" rev="footnote" title="Jump back to footnote 3 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:4"&gt;
&lt;p&gt;I'm not very sure how to send Gmail in Mathematica. I've tried
many different ways, but none of them worked.&amp;#160;&lt;a class="footnote-backref" href="#fnref:4" rev="footnote" title="Jump back to footnote 4 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="tips"></category><category term="Mathematica"></category><category term="programming"></category></entry><entry><title>Java Interfaces for Python</title><link href="http://www.legendu.net/misc/blog/java-interfaces-for-python/" rel="alternate"></link><published>2019-02-18T19:53:47-08:00</published><updated>2019-02-18T19:53:47-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-02-18:/misc/blog/java-interfaces-for-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="jpype-projectjpype"&gt;&lt;a href="https://github.com/jpype-project/jpype"&gt;jpype-project/jpype&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The most used one currently.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/jpype-project/jpype/issues/498"&gt;StartJVM and other upgrading issues with 0.7.0&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="pyjnius"&gt;&lt;a href="https://github.com/kivy/pyjnius"&gt;pyjnius&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;pyjnius looks like …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="jpype-projectjpype"&gt;&lt;a href="https://github.com/jpype-project/jpype"&gt;jpype-project/jpype&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The most used one currently.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/jpype-project/jpype/issues/498"&gt;StartJVM and other upgrading issues with 0.7.0&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="pyjnius"&gt;&lt;a href="https://github.com/kivy/pyjnius"&gt;pyjnius&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;pyjnius looks like a great one. &lt;/p&gt;
&lt;h3 id="installation"&gt;Installation&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install Cython
pip install pyjnius
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="example-with-imported-jar"&gt;Example with Imported Jar&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CLASSPATH&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/path/to/your.jar&amp;quot;&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;jnius&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;autoclass&lt;/span&gt;
&lt;span class="n"&gt;YourClass&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;autoclass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;YourClass&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;yourObj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;YourClass&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="py4j"&gt;py4j&lt;/h2&gt;
&lt;p&gt;Too complicated to use ...&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://web.archive.org/web/20170729052824/http://baojie.org/blog/2014/06/16/call-java-from-python/&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="Java"></category><category term="interface"></category><category term="pyjnius"></category><category term="jpype"></category><category term="py4j"></category></entry><entry><title>Preferred Python Version in Shebang</title><link href="http://www.legendu.net/misc/blog/preferred-python-version-in-shebang/" rel="alternate"></link><published>2019-02-17T19:15:35-08:00</published><updated>2019-02-17T19:15:35-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-02-17:/misc/blog/preferred-python-version-in-shebang/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;which python2 &amp;gt;/dev/null &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;exec&lt;/span&gt; python2 &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$0&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$@&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;which python  &amp;gt;/dev/null &lt;span class="m"&gt;2 …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;which python2 &amp;gt;/dev/null &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;exec&lt;/span&gt; python2 &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$0&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$@&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;which python  &amp;gt;/dev/null &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;exec&lt;/span&gt; python  &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$0&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$@&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="nb"&gt;exec&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Error: I can&amp;#39;t find python anywhere&amp;quot;&lt;/span&gt;         &lt;span class="c1"&gt;# &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h2 id="reference"&gt;Reference&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/18993438/shebang-env-preferred-python-version&lt;/p&gt;</content><category term="programming"></category><category term="shell"></category><category term="Python"></category><category term="shebang"></category><category term="version"></category></entry><entry><title>Github Tips</title><link href="http://www.legendu.net/misc/blog/github-tips/" rel="alternate"></link><published>2019-02-11T22:33:22-08:00</published><updated>2019-02-11T22:33:22-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-02-11:/misc/blog/github-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="deploy-keys"&gt;Deploy Keys&lt;/h2&gt;
&lt;p&gt;Deploy Keys are SSH keys which access restricted to a specific repository only.&lt;/p&gt;
&lt;p&gt;https://developer.github.com/v3 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="deploy-keys"&gt;Deploy Keys&lt;/h2&gt;
&lt;p&gt;Deploy Keys are SSH keys which access restricted to a specific repository only.&lt;/p&gt;
&lt;p&gt;https://developer.github.com/v3/guides/managing-deploy-keys/#deploy-keys&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/26372417/github-oauth2-token-how-to-restrict-access-to-read-a-single-private-repo&lt;/p&gt;
&lt;p&gt;https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/&lt;/p&gt;
&lt;p&gt;https://mp.weixin.qq.com/s/r9dNXpoH8F5CMoHdyv6BFQ&lt;/p&gt;</content><category term="programming"></category><category term="GitHub"></category><category term="tips"></category></entry><entry><title>Restful Api Tools</title><link href="http://www.legendu.net/misc/blog/restful-api-tools/" rel="alternate"></link><published>2019-02-10T17:14:12-08:00</published><updated>2019-02-10T17:14:12-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-02-10:/misc/blog/restful-api-tools/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://curl.trillworks.com/"&gt;Convert curl syntax to Python, Node.js, PHP, R&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/NickCarneiro/curlconverter/"&gt;curlconverter&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.python-requests.org/en/master/#"&gt;Python Requests&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://curl.trillworks.com/"&gt;Convert curl syntax to Python, Node.js, PHP, R&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/NickCarneiro/curlconverter/"&gt;curlconverter&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.python-requests.org/en/master/#"&gt;Python Requests&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="RESTful api"></category><category term="tools"></category><category term="tips"></category></entry><entry><title>Check Whether a Shell Command Exists</title><link href="http://www.legendu.net/misc/blog/check-whether-a-shell-command-exists/" rel="alternate"></link><published>2019-02-10T12:26:09-08:00</published><updated>2019-02-10T12:26:09-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-02-10:/misc/blog/check-whether-a-shell-command-exists/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="python"&gt;Python&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/11210104/check-if-a-program-exists-from-a-python-script/34177358&lt;/p&gt;
&lt;h2 id="shell"&gt;Shell&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/592620/how-to-check-if-a-program-exists-from-a-bash-script&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="python"&gt;Python&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/11210104/check-if-a-program-exists-from-a-python-script/34177358&lt;/p&gt;
&lt;h2 id="shell"&gt;Shell&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/592620/how-to-check-if-a-program-exists-from-a-bash-script&lt;/p&gt;</content><category term="programming"></category><category term="Shell"></category><category term="command"></category><category term="exist"></category><category term="Python"></category></entry><entry><title>Insert Or Update in Sqlite3</title><link href="http://www.legendu.net/misc/blog/insert-or-update-in-sqlite3/" rel="alternate"></link><published>2019-02-10T09:51:58-08:00</published><updated>2019-02-10T09:51:58-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-02-10:/misc/blog/insert-or-update-in-sqlite3/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note: UPSERT does not with virtual table in SQLite3 currently!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The UPSERT clause (following PostgreSQL syntax)
is supported in SQLite …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note: UPSERT does not with virtual table in SQLite3 currently!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The UPSERT clause (following PostgreSQL syntax)
is supported in SQLite 3.24.0+.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;INSERT&lt;/span&gt; &lt;span class="nv"&gt;INTO&lt;/span&gt; &lt;span class="nv"&gt;players&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;
    &lt;span class="nv"&gt;user_name&lt;/span&gt;, &lt;span class="nv"&gt;age&lt;/span&gt;
&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;VALUES&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;steven&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;, &lt;span class="mi"&gt;32&lt;/span&gt;
&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;ON&lt;/span&gt; &lt;span class="nv"&gt;CONFLICT&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;user_name&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="k"&gt;DO&lt;/span&gt; &lt;span class="nv"&gt;UPDATE&lt;/span&gt;
&lt;span class="nv"&gt;SET&lt;/span&gt; &lt;span class="nv"&gt;age&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;excluded&lt;/span&gt;.&lt;span class="nv"&gt;age&lt;/span&gt;
&lt;span class="c1"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For older versions of SQLite3,
you can use &lt;code&gt;INSERT or REPLACE&lt;/code&gt; clause together with the trick of embedded subselects 
to keep original value of fields of the existing rows.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/15277373/sqlite-upsert-update-or-insert/15277374&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/418898/sqlite-upsert-not-insert-or-replace&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/3634984/insert-if-not-exists-else-update&lt;/p&gt;</content><category term="programming"></category><category term="SQLite3"></category><category term="upsert"></category><category term="insert or replace"></category><category term="insert or update"></category></entry><entry><title>Split String into Rows in SQL</title><link href="http://www.legendu.net/misc/blog/split-string-into-rows-in-SQL/" rel="alternate"></link><published>2019-02-09T09:04:52-08:00</published><updated>2019-02-09T09:04:52-08:00</updated><author><name>Benjamin Du</name></author><id>tag:www.legendu.net,2019-02-09:/misc/blog/split-string-into-rows-in-SQL/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author.
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="split"&gt;split&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;SELECT
    A.state,
    split.A.value(&amp;#39;.&amp;#39;, &amp;#39;VARCHAR(100)&amp;#39;) AS String
FROM (
    SELECT 
        state,  
        CAST(&amp;#39;&lt;span class="nt"&gt;&amp;lt;M&amp;gt;&lt;/span&gt;&amp;#39; + REPLACE(city, &amp;#39;,&amp;#39;, &amp;#39;&lt;span class="nt"&gt;&amp;lt;/M&amp;gt;&amp;lt;M&amp;gt;&lt;/span&gt;&amp;#39;) + &amp;#39;&lt;span class="nt"&gt;&amp;lt;/M&amp;gt;&lt;/span&gt;&amp;#39; AS XML) AS string  
    FROM
        TableA
    ) AS A
CROSS APPLY String.nodes (&amp;#39;/M&amp;#39;) AS split(a)
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;http://sqljason.com/2010/05/converting-single-comma-separated-row.html&lt;/p&gt;
&lt;p&gt;http://www.samuelbosch.com/2018/02/split-into-rows-sqlite.html&lt;/p&gt;
&lt;p&gt;https://gist.github.com/dannguyen/1ff581b1e76fddb72cf2ff1542aa6c62&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/34659643/split-a-string-into-rows-using-pure-sqlite&lt;/p&gt;</content><category term="programming"></category><category term="SQL"></category><category term="SQLite3"></category><category term="split"></category><category term="string"></category><category term="rows"></category></entry><entry><title>Javascript Alternatives to Shell</title><link href="http://www.legendu.net/misc/blog/javascript-alternatives-to-shell/" rel="alternate"></link><published>2019-02-01T19:45:52-08:00</published><updated>2019-02-01T19:45:52-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-02-01:/misc/blog/javascript-alternatives-to-shell/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/shelljs/shelljs&lt;/p&gt;
&lt;p&gt;https://tutorialedge.net/javascript/nodejs/executing-shell-scripts-with-nodejs/&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/shelljs/shelljs&lt;/p&gt;
&lt;p&gt;https://tutorialedge.net/javascript/nodejs/executing-shell-scripts-with-nodejs/&lt;/p&gt;</content><category term="programming"></category><category term="JavaScript"></category><category term="shell"></category></entry><entry><title>Dataframe in Javascript</title><link href="http://www.legendu.net/misc/blog/dataframe-in-javascript/" rel="alternate"></link><published>2019-02-01T19:42:16-08:00</published><updated>2019-02-01T19:42:16-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-02-01:/misc/blog/dataframe-in-javascript/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/data-forge/data-forge-ts&lt;/p&gt;
&lt;p&gt;https://github.com/Gmousse/dataframe-js&lt;/p&gt;
&lt;p&gt;https://arrow.apache.org/docs/js/&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/data-forge/data-forge-ts&lt;/p&gt;
&lt;p&gt;https://github.com/Gmousse/dataframe-js&lt;/p&gt;
&lt;p&gt;https://arrow.apache.org/docs/js/&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://stackoverflow.com/questions/30610675/python-pandas-equivalent-in-javascript&lt;/p&gt;</content><category term="programming"></category><category term="JavaScript"></category><category term="DataFrame"></category><category term="apache arrow"></category></entry><entry><title>General Tips for Groovy</title><link href="http://www.legendu.net/misc/blog/general-tips-for-groovy/" rel="alternate"></link><published>2019-01-22T22:58:11-08:00</published><updated>2019-01-22T22:58:11-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-01-22:/misc/blog/general-tips-for-groovy/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;brew install groovy&lt;/p&gt;
&lt;p&gt;wajig install groovy2&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;brew install groovy&lt;/p&gt;
&lt;p&gt;wajig install groovy2&lt;/p&gt;</content><category term="programming"></category><category term="Groovy"></category><category term="tips"></category></entry><entry><title>GUI Frameworks for Java</title><link href="http://www.legendu.net/misc/blog/gui-frameworks-for-java/" rel="alternate"></link><published>2019-01-22T22:54:03-08:00</published><updated>2019-01-22T22:54:03-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-01-22:/misc/blog/gui-frameworks-for-java/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx&lt;/p&gt;
&lt;p&gt;https://docs.oracle.com/javase/tutorial/uiswing/index.html&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx&lt;/p&gt;
&lt;p&gt;https://docs.oracle.com/javase/tutorial/uiswing/index.html&lt;/p&gt;</content><category term="programming"></category><category term="Java"></category><category term="GUI"></category><category term="Swing"></category><category term="SwingX"></category><category term="JavaFX"></category></entry><entry><title>Qt5 Tips</title><link href="http://www.legendu.net/misc/blog/qt5-tips/" rel="alternate"></link><published>2019-01-21T22:39:09-08:00</published><updated>2019-01-21T22:39:09-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-01-21:/misc/blog/qt5-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="installation-on-ubuntu"&gt;Installation on Ubuntu&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wajig&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;qt5&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;default&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://wiki.qt.io/Install_Qt_5_on_Ubuntu&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="installation-on-ubuntu"&gt;Installation on Ubuntu&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wajig&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;qt5&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;default&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://wiki.qt.io/Install_Qt_5_on_Ubuntu&lt;/p&gt;</content><category term="programming"></category><category term="Qt5"></category><category term="Ubuntu"></category></entry><entry><title>Argument Parsing in Groovy</title><link href="http://www.legendu.net/misc/blog/argument-parsing-in-groovy/" rel="alternate"></link><published>2019-01-21T12:58:19-08:00</published><updated>2019-01-21T12:58:19-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-01-21:/misc/blog/argument-parsing-in-groovy/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/remkop/picocli/wiki/Groovy-2.5-CliBuilder-Renewal&lt;/p&gt;
&lt;p&gt;https://github.com/remkop/picocli&lt;/p&gt;
&lt;p&gt;http://mrhaki.blogspot.com/2009/09/groovy-goodness-parsing-commandline …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/remkop/picocli/wiki/Groovy-2.5-CliBuilder-Renewal&lt;/p&gt;
&lt;p&gt;https://github.com/remkop/picocli&lt;/p&gt;
&lt;p&gt;http://mrhaki.blogspot.com/2009/09/groovy-goodness-parsing-commandline.html&lt;/p&gt;
&lt;p&gt;http://docs.groovy-lang.org/latest/html/gapi/groovy/util/CliBuilder.html&lt;/p&gt;
&lt;p&gt;https://relentlesscoding.com/2017/08/11/how-to-use-groovys-clibuilder/&lt;/p&gt;
&lt;p&gt;https://picocli.info/picocli-2.0-groovy-scripts-on-steroids.html&lt;/p&gt;</content><category term="programming"></category><category term="Groovy"></category><category term="JVM"></category><category term="argument parsing"></category></entry><entry><title>Scala With Gradle in Intellij</title><link href="http://www.legendu.net/misc/blog/scala-with-gradle-in-intellij/" rel="alternate"></link><published>2019-01-10T09:16:10-08:00</published><updated>2019-01-10T09:16:10-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2019-01-10:/misc/blog/scala-with-gradle-in-intellij/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="easy-way"&gt;Easy Way&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create a directory (e.g., &lt;code&gt;demo_proj&lt;/code&gt;) for your project.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run &lt;code&gt;gradle init --type scala-library&lt;/code&gt; in terminal in the …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="easy-way"&gt;Easy Way&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create a directory (e.g., &lt;code&gt;demo_proj&lt;/code&gt;) for your project.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run &lt;code&gt;gradle init --type scala-library&lt;/code&gt; in terminal in the above directory.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Import the directory as a Gradle project in IntelliJ.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="hard-way"&gt;Hard Way&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create a Gradle (default Java) project in IntelliJ. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a directory named &lt;code&gt;scala&lt;/code&gt; under &lt;code&gt;src/main&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Mark the directory as source root directory.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open &lt;code&gt;build.gradle&lt;/code&gt; and change its content to the following.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;plugins&lt;/span&gt; {
    &lt;span class="nv"&gt;id&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;scala&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;
}

&lt;span class="nv"&gt;group&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;net.legendu&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;
&lt;span class="nv"&gt;version&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;1.0-SNAPSHOT&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;

&lt;span class="nv"&gt;sourceCompatibility&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;.&lt;span class="mi"&gt;8&lt;/span&gt;

&lt;span class="nv"&gt;dependencies&lt;/span&gt; {
    &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="nv"&gt;Use&lt;/span&gt; &lt;span class="nv"&gt;Scala&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;.&lt;span class="mi"&gt;12&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;our&lt;/span&gt; &lt;span class="nv"&gt;library&lt;/span&gt; &lt;span class="nv"&gt;project&lt;/span&gt;
    &lt;span class="nv"&gt;implementation&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;org.scala-lang:scala-library:2.12.7&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;

    &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="nv"&gt;Use&lt;/span&gt; &lt;span class="nv"&gt;Scalatest&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;testing&lt;/span&gt; &lt;span class="nv"&gt;our&lt;/span&gt; &lt;span class="nv"&gt;library&lt;/span&gt;
    &lt;span class="nv"&gt;testImplementation&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;junit:junit:4.12&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;
    &lt;span class="nv"&gt;testImplementation&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;org.scalatest:scalatest_2.12:3.0.5&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;

    &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="nv"&gt;Need&lt;/span&gt; &lt;span class="nv"&gt;scala&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;xml&lt;/span&gt; &lt;span class="nv"&gt;at&lt;/span&gt; &lt;span class="nv"&gt;test&lt;/span&gt; &lt;span class="nv"&gt;runtime&lt;/span&gt;
    &lt;span class="nv"&gt;testRuntimeOnly&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;org.scala-lang.modules:scala-xml_2.12:1.1.1&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Scala"></category><category term="Gradle"></category><category term="IntelliJ"></category><category term="JVM"></category></entry><entry><title>Python Packaging Tools</title><link href="http://www.legendu.net/misc/blog/python-packaging-tools/" rel="alternate"></link><published>2018-10-18T01:47:58-07:00</published><updated>2018-10-18T01:47:58-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-10-18:/misc/blog/python-packaging-tools/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Python packaging:&lt;/p&gt;
&lt;p&gt;https://python-packaging.readthedocs.io/en/latest/minimal.html&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It is recommended to use &lt;a href="http://pybuilder.github.io/"&gt;PyBuilder&lt;/a&gt; to manager Python projects …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Python packaging:&lt;/p&gt;
&lt;p&gt;https://python-packaging.readthedocs.io/en/latest/minimal.html&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It is recommended to use &lt;a href="http://pybuilder.github.io/"&gt;PyBuilder&lt;/a&gt; to manager Python projects.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="pyinstaller"&gt;&lt;a href="https://github.com/pyinstaller/pyinstaller"&gt;pyinstaller&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="setuptools"&gt;&lt;a href="https://github.com/pypa/setuptools"&gt;setuptools&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="pip"&gt;pip&lt;/h2&gt;
&lt;p&gt;pip can install a package from a GitHub repository directly.&lt;/p&gt;
&lt;h2 id="requirementstxt"&gt;requirements.txt&lt;/h2&gt;
&lt;p&gt;requirements.txt.  ~= &amp;gt;= ==
https://stackoverflow.com/questions/39590187/in-requirements-txt-what-does-tilde-equals-mean&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="packaging"></category><category term="PyBuilder"></category><category term="pip"></category><category term="pyinstaller"></category><category term="project management"></category></entry><entry><title>Py4Jdbc Tips</title><link href="http://www.legendu.net/misc/blog/py4jdbc-tips/" rel="alternate"></link><published>2018-09-16T13:48:19-07:00</published><updated>2018-09-16T13:48:19-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-09-16:/misc/blog/py4jdbc-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="installation"&gt;Installation&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;sbt&lt;/span&gt;
&lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;py4jdbc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="installation"&gt;Installation&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;sbt&lt;/span&gt;
&lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;py4jdbc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Python"></category><category term="py4jdbc"></category><category term="JDBC"></category></entry><entry><title>Python Packages for Caching</title><link href="http://www.legendu.net/misc/blog/python-packages-for-caching/" rel="alternate"></link><published>2018-09-16T12:41:20-07:00</published><updated>2018-09-16T12:41:20-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-09-16:/misc/blog/python-packages-for-caching/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="functoolslru_cache"&gt;functools.lru_cache&lt;/h2&gt;
&lt;p&gt;https://docs.python.org/3/library/functools.html#functools.lru_cache&lt;/p&gt;
&lt;h2 id="cachetools"&gt;cachetools&lt;/h2&gt;
&lt;p&gt;https://cachetools.readthedocs.io/en/latest/
https …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="functoolslru_cache"&gt;functools.lru_cache&lt;/h2&gt;
&lt;p&gt;https://docs.python.org/3/library/functools.html#functools.lru_cache&lt;/p&gt;
&lt;h2 id="cachetools"&gt;cachetools&lt;/h2&gt;
&lt;p&gt;https://cachetools.readthedocs.io/en/latest/
https://github.com/tkem/cachetools&lt;/p&gt;
&lt;h2 id="diskcache-sounds-like-a-good-options"&gt;diskcache sounds like a good options!!!&lt;/h2&gt;
&lt;p&gt;DiskCache: Disk Backed Cache
http://www.grantjenks.com/docs/diskcache/tutorial.html&lt;/p&gt;
&lt;h2 id="pickle"&gt;pickle&lt;/h2&gt;
&lt;p&gt;pickle is a Python object serialization package. &lt;/p&gt;
&lt;h2 id="shelve"&gt;shelve&lt;/h2&gt;
&lt;p&gt;shelve is a package for persisting Python object &lt;/p&gt;
&lt;h2 id="joblib"&gt;joblib&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;joblib&lt;/code&gt; is a package for running Python functions as pipeline jobs.
It supports transparent disk-caching of functions and lazy re-evaluation (memoize pattern).&lt;/p&gt;
&lt;h2 id="memcached-pymemcache"&gt;memcached &amp;amp; pymemcache&lt;/h2&gt;
&lt;p&gt;https://pypi.org/project/pymemcache/&lt;/p&gt;
&lt;p&gt;http://memcached.org/&lt;/p&gt;
&lt;p&gt;Free &amp;amp; open source, high-performance, distributed memory object caching system, generic in nature, 
but intended for use in speeding up dynamic web applications by alleviating database load.&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="packages"></category><category term="caching"></category><category term="lru_cache"></category><category term="diskcache"></category><category term="memcached"></category></entry><entry><title>Gui Mind Mapping Tools</title><link href="http://www.legendu.net/misc/blog/gui-mind-mapping-tools/" rel="alternate"></link><published>2018-09-15T15:17:19-07:00</published><updated>2018-09-15T15:17:19-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-09-15:/misc/blog/gui-mind-mapping-tools/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="xmind"&gt;XMind&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;free and cross-platform&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="lucidchart"&gt;&lt;a href="https://www.lucidchart.com/"&gt;LucidChart&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="drawio"&gt;&lt;a href="https://www.draw.io/"&gt;draw.io&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="asciiflow"&gt;&lt;a href="http://asciiflow.com/"&gt;Asciiflow&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Asciiflow is an online tool for generating flowchart in Ascii.&lt;/p&gt;
&lt;h2 id="ihmc-cmap"&gt;IHMC Cmap …&lt;/h2&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="xmind"&gt;XMind&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;free and cross-platform&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="lucidchart"&gt;&lt;a href="https://www.lucidchart.com/"&gt;LucidChart&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="drawio"&gt;&lt;a href="https://www.draw.io/"&gt;draw.io&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="asciiflow"&gt;&lt;a href="http://asciiflow.com/"&gt;Asciiflow&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Asciiflow is an online tool for generating flowchart in Ascii.&lt;/p&gt;
&lt;h2 id="ihmc-cmap"&gt;IHMC Cmap&lt;/h2&gt;
&lt;h2 id="mindjet"&gt;&lt;a href="http://www.mindjet.com/"&gt;MindJet&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;commerical, windows, mac&lt;/p&gt;
&lt;h2 id="mindomo"&gt;Mindomo&lt;/h2&gt;
&lt;p&gt;cross-platform (via Adobe Air)&lt;/p&gt;
&lt;h2 id="wisemapping"&gt;WiseMapping&lt;/h2&gt;
&lt;h2 id="ihmc-cmaptools"&gt;IHMC CmapTools&lt;/h2&gt;
&lt;h2 id="simplemind"&gt;SimpleMind&lt;/h2&gt;
&lt;p&gt;Windows, Mac&lt;/p&gt;
&lt;h2 id="coggle"&gt;&lt;a href="http://coggle.it/"&gt;Coggle&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="freemind"&gt;FreeMind&lt;/h2&gt;
&lt;h2 id="mindmeister"&gt;&lt;a href="https://www.mindmeister.com/"&gt;MindMeister&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;WebApplication, free&lt;/p&gt;
&lt;h2 id="code2flow"&gt;&lt;a href="http://code2flow.com/"&gt;code2flow&lt;/a&gt;&lt;/h2&gt;</content><category term="programming"></category></entry><entry><title>Parameterized SQL</title><link href="http://www.legendu.net/misc/blog/parameterized-sql/" rel="alternate"></link><published>2018-09-15T13:24:42-07:00</published><updated>2018-09-15T13:24:42-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-09-15:/misc/blog/parameterized-sql/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Parameters are not supported in a DDL statement.&lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Parameters are not supported in a DDL statement.&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SQL"></category><category term="DDL"></category><category term="parameterized SQL"></category></entry><entry><title>Conda Build Issue</title><link href="http://www.legendu.net/misc/blog/conda-build-issue/" rel="alternate"></link><published>2018-07-21T12:19:14-07:00</published><updated>2018-07-21T12:19:14-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-07-21:/misc/blog/conda-build-issue/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I encountered an issue building the package
&lt;a href="https://pypi.org/project/sqlalchemy-teradata/"&gt;sqlalchemy-teradata&lt;/a&gt;.
There are a few related issues:
&lt;a href="https://github.com/conda/conda-build/issues/2790"&gt;issues/2790&lt;/a&gt;,
&lt;a href="https://github.com/conda/conda-build/issues/2826"&gt;issues/2826&lt;/a&gt;.
It seems …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I encountered an issue building the package
&lt;a href="https://pypi.org/project/sqlalchemy-teradata/"&gt;sqlalchemy-teradata&lt;/a&gt;.
There are a few related issues:
&lt;a href="https://github.com/conda/conda-build/issues/2790"&gt;issues/2790&lt;/a&gt;,
&lt;a href="https://github.com/conda/conda-build/issues/2826"&gt;issues/2826&lt;/a&gt;.
It seems that the recipe uses an outdated URL.
Change the URL to the following updated one resolves the issue.&lt;/p&gt;
&lt;p&gt;https://files.pythonhosted.org/packages/13/ba/bd5ebedd251630a822cfa2ad819caa99f6b494726aa05c8ef69bbb39330e/sqlalchemy_teradata-0.1.0.dev0.tar.gz&lt;/p&gt;</content><category term="programming"></category><category term="Anaconda"></category><category term="Python"></category><category term="conda build"></category><category term="sqlalchemy-teradata"></category></entry><entry><title>R Package DT</title><link href="http://www.legendu.net/misc/blog/r-package-dt/" rel="alternate"></link><published>2018-05-27T16:16:48-07:00</published><updated>2018-05-27T16:16:48-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-05-27:/misc/blog/r-package-dt/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="links"&gt;Links&lt;/h2&gt;
&lt;p&gt;https://rstudio.github.io/DT/&lt;/p&gt;
&lt;p&gt;&lt;a href="https://datatables.net/"&gt;DataTables Homepage&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="github-issues"&gt;GitHub Issues&lt;/h2&gt;
&lt;p&gt;Feature request: Conditional Formatting/Cell Borders
https://github.com/rstudio …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="links"&gt;Links&lt;/h2&gt;
&lt;p&gt;https://rstudio.github.io/DT/&lt;/p&gt;
&lt;p&gt;&lt;a href="https://datatables.net/"&gt;DataTables Homepage&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="github-issues"&gt;GitHub Issues&lt;/h2&gt;
&lt;p&gt;Feature request: Conditional Formatting/Cell Borders
https://github.com/rstudio/DT/issues/347&lt;/p&gt;
&lt;p&gt;https://github.com/rstudio/DT/issues/183&lt;/p&gt;
&lt;p&gt;Comma as decimal separator
https://github.com/rstudio/DT/issues/128&lt;/p&gt;
&lt;p&gt;Thousands separator
https://github.com/rstudio/DT/issues/133&lt;/p&gt;</content><category term="programming"></category><category term="cran"></category><category term="DT"></category><category term="datatables.js"></category></entry><entry><title>Quickly Build a Restful Service</title><link href="http://www.legendu.net/misc/blog/quickly-build-a-restful-service/" rel="alternate"></link><published>2018-05-27T15:25:58-07:00</published><updated>2018-05-27T15:25:58-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-05-27:/misc/blog/quickly-build-a-restful-service/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="openfaas"&gt;&lt;a href="https://github.com/openfaas/faas"&gt;OpenFaaS&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="flask"&gt;Flask&lt;/h2&gt;
&lt;h2 id="json-server"&gt;&lt;a href="https://github.com/typicode/json-server"&gt;json-server&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;json-server is perfect for faking RESTful APIs.&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="openfaas"&gt;&lt;a href="https://github.com/openfaas/faas"&gt;OpenFaaS&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="flask"&gt;Flask&lt;/h2&gt;
&lt;h2 id="json-server"&gt;&lt;a href="https://github.com/typicode/json-server"&gt;json-server&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;json-server is perfect for faking RESTful APIs.&lt;/p&gt;</content><category term="programming"></category><category term="web"></category><category term="RESTful API"></category><category term="network"></category><category term="Flask"></category><category term="json-server"></category><category term="OpenFasS"></category></entry><entry><title>Commonly Used Data Structures</title><link href="http://www.legendu.net/misc/blog/commonly-used-data-structures/" rel="alternate"></link><published>2018-05-07T22:30:29-07:00</published><updated>2018-05-07T22:30:29-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-05-07:/misc/blog/commonly-used-data-structures/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Double-ended_queue"&gt;Double-ended Queue&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Double-ended_queue"&gt;Double-ended Queue&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="programming"></category><category term="data strucuture"></category><category term="deque"></category><category term="double-ended queue"></category></entry><entry><title>Use Hive in Zeppelin</title><link href="http://www.legendu.net/misc/blog/use-hive-in-zeppelin/" rel="alternate"></link><published>2018-04-30T16:29:11-07:00</published><updated>2018-04-30T16:29:11-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-04-30:/misc/blog/use-hive-in-zeppelin/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="configuration"&gt;Configuration&lt;/h2&gt;
&lt;p&gt;It seems that you have set a queue using the following code
even if you have already set a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="configuration"&gt;Configuration&lt;/h2&gt;
&lt;p&gt;It seems that you have set a queue using the following code
even if you have already set a queue in properties.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%hive&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;interpreter&lt;/span&gt;

&lt;span class="n"&gt;set&lt;/span&gt; &lt;span class="n"&gt;mapred&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;job&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;your_queue&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;set&lt;/span&gt; &lt;span class="n"&gt;mapred&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;65536&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;set&lt;/span&gt; &lt;span class="n"&gt;mapred&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;268435456&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="tricks-traps"&gt;Tricks &amp;amp; Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;When you write a query in Hive shell,
    you should end it with a semicolon (&lt;code&gt;;&lt;/code&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;load&lt;/span&gt; &lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="k"&gt;local&lt;/span&gt; &lt;span class="n"&gt;inpath&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/tmp/sql.txt&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;into&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;However,
you should never end a SQL statement with a semicolon (&lt;code&gt;;&lt;/code&gt;) in Zeppelin.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;load&lt;/span&gt; &lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="k"&gt;local&lt;/span&gt; &lt;span class="n"&gt;inpath&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/tmp/sql.txt&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;into&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For this reason,
you cannot run multiple SQL statements in a cell in Zeppelin.
You should split different SQL statements into different cells.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category></entry><entry><title>Set Up External Dependencies in Zeppelin</title><link href="http://www.legendu.net/misc/blog/set-up-external-dependencies-in-zeppelin/" rel="alternate"></link><published>2018-04-30T16:20:46-07:00</published><updated>2018-04-30T16:20:46-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-04-30:/misc/blog/set-up-external-dependencies-in-zeppelin/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://zeppelin.apache.org/docs/0.8.0-SNAPSHOT/index.html&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;%spark.dep&lt;/code&gt; seems troublesome.
    What if I set interpreter dependency …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://zeppelin.apache.org/docs/0.8.0-SNAPSHOT/index.html&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;%spark.dep&lt;/code&gt; seems troublesome.
    What if I set interpreter dependency directly?
    And can I do it for a single notebook?
    How to do this, must-have feature ...
    user menu -&amp;gt; interpreter -&amp;gt; edit -&amp;gt; add dependency&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;jars for a specific notebook only? is it possible? properties for a single notebook?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category></entry><entry><title>NodeJS Tips</title><link href="http://www.legendu.net/misc/blog/nodejs-tips/" rel="alternate"></link><published>2018-04-30T14:29:08-07:00</published><updated>2018-04-30T14:29:08-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-04-30:/misc/blog/nodejs-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="upgrade-nodejs"&gt;Upgrade NodeJS&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;using &lt;code&gt;n&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://davidwalsh.name/upgrade-nodejs&lt;/p&gt;
&lt;p&gt;https://askubuntu.com/questions/426750/how-can-i-update-my-nodejs-to-the-latest-version&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="upgrade-nodejs"&gt;Upgrade NodeJS&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;using &lt;code&gt;n&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://davidwalsh.name/upgrade-nodejs&lt;/p&gt;
&lt;p&gt;https://askubuntu.com/questions/426750/how-can-i-update-my-nodejs-to-the-latest-version&lt;/p&gt;</content><category term="programming"></category><category term="nodejs"></category><category term="tips"></category><category term="frontend"></category><category term="JavaScript"></category><category term="JS"></category></entry><entry><title>General Purpose Package Repositories</title><link href="http://www.legendu.net/misc/blog/general-purpose-package-repositories/" rel="alternate"></link><published>2018-04-22T09:16:50-07:00</published><updated>2018-04-22T09:16:50-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-04-22:/misc/blog/general-purpose-package-repositories/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="snapcraft"&gt;&lt;a href="https://snapcraft.io/"&gt;SnapCraft&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="anaconda-cloud"&gt;&lt;a href="https://anaconda.org/"&gt;Anaconda Cloud&lt;/a&gt;&lt;/h2&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="snapcraft"&gt;&lt;a href="https://snapcraft.io/"&gt;SnapCraft&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id="anaconda-cloud"&gt;&lt;a href="https://anaconda.org/"&gt;Anaconda Cloud&lt;/a&gt;&lt;/h2&gt;</content><category term="programming"></category></entry><entry><title>Conda Tips</title><link href="http://www.legendu.net/misc/blog/conda-tips/" rel="alternate"></link><published>2018-04-22T09:09:46-07:00</published><updated>2018-04-22T09:09:46-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-04-22:/misc/blog/conda-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;conda and executables installed by conda might not be able to run by sudo directly. 
    If this happends, 
    use the …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;conda and executables installed by conda might not be able to run by sudo directly. 
    If this happends, 
    use the full path of the executable
    or add the option &lt;code&gt;-E "PATH=$PATH"&lt;/code&gt; to sudo.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;env&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;PATH=$PATH&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;arguments&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;By defaut, conda installs things into /opt/conda.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="administering-a-multi-user-conda-installation"&gt;Administering a multi-user conda installation&lt;/h2&gt;
&lt;p&gt;https://conda.io/docs/user-guide/configuration/admin-multi-user-install.html&lt;/p&gt;
&lt;h2 id="my-conda-packages"&gt;My Conda Packages&lt;/h2&gt;
&lt;p&gt;https://anaconda.org/legendu/sqlalchemy-teradata&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;https://conda.io/docs/user-guide/tutorials/build-pkgs-skeleton.html&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="conda"></category><category term="tips"></category></entry><entry><title>Ideavim Tips</title><link href="http://www.legendu.net/misc/blog/ideavim-tips/" rel="alternate"></link><published>2018-01-26T07:32:52-08:00</published><updated>2018-01-26T07:32:52-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-01-26:/misc/blog/ideavim-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/JetBrains/ideavim&lt;/p&gt;
&lt;p&gt;https://youtrack.jetbrains.com/issues/VIM?q=%23Unresolved%20sort%20by:%20votes&lt;/p&gt;
&lt;p&gt;set surround in .ideavimrc …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/JetBrains/ideavim&lt;/p&gt;
&lt;p&gt;https://youtrack.jetbrains.com/issues/VIM?q=%23Unresolved%20sort%20by:%20votes&lt;/p&gt;
&lt;p&gt;set surround in .ideavimrc&lt;/p&gt;
&lt;h2 id="issues"&gt;Issues&lt;/h2&gt;
&lt;p&gt;yssb yss) do not work well currently &lt;/p&gt;</content><category term="programming"></category></entry><entry><title>ANTLR4 Tips</title><link href="http://www.legendu.net/misc/blog/antlr4-tips/" rel="alternate"></link><published>2018-01-08T20:16:09-08:00</published><updated>2018-01-08T20:16:09-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2018-01-08:/misc/blog/antlr4-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="install-antlr4-in-ubuntu"&gt;Install ANTLR4 in Ubuntu&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wajig&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;antlr4&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;antlr4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;python3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;runtime&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="install-antlr4-in-ubuntu"&gt;Install ANTLR4 in Ubuntu&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wajig&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;antlr4&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;antlr4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;python3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;runtime&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="ANTLR4"></category><category term="Python"></category><category term="compiler"></category><category term="parser"></category><category term="lexer"></category></entry><entry><title>Work With Teradata SQL in Python</title><link href="http://www.legendu.net/misc/blog/work-with-teradata-sql-in-python/" rel="alternate"></link><published>2017-12-31T15:57:09-08:00</published><updated>2017-12-31T15:57:09-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-12-31:/misc/blog/work-with-teradata-sql-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="odbc"&gt;ODBC&lt;/h2&gt;
&lt;h3 id="teradata"&gt;teradata&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;teradata&lt;/code&gt; relies on either ODBC or RESTful.
    If you use teradata with ODBC,
    it is suggested that you …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="odbc"&gt;ODBC&lt;/h2&gt;
&lt;h3 id="teradata"&gt;teradata&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;teradata&lt;/code&gt; relies on either ODBC or RESTful.
    If you use teradata with ODBC,
    it is suggested that you use CentOS (docker can be leveraged) as Teradata SQL offers official RPM packages for CentOS
    but offers no official DEB package for Ubuntu.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It seems that Teradata ODBC 16.20 no longer requires unixODBC
    and actually it shouldn't be install in order for Teradata ODBC 16.20 to work.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="pyodbc"&gt;pyodbc&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;pyodbc works for Teradata too.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="jdbc"&gt;JDBC&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;JayDeBeApi&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="cliv2"&gt;CLIv2&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;giraffez&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Python"></category><category term="Teradata SQL"></category><category term="Teradata"></category></entry><entry><title>sbt Plugins for Deployment</title><link href="http://www.legendu.net/misc/blog/sbt-plugins-for-deployment/" rel="alternate"></link><published>2017-12-23T09:30:38-08:00</published><updated>2017-12-23T09:30:38-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-12-23:/misc/blog/sbt-plugins-for-deployment/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;sbt Assembly is recommended, generally speaking. &lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="sbt-assembly"&gt;sbt-assembly&lt;/h2&gt;
&lt;p&gt;sbt-assembly creates a fat JAR,
i.e., a single JAR file containing all …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;sbt Assembly is recommended, generally speaking. &lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="sbt-assembly"&gt;sbt-assembly&lt;/h2&gt;
&lt;p&gt;sbt-assembly creates a fat JAR,
i.e., a single JAR file containing all class files from your code and libraries. 
By evolution, 
it also contains ways of resolving conflicts 
when multiple JARs provide the same file path (like config or README file). 
It involves unzipping of all library JARs, 
so it is a bit slow, but these are heavily cached.&lt;/p&gt;
&lt;h2 id="sbt-pack"&gt;sbt-pack&lt;/h2&gt;
&lt;p&gt;sbt-pack keeps all the library JARs intact, 
moves them into target/pack directory 
(as opposed to ivy cache where they would normally live), 
and makes a shell script for you to run them.&lt;/p&gt;
&lt;h2 id="sbt-native-packager"&gt;sbt-native-packager&lt;/h2&gt;
&lt;p&gt;sbt-native-packager is similar to sbt-pack but it was started by a sbt committer Josh Suereth, 
and now maintained by highly capable Nepomuk Seiler (also known as muuki88). 
The plugin supports a number of formats like Windows msi file and Debian deb file. 
The recent addition is a support for Docker images.&lt;/p&gt;
&lt;p&gt;All are viable means of creating deployment images. 
In certain cases like deploying your application to a web framework etc., 
it might make things easier if you are dealing with one file as opposed to a dozen.&lt;/p&gt;</content><category term="programming"></category><category term="sbt"></category><category term="plugin"></category><category term="Scala"></category></entry><entry><title>Bokeh Tips</title><link href="http://www.legendu.net/misc/blog/bokeh-tips/" rel="alternate"></link><published>2017-11-18T10:28:59-08:00</published><updated>2017-11-18T10:28:59-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-11-18:/misc/blog/bokeh-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="links"&gt;Links&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://bokeh.pydata.org/en/latest/"&gt;http://bokeh.pydata.org/en/latest/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="installation"&gt;Installation&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;bokeh&lt;/span&gt; &lt;span class="n"&gt;jupyter&lt;/span&gt; &lt;span class="n"&gt;holoviews&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="usage"&gt;Usage&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;bokeh&lt;/span&gt; &lt;span class="n"&gt;serve&lt;/span&gt; &lt;span class="c1"&gt;--allow-websocket-origin=*:5006 dash …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="links"&gt;Links&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://bokeh.pydata.org/en/latest/"&gt;http://bokeh.pydata.org/en/latest/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="installation"&gt;Installation&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;pip3&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;bokeh&lt;/span&gt; &lt;span class="n"&gt;jupyter&lt;/span&gt; &lt;span class="n"&gt;holoviews&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="usage"&gt;Usage&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;bokeh&lt;/span&gt; &lt;span class="n"&gt;serve&lt;/span&gt; &lt;span class="c1"&gt;--allow-websocket-origin=*:5006 dash.ipynb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;it seems that only 5006 works ...
might be because ...&lt;/p&gt;
&lt;h2 id="questions"&gt;Questions&lt;/h2&gt;
&lt;p&gt;Can u combine bokeh and Jupyter Notebook to quickly prototype and then deploy? 
This requires support of Bokeh server in Jupyter Notebook.&lt;/p&gt;
&lt;p&gt;bokeh, not numeric values, no corresponding warnings due to HTML ...
be careful ...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;bokeh&lt;/span&gt; &lt;span class="n"&gt;serve&lt;/span&gt; &lt;span class="c1"&gt;--allow-websocket-origin=server_ip:5006 sliders.py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="jupyterlab_bokeh"&gt;jupyterlab_bokeh&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wajig&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;libgif&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;jupyter&lt;/span&gt; &lt;span class="n"&gt;labextension&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;jupyterlab_bokeh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Python"></category><category term="visualization"></category><category term="Bokeh"></category><category term="Bokeh server"></category><category term="tips"></category></entry><entry><title>Regular Expression Equivalence</title><link href="http://www.legendu.net/misc/blog/regex-equivalence/" rel="alternate"></link><published>2017-11-07T22:34:00-08:00</published><updated>2017-11-07T22:34:00-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-11-07:/misc/blog/regex-equivalence/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://regex101.com/"&gt;Regular Expression Tester&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you use a regular expression multiple times, 
    then there is advantage to complie it and use …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://regex101.com/"&gt;Regular Expression Tester&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you use a regular expression multiple times, 
    then there is advantage to complie it and use the compiled version ... 
    as everyone use a plain regrex, 
    it is compiled and then used ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\W&lt;/code&gt; does not include &lt;code&gt;^&lt;/code&gt; and &lt;code&gt;$&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="regular-expression-modifiers"&gt;Regular Expression Modifiers&lt;/h2&gt;
&lt;p&gt;Regular expression modifiers makes regular expression more flexible and powerful. 
It is also a more universal way 
than remembering different options in different programming languages or tools. 
It is suggested that you use regular expression modifiers when possible.&lt;/p&gt;
&lt;h3 id="r"&gt;R&lt;/h3&gt;
&lt;p&gt;Both regular expression in the base package and the stringi package fully supported modifiers.&lt;/p&gt;
&lt;h3 id="python"&gt;Python&lt;/h3&gt;
&lt;p&gt;Partial supported.
Turning modifiers on is supported
however turning modifiers off is not supported.
Modifiers (once turned on) are applied to the entire regular expression
and cannot be turned off.&lt;/p&gt;
&lt;h3 id="teradata-sql"&gt;Teradata SQL&lt;/h3&gt;
&lt;p&gt;fully supported&lt;/p&gt;
&lt;h3 id="oracle-sql"&gt;Oracle SQL&lt;/h3&gt;
&lt;p&gt;Not supported. 
Behavior of regular expressions are control via parameters of regular expression functions.&lt;/p&gt;
&lt;h3 id="perl"&gt;Perl&lt;/h3&gt;
&lt;p&gt;fully supported&lt;/p&gt;
&lt;h3 id="grep"&gt;grep&lt;/h3&gt;
&lt;p&gt;fully supported via Perl style regular (the -P option) expression&lt;/p&gt;
&lt;h3 id="js"&gt;JS&lt;/h3&gt;
&lt;p&gt;Partial supported.
Tunning modifiers on is supported
however turnning modifiers off is not supported.
Modifiers (once turned on) are applied to the entire regular expression
and cannot be turned off.&lt;/p&gt;
&lt;h2 id="greedy-match-or-not"&gt;Greedy Match or Not&lt;/h2&gt;
&lt;h3 id="grep_1"&gt;grep&lt;/h3&gt;
&lt;p&gt;Greedy by default.
However, 
in the Perl style syntax you use the modifer &lt;code&gt;?&lt;/code&gt; after the quantifier to perform a non-greedy match.
For example, 
instead of &lt;code&gt;.*&lt;/code&gt; you can use &lt;code&gt;.*?&lt;/code&gt; to do a non-greedy match.&lt;/p&gt;
&lt;h2 id="popular-regular-expression-functions"&gt;Popular Regular Expression Functions&lt;/h2&gt;
&lt;h3 id="r_1"&gt;R&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;grep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ignore.case&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;perl&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fixed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;useBytes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;invert&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;grep(value = FALSE)&lt;/code&gt; returns a vector of the indices of the elements of x that yielded a match 
(or not, for invert = TRUE). 
This will be an integer vector unless the input is a long vector, when it will be a double vector.
&lt;code&gt;grep(value = TRUE)&lt;/code&gt; returns a character vector containing the selected elements of x 
(after coercion, preserving names but no other attributes).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;grepl&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ignore.case&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;perl&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fixed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;useBytes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;grepl&lt;/code&gt; returns a logical vector (match or not for each element of x).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;replacement&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ignore.case&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;perl&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fixed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;useBytes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;gsub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;replacement&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ignore.case&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;perl&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fixed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;useBytes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;regexpr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ignore.case&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;perl&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fixed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;useBytes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;gregexpr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ignore.case&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;perl&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fixed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;useBytes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;regexec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ignore.case&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fixed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;useBytes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For sub and gsub return a character vector of the same length and with the same attributes as x (after possible coercion to character). Elements of character vectors x which are not substituted will be returned unchanged (including any declared encoding). If useBytes = FALSE a non-ASCII substituted result will often be in UTF-8 with a marked encoding (e.g. if there is a UTF-8 input, and in a multibyte locale unless fixed = TRUE). Such strings can be re-encoded by enc2native.&lt;/p&gt;
&lt;p&gt;regexpr returns an integer vector of the same length as text giving the starting position of the first match or -1 if there is none, with attribute "match.length", an integer vector giving the length of the matched text (or -1 for no match). The match positions and lengths are in characters unless useBytes = TRUE is used, when they are in bytes. If named capture is used there are further attributes "capture.start", "capture.length" and "capture.names".&lt;/p&gt;
&lt;p&gt;gregexpr returns a list of the same length as text each element 
of which is of the same form as the return value for regexpr, 
except that the starting positions of every (disjoint) match are given.&lt;/p&gt;
&lt;p&gt;regexec returns a list of the same length as text each element 
of which is either -1 if there is no match, 
or a sequence of integers with the starting positions of the match 
and all substrings corresponding to parenthesized subexpressions of pattern, 
with attribute "match.length" a vector giving the lengths of the matches (or -1 for no match).&lt;/p&gt;
&lt;h3 id="python_1"&gt;Python&lt;/h3&gt;
&lt;p&gt;re.search
re.match&lt;/p&gt;
&lt;h3 id="teradata-sql_1"&gt;Teradata SQL&lt;/h3&gt;
&lt;p&gt;regexp_instr&lt;/p&gt;
&lt;h2 id="white-space"&gt;White Space&lt;/h2&gt;
&lt;h3 id="python_2"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\s&lt;/code&gt; or &lt;code&gt;[ \t\n\r\f\v]&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;match&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;\s&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;abc &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;\s&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;abc &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Notice that &lt;code&gt;re.match&lt;/code&gt; checks for a match only at the beginning of the string, 
while &lt;code&gt;re.search&lt;/code&gt; checks for a match anywhere in the string.
You will want to use &lt;code&gt;re.search&lt;/code&gt; most of the time.&lt;/p&gt;
&lt;h3 id="r_2"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\s&lt;/code&gt; or &lt;code&gt;[[:space:]]&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# find strings containing white spaces&lt;/span&gt;
&lt;span class="nf"&gt;grep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;\\s&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;abc &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;hello&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;[1]&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="c1"&gt;# return a vector of logical values indicating whether the corresponding strings contain white spaces&lt;/span&gt;
&lt;span class="nf"&gt;grep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;\\s&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;abc &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;hello&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="c1"&gt;# replace the first white space with &amp;quot;&amp;quot;, i.e., remove the first white space&lt;/span&gt;
&lt;span class="nf"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;\s&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;abc &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;hello&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="c1"&gt;# replace all first white space with &amp;quot;&amp;quot;, i.e., remove all white space&lt;/span&gt;
&lt;span class="nf"&gt;gsub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;\s&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;abc &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;hello&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="teradata-sql_2"&gt;Teradata SQL&lt;/h3&gt;
&lt;p&gt;[[:blank:]]
[[:space:]]&lt;/p&gt;
&lt;h3 id="sed"&gt;sed&lt;/h3&gt;
&lt;p&gt;[[:space:]] (recommended) or &lt;code&gt;\s&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\s, [[:space:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_2"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\s, [[:space:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\s&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_1"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\s&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sas-based-on-perl-regular-expression"&gt;SAS (Based on Perl Regular Expression)&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\s&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="non-whitespace-characters"&gt;Non-whitespace Characters&lt;/h2&gt;
&lt;h3 id="python_3"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\S&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_3"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\S&lt;/code&gt; or &lt;code&gt;[^[:space:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_1"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\S&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_1"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\S&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_3"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\S&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_1"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\S&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_2"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\S&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="lower-case-letters"&gt;Lower-case Letters&lt;/h2&gt;
&lt;h3 id="python_4"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_4"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-z], [:lower:]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_2"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_2"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_4"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_2"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-z], \l&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_3"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-z]&lt;/code&gt; &lt;/p&gt;
&lt;h2 id="non-lower-case-letters-characters"&gt;Non-lower-case Letters Characters&lt;/h2&gt;
&lt;h3 id="python_5"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_5"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-z], [^[:lower:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_3"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_3"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_5"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_3"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-z], \L&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_4"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-z]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="upper-case-letters"&gt;Upper-case Letters&lt;/h2&gt;
&lt;h3 id="python_6"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[A-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_6"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[A-Z], [[:upper:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_4"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[A-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_4"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[A-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_6"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[A-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_4"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[A-Z], \u&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_5"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[A-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="non-upper-case-letter-characters"&gt;Non-upper-case Letter Characters&lt;/h2&gt;
&lt;h3 id="python_7"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^A-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_7"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^A-Z], [^[:upper:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_5"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^A-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_5"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^A-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_7"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^A-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_5"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^A-Z], \U&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_6"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^A-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="letters"&gt;Letters&lt;/h2&gt;
&lt;h3 id="python_8"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_8"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z], [[:alpha:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_6"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_6"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_8"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_6"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z], \a&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_7"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="non-letter-characters"&gt;Non-Letter Characters&lt;/h2&gt;
&lt;h3 id="python_9"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_9"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z], [^[:alpha:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_7"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_7"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_9"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_7"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z], \A&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_8"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="digits"&gt;Digits&lt;/h2&gt;
&lt;h3 id="python_10"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\d&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_10"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\d&lt;/code&gt; or &lt;code&gt;[[:digit:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_8"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\d&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_8"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[[:digit:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_10"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[[:digit:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_8"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\d&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_9"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\d&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="non-digit-characters"&gt;Non-digit Characters&lt;/h2&gt;
&lt;h3 id="python_11"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\D&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_11"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\\\D, [^[:digit:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_9"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\D&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_9"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^[:digit:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_11"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^[:digit:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_9"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\D&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_10"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\D&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="hex-digits"&gt;Hex Digits&lt;/h2&gt;
&lt;h3 id="python_12"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_12"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_10"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_10"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_12"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_10"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\x&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_11"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="non-hex-digit-characters"&gt;Non-Hex Digit Characters&lt;/h2&gt;
&lt;h3 id="python_13"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_13"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_11"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_11"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_13"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_11"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\X&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_12"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-9a-fA-F]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="octal-digits"&gt;Octal Digits&lt;/h2&gt;
&lt;h3 id="python_14"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-7]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_14"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-7]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_12"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-7]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_12"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-7]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_14"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-7]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_12"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\o&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_13"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[0-8]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="non-octal-digit-characters"&gt;Non-Octal Digit Characters&lt;/h2&gt;
&lt;h3 id="python_15"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-7]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_15"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-7]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_13"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-7]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_13"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-7]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_15"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-7]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_13"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\O&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_14"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^0-8]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="head-of-word-characters"&gt;Head of Word Characters&lt;/h2&gt;
&lt;h3 id="python_16"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_16"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_14"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_14"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_16"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_14"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\h&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_15"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="non-head-of-word-characters"&gt;Non-Head of Word Characters&lt;/h2&gt;
&lt;h3 id="python_17"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_17"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_15"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_15"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_17"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_15"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\H&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_16"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;[^a-zA-Z_]&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="printable-character"&gt;Printable Character&lt;/h2&gt;
&lt;h3 id="python_18"&gt;Python&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="r_18"&gt;R&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="sed_16"&gt;sed&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="egrep_16"&gt;egrep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="grep_18"&gt;grep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="vim_16"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\p&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="printable-character-excluding-digits"&gt;Printable Character Excluding Digits&lt;/h2&gt;
&lt;h3 id="python_19"&gt;Python&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="r_19"&gt;R&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="sed_17"&gt;sed&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="egrep_17"&gt;egrep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="grep_19"&gt;grep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="vim_17"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\P&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="word-character"&gt;Word Character&lt;/h2&gt;
&lt;h3 id="python_20"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\w&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_20"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\w&lt;/code&gt; or &lt;code&gt;[[:alnum:]]&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="icu"&gt;ICU&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\w&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_18"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\w&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_18"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\w&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_20"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\w&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_18"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\w&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="non-word-character"&gt;Non-word Character&lt;/h2&gt;
&lt;h3 id="python_21"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\W&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_21"&gt;R&lt;/h3&gt;
&lt;p&gt;Not supported in base (no &lt;code&gt;\\W&lt;/code&gt; in the regular expression in the base package)
but supported in the stringi package.&lt;/p&gt;
&lt;h3 id="icu_1"&gt;ICU&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\W&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_19"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\W&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_19"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\W&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_21"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\W&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_19"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\W&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="grouping"&gt;Grouping&lt;/h2&gt;
&lt;h3 id="python_22"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;()&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_22"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;()&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_20"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;()&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_20"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;()&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_22"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\(\)&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_20"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\(\)&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="alternation"&gt;Alternation&lt;/h2&gt;
&lt;h3 id="python_23"&gt;Python&lt;/h3&gt;
&lt;h3 id="r_23"&gt;R&lt;/h3&gt;
&lt;h3 id="sed_21"&gt;sed&lt;/h3&gt;
&lt;h3 id="egrep_21"&gt;egrep&lt;/h3&gt;
&lt;h3 id="grep_23"&gt;grep&lt;/h3&gt;
&lt;h3 id="vim_21"&gt;Vim&lt;/h3&gt;
&lt;p&gt;||||||||||||&lt;/p&gt;
&lt;h2 id="0-or-more-matches"&gt;0 or More Matches&lt;/h2&gt;
&lt;h3 id="python_24"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;*&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_24"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;*&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_22"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;*&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_22"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;*&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_24"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;*&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_22"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;*&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="0-or-1-match"&gt;0 or 1 match&lt;/h2&gt;
&lt;h3 id="python_25"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;?&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_25"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;?&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_23"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;?&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_23"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;?&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_25"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;?&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_23"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\=&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="1-or-more-matches"&gt;1 or More Matches&lt;/h2&gt;
&lt;h3 id="python_26"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;+&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_26"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;+&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_24"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;+&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_24"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;+&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_26"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;+&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_24"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\+&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="any-character-except-a-newline"&gt;Any Character Except a Newline&lt;/h2&gt;
&lt;h3 id="python_27"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;.&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_27"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;.&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_25"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;.&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_25"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;.&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_27"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;.&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_25"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;.&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="start-of-a-line"&gt;Start of a Line&lt;/h2&gt;
&lt;h3 id="python_28"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;^&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_28"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;^&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_26"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;^&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_26"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;^&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_28"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;^&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_26"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;^&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="end-of-a-line"&gt;End of a Line&lt;/h2&gt;
&lt;h3 id="python_29"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;$&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_29"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;$&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_27"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;$&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_27"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;$&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_29"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;$&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_27"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;$&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="exactly-m-matches"&gt;Exactly &lt;code&gt;m&lt;/code&gt; Matches&lt;/h2&gt;
&lt;h3 id="python_30"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_30"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_28"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_28"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_30"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_28"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\{m\\}&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="m-or-more-matches"&gt;&lt;code&gt;m&lt;/code&gt; or More Matches&lt;/h2&gt;
&lt;h3 id="python_31"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m,}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_31"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m,}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_29"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m,}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_29"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m,}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_31"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m,}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_29"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\{m,\\}&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="m-to-n-matches"&gt;&lt;code&gt;m&lt;/code&gt; to &lt;code&gt;n&lt;/code&gt; Matches&lt;/h2&gt;
&lt;h3 id="python_32"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m,n}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_32"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m,n}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_30"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m,n}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_30"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m,n}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_32"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{m,n}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_30"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\{m,n\\}&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="at-most-n-matches"&gt;At Most &lt;code&gt;n&lt;/code&gt; Matches&lt;/h2&gt;
&lt;h3 id="python_33"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{,n}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_33"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{,n}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_31"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{,n}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_31"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{,n}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_33"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;{,n}&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_31"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\{,n\\}&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="0-or-more-matches-as-few-as-possible"&gt;0 or More Matches (as few as possible)&lt;/h2&gt;
&lt;h3 id="python_34"&gt;Python&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="r_34"&gt;R&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="sed_32"&gt;sed&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="egrep_32"&gt;egrep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="grep_34"&gt;grep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="vim_32"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\{-\\}&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="m-to-n-matches-as-few-as-possible"&gt;m to n matches, as few as possible&lt;/h2&gt;
&lt;h3 id="python_35"&gt;Python&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="r_35"&gt;R&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="sed_33"&gt;sed&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="egrep_33"&gt;egrep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="grep_35"&gt;grep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="vim_33"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\{-m,n\\}&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="at-least-m-matches-as-few-as-possible"&gt;at least m matches, as few as possible&lt;/h2&gt;
&lt;h3 id="python_36"&gt;Python&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="r_36"&gt;R&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="sed_34"&gt;sed&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="egrep_34"&gt;egrep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="grep_36"&gt;grep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="vim_34"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\{-m,\\}&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="at-most-m-matches-as-few-as-possible"&gt;at most m matches, as few as possible&lt;/h2&gt;
&lt;h3 id="python_37"&gt;Python&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="r_37"&gt;R&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="sed_35"&gt;sed&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="egrep_35"&gt;egrep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="grep_37"&gt;grep&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="vim_35"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\{-,m\\}&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="word-boundry"&gt;Word Boundry&lt;/h2&gt;
&lt;h3 id="python_38"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\b&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="r_38"&gt;R&lt;/h3&gt;
&lt;p&gt;Notice that word boundry in R includes &lt;code&gt;_&lt;/code&gt;, numbers, etc.
&lt;code&gt;\b&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="python_39"&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\b&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="sed_36"&gt;sed&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\b&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="perl_17"&gt;Perl&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\b&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="egrep_36"&gt;egrep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\b&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="grep_38"&gt;grep&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\b&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="vim_36"&gt;Vim&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\b&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="escape-special-characters"&gt;Escape Special Characters&lt;/h2&gt;
&lt;h3 id="teradata-sql_3"&gt;Teradata SQL&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;No need to escape &lt;code&gt;/&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="r_39"&gt;R&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;\\$&lt;/code&gt;, &lt;code&gt;\\{&lt;/code&gt;, &lt;code&gt;\\|&lt;/code&gt;&lt;/p&gt;
&lt;h3 id="python_40"&gt;Python&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Need to escape &lt;code&gt;/&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="sed_37"&gt;sed&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;.&lt;/code&gt; -&amp;gt; &lt;code&gt;\\.&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="some-confusing-concept"&gt;Some Confusing Concept&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;white spaces vs word boundry
word boundry is a super set of white spaces.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\w&lt;/code&gt; vs [[:alnum:]]
[[:alnum:]] contains all letters and numbers 
while &lt;code&gt;\w&lt;/code&gt; contains not only letters and numbers but also some special character such as &lt;code&gt;_&lt;/code&gt;. 
So in short &lt;code&gt;\w&lt;/code&gt; is a super set of &lt;code&gt;[[:alnum:]]&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;</content><category term="tips"></category><category term="regex"></category><category term="equivalence"></category><category term="regular expression"></category><category term="regexp"></category><category term="Python"></category><category term="R"></category><category term="CRAN"></category><category term="Perl"></category><category term="SAS"></category><category term="grep"></category><category term="egrep"></category></entry><entry><title>ScalaJS Tips</title><link href="http://www.legendu.net/misc/blog/scalajs-tips/" rel="alternate"></link><published>2017-10-22T13:51:30-07:00</published><updated>2017-10-22T13:51:30-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/scalajs-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://scalafiddle.io/sf/gKgxQY0/1&lt;/p&gt;
&lt;p&gt;https://scalafiddle.io/
Welcome to ScalaFiddle&lt;/p&gt;
&lt;p&gt;ScalaFiddle is an online playground for creating, sharing …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://scalafiddle.io/sf/gKgxQY0/1&lt;/p&gt;
&lt;p&gt;https://scalafiddle.io/
Welcome to ScalaFiddle&lt;/p&gt;
&lt;p&gt;ScalaFiddle is an online playground for creating, sharing and embedding Scala fiddles (little Scala programs that run directly in your browser).
https://github.com/spaced/scala-js-d3&lt;/p&gt;
&lt;p&gt;https://github.com/andreaferretti/paths-scala-js&lt;/p&gt;
&lt;p&gt;ScalaJS Facades
https://www.scala-js.org/libraries/facades.html&lt;/p&gt;</content><category term="programming"></category><category term="ScalaJS"></category><category term="Scala"></category><category term="JavaScript"></category><category term="JS"></category></entry><entry><title>Null, None and Alike in Scala</title><link href="http://www.legendu.net/misc/blog/null,-none-and-alike-in-Scala/" rel="alternate"></link><published>2017-10-22T13:37:40-07:00</published><updated>2017-10-22T13:37:40-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/null,-none-and-alike-in-Scala/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Nil&lt;/code&gt; represents an emptry List of anything of zero length. 
It is not that it refers to nothing but it …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Nil&lt;/code&gt; represents an emptry List of anything of zero length. 
It is not that it refers to nothing but it refers to List which has no contents.
In other words, &lt;code&gt;Nil&lt;/code&gt; is equivalent to &lt;code&gt;List()&lt;/code&gt; or &lt;code&gt;List.empty&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Null&lt;/code&gt; is a Trait and &lt;code&gt;null&lt;/code&gt; is an instance of &lt;code&gt;Null&lt;/code&gt;,
which is similar to null in Java.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Nothing&lt;/code&gt; is a Trait. 
It is a subtype of everything 
but not superclass of anything. 
There are no instances of Nothing.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;None&lt;/code&gt; is used to represent a sensible return value,
which is a way to avoid null pointer exception.
&lt;code&gt;Option&lt;/code&gt; has exactly 2 subclasses: &lt;code&gt;Some&lt;/code&gt; and &lt;code&gt;None&lt;/code&gt;. 
&lt;code&gt;None&lt;/code&gt; signifies no result from the method.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Unit&lt;/code&gt; represents type of method that does not return a value of anys sort.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Any&lt;/code&gt; is the supertype of &lt;code&gt;AnyRef&lt;/code&gt; and &lt;code&gt;AnyVal&lt;/code&gt;. 
&lt;code&gt;AnyRef&lt;/code&gt; is the supertype of all the reference classes (like String, List, Iterable) in scala. 
&lt;code&gt;AnyVal&lt;/code&gt; is the supertype of all the value classes (like Int, Float, Double, Byte, Short..). 
&lt;code&gt;Null&lt;/code&gt; is a subtype of all the reference classes. 
&lt;code&gt;null&lt;/code&gt; is the only instance of &lt;code&gt;Null&lt;/code&gt;. 
&lt;code&gt;Nothing&lt;/code&gt; is subtype of every other type i.e of reference and value classes. &lt;/p&gt;
&lt;p&gt;Think- AnyRef == Object in Java.&lt;/p&gt;
&lt;h2 id="ref"&gt;Ref&lt;/h2&gt;
&lt;p&gt;http://oldfashionedsoftware.com/2008/08/20/a-post-about-nothing/&lt;/p&gt;</content><category term="programming"></category><category term="null"></category><category term="none"></category><category term="Scala"></category></entry><entry><title>Line Continuation in Scala</title><link href="http://www.legendu.net/misc/blog/line-continuation-in-scala/" rel="alternate"></link><published>2017-10-22T13:35:34-07:00</published><updated>2017-10-22T13:35:34-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/line-continuation-in-scala/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Scala does not have a line continuation character.
It infers a semicolon always when:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;an expression can end&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The following …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Scala does not have a line continuation character.
It infers a semicolon always when:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;an expression can end&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The following (not whitespace) line begins not with a token that can start a statement&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are no unclosed ( or [ found before&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Thus, 
to "delay" semicolon inference one can place a method call 
or the dot at the end of the line 
or place the dot at the beginning of the following line:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nc"&gt;ConditionParser&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
    &lt;span class="n"&gt;parseSingleCondition&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;field=*value1*&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;
    &lt;span class="n"&gt;description&lt;/span&gt; &lt;span class="n"&gt;must&lt;/span&gt; &lt;span class="n"&gt;equalTo&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;field should contain value1&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
&lt;span class="n"&gt;c&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nc"&gt;List&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
    &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;_&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Wrap it in parentheses.
Note that wrap in curly braces doesn't work.&lt;/p&gt;</content><category term="programming"></category><category term="Scala"></category><category term="line continuation"></category></entry><entry><title>Recursion in Scala</title><link href="http://www.legendu.net/misc/blog/recursion-in-scala/" rel="alternate"></link><published>2017-10-22T13:34:25-07:00</published><updated>2017-10-22T13:34:25-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/recursion-in-scala/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="tricks-to-write-tail-recursive-calls"&gt;Tricks to Write Tail Recursive Calls&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;A useful trick to write tail recursive function is 
to include the result to …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="tricks-to-write-tail-recursive-calls"&gt;Tricks to Write Tail Recursive Calls&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;A useful trick to write tail recursive function is 
to include the result to return as a parameter.
If the result to return is a tuple (or so), 
you just need to include those elements that are not already parameters.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="tricks-that-do-not-need-tail-recursive-calls"&gt;Tricks that Do Not Need Tail Recursive Calls&lt;/h2&gt;
&lt;p&gt;Somtimes you don't bother to write a tail recursive function (and don't want use while loop either) 
but still want to have good performance and avoid stack overflow issue. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;A good trick is to return Iterator or Stream.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the results to return is numbers or strings, 
you can cache the results using a HashMap to avoid writing tail recursive functions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Say that you want to reduce a seq.
Instead of writing a method to handle the situation of multiple elements,
you can just write a method to handle the situation of 2 elements, 
and then call the &lt;code&gt;reduce&lt;/code&gt; method.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reduce&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;_&lt;/span&gt; &lt;span class="n"&gt;youOperator&lt;/span&gt; &lt;span class="k"&gt;_&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Scala"></category><category term="recursion"></category><category term="tail recursion"></category><category term="tail recursive call"></category></entry><entry><title>Date and Time in Java and Scala</title><link href="http://www.legendu.net/misc/blog/date-and-time-in-java-and-scala/" rel="alternate"></link><published>2017-10-22T13:33:27-07:00</published><updated>2017-10-22T13:33:27-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/date-and-time-in-java-and-scala/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use Joda time if you are using JDK &amp;lt;= 7
and java.time if you are using JDK8 and above.&lt;/p&gt;
&lt;p&gt;If …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use Joda time if you are using JDK &amp;lt;= 7
and java.time if you are using JDK8 and above.&lt;/p&gt;
&lt;p&gt;If you do prefer Scala libraries (when working in Scala),
https://github.com/nscala-time/nscala-time wrapper of Joda time&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;libraryDependencies&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;com.github.nscala-time&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;nscala-time&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;2.16.0&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;https://github.com/reactivecodes/scala-time
wrapper of java.time&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="n"&gt;Requires&lt;/span&gt; &lt;span class="n"&gt;JDK&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="n"&gt;above&lt;/span&gt;
&lt;span class="ss"&gt;&amp;quot;codes.reactive&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;scala-time&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;0.4.1&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Scala"></category><category term="Java"></category><category term="date"></category><category term="time"></category><category term="java.time"></category><category term="Joda time"></category></entry><entry><title>Issues in Scala</title><link href="http://www.legendu.net/misc/blog/issues-in-scala/" rel="alternate"></link><published>2017-10-22T13:32:43-07:00</published><updated>2017-10-22T13:32:43-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/issues-in-scala/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="212"&gt;2.12&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Avoid using view of collections.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="211"&gt;2.11&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Iterator &lt;code&gt;++&lt;/code&gt; non lazy, might cause stack overflow issues. 
This issue has …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="212"&gt;2.12&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Avoid using view of collections.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="211"&gt;2.11&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Iterator &lt;code&gt;++&lt;/code&gt; non lazy, might cause stack overflow issues. 
This issue has been fixed in 2.12.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Stream.filterNot&lt;/code&gt;, not lazy, might cause stack overflow issues. 
&lt;code&gt;Stream.filter&lt;/code&gt; is good.
This isssue has been fixed in 2.12.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Avoid using &lt;code&gt;view&lt;/code&gt; of collections. 
Iterator is a better alternative most of the time.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Scala"></category><category term="issue"></category></entry><entry><title>PyMySQL Tips</title><link href="http://www.legendu.net/misc/blog/pymysql-tips/" rel="alternate"></link><published>2017-10-22T13:21:25-07:00</published><updated>2017-10-22T13:21:25-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/pymysql-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo pip3 install PyMySQL
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="tricks"&gt;Tricks&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Connection in PyMySQL is not autocommit by default. 
You must commit to save your changes …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo pip3 install PyMySQL
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="tricks"&gt;Tricks&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Connection in PyMySQL is not autocommit by default. 
You must commit to save your changes.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="n"&gt;suppose&lt;/span&gt; &lt;span class="n"&gt;conn&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="k"&gt;connection&lt;/span&gt; &lt;span class="k"&gt;object&lt;/span&gt;
&lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;commit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;parameterized sql: %s instead of ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;cursor returns tuple of tuples instead of list of tuples ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="pymysql-vs-mysqldb"&gt;PyMYSQL vs MySQLdb&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;PyMySQL&lt;/code&gt; and &lt;code&gt;MySQLdb&lt;/code&gt; provide the same functionality - 
they are both database connectors. 
The difference is in the implementation where &lt;code&gt;MySQLdb&lt;/code&gt; is a C extension and &lt;code&gt;PyMySQL&lt;/code&gt; is pure Python.&lt;/p&gt;
&lt;p&gt;There are a few reasons to try &lt;code&gt;PyMySQL&lt;/code&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;it might be easier to get running on some systems&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it works with PyPy&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it can be "greened" and works with gevent&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="issues"&gt;Issues&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;pymysql&lt;/span&gt;.&lt;span class="nv"&gt;err&lt;/span&gt;.&lt;span class="nv"&gt;OperationalError&lt;/span&gt;: &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2003&lt;/span&gt;, &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;Can&amp;#39;t connect to MySQL server on &amp;#39;127.0.0.1&amp;#39; &lt;/span&gt;
&lt;span class="ss"&gt;(&lt;/span&gt;[&lt;span class="nv"&gt;Errno&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;] &lt;span class="nv"&gt;No&lt;/span&gt; &lt;span class="nv"&gt;such&lt;/span&gt; &lt;span class="nv"&gt;file&lt;/span&gt; &lt;span class="nv"&gt;or&lt;/span&gt; &lt;span class="nv"&gt;directory&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在所有信息正确的情况下可能是my.conf下开启了skip-networking或绑定了IP&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;skip&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;networking&lt;/span&gt;
&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;address&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;127&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;若要开启skip-networking的情况下使用，则用unix_socket来连接&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;pymysql&lt;/span&gt;.&lt;span class="k"&gt;connect&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;host&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;127.0.0.1&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;,
&lt;span class="nv"&gt;unix_socket&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;/xxx/mysqld.sock&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;,
&lt;span class="nv"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;root&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;,
&lt;span class="nv"&gt;passwd&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;root&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;,
&lt;span class="nv"&gt;db&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;test&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;,
&lt;span class="nv"&gt;charset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;utf8&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="configuration"&gt;Configuration&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;bind-address&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;admin user (non root)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;user&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;monty&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;@&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt; &lt;span class="n"&gt;identified&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;some_pass&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;grant&lt;/span&gt; &lt;span class="k"&gt;all&lt;/span&gt; &lt;span class="k"&gt;privileges&lt;/span&gt; &lt;span class="k"&gt;on&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;monty&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;@&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="k"&gt;grant&lt;/span&gt; &lt;span class="k"&gt;option&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;user&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;monty&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;@&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;%&amp;#39;&lt;/span&gt; &lt;span class="n"&gt;identified&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;some_pass&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;grant&lt;/span&gt; &lt;span class="k"&gt;all&lt;/span&gt; &lt;span class="k"&gt;privileges&lt;/span&gt; &lt;span class="k"&gt;on&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;monty&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;@&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;%&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="k"&gt;grant&lt;/span&gt; &lt;span class="k"&gt;option&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="backup"&gt;Backup&lt;/h2&gt;
&lt;p&gt;XtraBackup is an open-source MySQL hot backup software program. 
Features include hot, non-locking backups for InnoDB storage, incremental backups, streaming, parallel-compressed backups, 
throttling based on the number of I/O operations per second, etc.[74]&lt;/p&gt;</content><category term="programming"></category><category term="PyMySQL"></category><category term="tips"></category><category term="Python"></category></entry><entry><title>Unit Test for Scala</title><link href="http://www.legendu.net/misc/blog/unit-test-for-scala/" rel="alternate"></link><published>2017-10-22T12:59:02-07:00</published><updated>2017-10-22T12:59:02-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/unit-test-for-scala/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Both ScalaTest and spec2 are good unit testing frameworks. 
ScalaTest is more flexible is recommended.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="scalatest"&gt;ScalaTest&lt;/h2&gt;
&lt;p&gt;http://www.scalatest.org …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Both ScalaTest and spec2 are good unit testing frameworks. 
ScalaTest is more flexible is recommended.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="scalatest"&gt;ScalaTest&lt;/h2&gt;
&lt;p&gt;http://www.scalatest.org/&lt;/p&gt;
&lt;p&gt;Keep eyes on sbt-idea ..., 
check whether a plugin for IntelliJ is available, ...&lt;/p&gt;
&lt;p&gt;https://github.com/mpeltonen/sbt-idea&lt;/p&gt;
&lt;p&gt;It seems that supersafe has issues with scala 2.12.2 ...&lt;/p&gt;
&lt;p&gt;https://github.com/scalatest/scalatest/issues/1156&lt;/p&gt;
&lt;p&gt;Try the following:&lt;/p&gt;
&lt;p&gt;When we add the plug-in in &lt;code&gt;projects/build.sbt&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;addSbtPlugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;com.artima.supersafe&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;sbtplugin&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;1.1.2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We must not add the above plug-in anywhere else&lt;/p&gt;
&lt;p&gt;Add to &lt;code&gt;~/.sbt/0.13/global.sbt&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;resolvers&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;Artima Maven Repository&amp;quot;&lt;/span&gt; &lt;span class="k"&gt;at&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;http://repo.artima.com/releases&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Do not add this resolver anywhere else&lt;/p&gt;
&lt;p&gt;Make sure you have an empty line before and after each of the sbt lines&lt;/p&gt;
&lt;h2 id="specs2"&gt;Specs2&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;org.specs2&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;specs2-core_2.11&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;3.7.2&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;test&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;

&lt;span class="ss"&gt;&amp;quot;org.specs2&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;specs2-mock_2.11&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;3.7.2&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;test&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category></entry><entry><title>Maven Dependencies</title><link href="http://www.legendu.net/misc/blog/maven-dependencies/" rel="alternate"></link><published>2017-10-22T12:57:38-07:00</published><updated>2017-10-22T12:57:38-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/maven-dependencies/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="properties"&gt;Properties&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;scala.version&amp;gt;&lt;/span&gt;2.11.11&lt;span class="nt"&gt;&amp;lt;/scala.version&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="dependencies"&gt;Dependencies&lt;/h2&gt;
&lt;h3 id="unit-test"&gt;Unit Test&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;junit&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;junit&lt;span class="nt"&gt;&amp;lt;/artifactId …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="properties"&gt;Properties&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;scala.version&amp;gt;&lt;/span&gt;2.11.11&lt;span class="nt"&gt;&amp;lt;/scala.version&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="dependencies"&gt;Dependencies&lt;/h2&gt;
&lt;h3 id="unit-test"&gt;Unit Test&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;junit&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;junit&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;4.11&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;scope&amp;gt;&lt;/span&gt;test&lt;span class="nt"&gt;&amp;lt;/scope&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="specs"&gt;specs&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.specs2&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;specs2-core_&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;scala&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;compat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.4.16&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;scope&amp;gt;&lt;/span&gt;test&lt;span class="nt"&gt;&amp;lt;/scope&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="specs-junit"&gt;specs-junit&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.specs2&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;specs2-junit_&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;scala&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;compat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.4.6&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;scope&amp;gt;&lt;/span&gt;test&lt;span class="nt"&gt;&amp;lt;/scope&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="scalatest"&gt;ScalaTest&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.scalatest&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;scalatest_&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;scala&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;compat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.2.4&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;scope&amp;gt;&lt;/span&gt;test&lt;span class="nt"&gt;&amp;lt;/scope&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="scalaz"&gt;scalaz&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.scalaz&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;scalaz-core_2.11&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;7.2.12&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.ebay.scalaplatform&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;platform-spark_2.11&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0-SNAPSHOT&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.scala-lang&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;scala-library&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;scala&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="apache-commons-math3"&gt;Apache Commons Math3&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.commons&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;commons-math3&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.6.1&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="plugin"&gt;Plugin&lt;/h2&gt;
&lt;h3 id="scala-maven-plugin"&gt;scala-maven-plugin&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;net.alchim31.maven&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;scala-maven-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.2.2&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;compile&lt;span class="nt"&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;testCompile&lt;span class="nt"&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="maven-scala-plugin"&gt;maven-scala-plugin&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.scala-tools&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-scala-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt; 2.15.2 &lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;compile&lt;span class="nt"&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;sourceDir&amp;gt;&lt;/span&gt;src&lt;span class="nt"&gt;&amp;lt;/sourceDir&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;scalaVersion&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;scala&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/scalaVersion&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="maven-shade-plugin"&gt;maven-shade-plugin&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-shade-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.4.3&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;package&lt;span class="nt"&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;shade&lt;span class="nt"&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;transformers&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;transformer&lt;/span&gt; &lt;span class="na"&gt;implementation=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;mainClass&amp;gt;&lt;/span&gt;org.sonatype.haven.HavenCli&lt;span class="nt"&gt;&amp;lt;/mainClass&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;/transformer&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;/transformers&amp;gt;&lt;/span&gt;

                &lt;span class="nt"&gt;&amp;lt;filters&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;filter&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;artifact&amp;gt;&lt;/span&gt;*:*&lt;span class="nt"&gt;&amp;lt;/artifact&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;excludes&amp;gt;&lt;/span&gt;
                            &lt;span class="nt"&gt;&amp;lt;exclude&amp;gt;&lt;/span&gt;META-INF/*.SF&lt;span class="nt"&gt;&amp;lt;/exclude&amp;gt;&lt;/span&gt;
                            &lt;span class="nt"&gt;&amp;lt;exclude&amp;gt;&lt;/span&gt;META-INF/*.DSA&lt;span class="nt"&gt;&amp;lt;/exclude&amp;gt;&lt;/span&gt;
                            &lt;span class="nt"&gt;&amp;lt;exclude&amp;gt;&lt;/span&gt;META-INF/*.RSA&lt;span class="nt"&gt;&amp;lt;/exclude&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;/excludes&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;/filter&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;/filters&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-compiler-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.0.2&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;source&amp;gt;&lt;/span&gt;1.6&lt;span class="nt"&gt;&amp;lt;/source&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;target&amp;gt;&lt;/span&gt;1.6&lt;span class="nt"&gt;&amp;lt;/target&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.codehaus.mojo&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;exec-maven-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
         &lt;span class="nt"&gt;&amp;lt;mainClass&amp;gt;&lt;/span&gt;net.legendu.App&lt;span class="nt"&gt;&amp;lt;/mainClass&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Scala"></category><category term="Maven"></category><category term="dependencies"></category><category term="dependency management"></category></entry><entry><title>Maven Tips</title><link href="http://www.legendu.net/misc/blog/maven-tips/" rel="alternate"></link><published>2017-10-22T12:41:04-07:00</published><updated>2017-10-22T12:41:04-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/maven-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://search.maven.org/#search"&gt;The Central Repository&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;$HOME/.m2&lt;/p&gt;
&lt;p&gt;maven: shade plugin, scala compile plugin, exclude manifest files, ...&lt;/p&gt;
&lt;p&gt;import as maven project ...&lt;/p&gt;
&lt;p&gt;find an …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://search.maven.org/#search"&gt;The Central Repository&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;$HOME/.m2&lt;/p&gt;
&lt;p&gt;maven: shade plugin, scala compile plugin, exclude manifest files, ...&lt;/p&gt;
&lt;p&gt;import as maven project ...&lt;/p&gt;
&lt;p&gt;find an updated version of scala archetype for maven&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mvn package  
mvn clean package  
mvn compile  
mvn build  
mvn -e build
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;intellij scala mavn archtype is too ooooooooooold!!! 
wait for generate complete and then manaully update the pom file&lt;/p&gt;
&lt;p&gt;Maven&lt;/p&gt;
&lt;p&gt;https://github.com/MicrosoftDocs/azure-docs/blob/master/articles/hdinsight/hdinsight-apache-spark-create-standalone-application.md&lt;/p&gt;
&lt;p&gt;How to define a customized archetype for IntelliJ?
If you use maven in intellij for scala, after choose archetype, update the old pom content!!!&lt;/p&gt;
&lt;p&gt;http://maven.apache.org/&lt;/p&gt;
&lt;h2 id="configuration"&gt;Configuration&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://maven.apache.org/guides/mini/guide-configuring-maven.html"&gt;Configuring Maven&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You can either set up a proxy or mirror repositories to speed up Maven compilation (in China).
Both of them are good ways and are easy to set up.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://maven.apache.org/guides/mini/guide-mirror-settings.html"&gt;Using Mirrors for Repositories&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://maven.apache.org/guides/mini/guide-proxies.html"&gt;Configuring a proxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;http://search.maven.org/#search%7Cga%7C1%7C&lt;/p&gt;
&lt;p&gt;https://maven.apache.org/guides/introduction/introduction-to-archetypes.html&lt;/p&gt;</content><category term="programming"></category><category term="Maven"></category><category term="tips"></category><category term="Java"></category><category term="Scala"></category></entry><entry><title>Speed Up sbt in China</title><link href="http://www.legendu.net/misc/blog/speed-up-sbt-in-China/" rel="alternate"></link><published>2017-10-22T12:39:58-07:00</published><updated>2017-10-22T12:39:58-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/speed-up-sbt-in-China/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Currently &lt;code&gt;sbt&lt;/code&gt; uses https by default. 
However, the Great Firewall of China makes https visits to websites out of China …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Currently &lt;code&gt;sbt&lt;/code&gt; uses https by default. 
However, the Great Firewall of China makes https visits to websites out of China slow. &lt;/p&gt;
&lt;h2 id="proxy"&gt;Proxy&lt;/h2&gt;
&lt;p&gt;If you have access to proxy server, 
it is probably the most convenient way. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;HTTP Proxy&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;export&lt;/span&gt; &lt;span class="n"&gt;JAVA_OPTS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;$JAVA_OPTS -Dhttp.proxyHost=yourserver -Dhttp.proxyPort=8080 -Dhttp.proxyUser=username -Dhttp.proxyPassword=password&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;sbt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Socks Proxy &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sbt&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;DsocksProxyHost&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;proxy_ip&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;DsocksProxyPort&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="repository-mirror-proxy-repository"&gt;Repository Mirror (Proxy Repository)&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;sbt&lt;/code&gt; uses Ivy to resolve library dependencies. 
However, 
unlike Gradle &lt;code&gt;sbt&lt;/code&gt; does NOT inherit Maven configurations. 
You have to configure &lt;code&gt;sbt&lt;/code&gt; separately. 
It is really easy to set up proxy repositories for &lt;code&gt;sbt&lt;/code&gt;. 
All you have to do is to add the following section into the file 
&lt;code&gt;~/.sbt/repositories&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[repositories]&lt;/span&gt;
    &lt;span class="na"&gt;local&lt;/span&gt;
    &lt;span class="na"&gt;aliyun: http://maven.aliyun.com/nexus/content/groups/public/&lt;/span&gt;
    &lt;span class="na"&gt;central: http://repo1.maven.org/maven2/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The repositories are used in the order local &amp;gt; aliyun &amp;gt; central. 
You can add other repositories similarly (using the ke: value format). 
&lt;a href="http://maven.aliyun.com/nexus/#welcome"&gt;Ali Maven Mirror&lt;/a&gt; 
is great for use in China.&lt;/p&gt;</content><category term="programming"></category><category term="sbt"></category><category term="Scala"></category><category term="proxy"></category><category term="HTTP"></category><category term="socks"></category><category term="repository"></category><category term="proxy repository"></category><category term="China"></category></entry><entry><title>Scala Dependencies for SBT</title><link href="http://www.legendu.net/misc/blog/sbt-dependencies/" rel="alternate"></link><published>2017-10-22T12:38:10-07:00</published><updated>2017-10-22T12:38:10-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/sbt-dependencies/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Joda Time&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;joda-time&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;joda-time&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;2.9.9&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Scala XML Support&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;org.scala-lang.modules&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;scala-xml&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;1.0.6&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Scala Parser Combinators …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Joda Time&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;joda-time&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;joda-time&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;2.9.9&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Scala XML Support&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;org.scala-lang.modules&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;scala-xml&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;1.0.6&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Scala Parser Combinators&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;org.scala-lang.modules&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;scala-parser-combinators&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;1.0.4&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Scala Swing&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;org.scala-lang.modules&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;scala-swing&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;2.0.0-M2&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Scalaz Core&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;org.scalaz&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;scalaz-core&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;7.2.12&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SBT"></category><category term="Scala"></category><category term="dependencies"></category></entry><entry><title>Install ITypescript/IJavascript for Jupyter Notebook</title><link href="http://www.legendu.net/misc/blog/install-itypescript-ijavascript-for-jupyter-notebook/" rel="alternate"></link><published>2017-10-22T12:33:12-07:00</published><updated>2017-10-22T12:33:12-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-10-22:/misc/blog/install-itypescript-ijavascript-for-jupyter-notebook/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/nearbydelta/itypescript&lt;/p&gt;
&lt;p&gt;https://github.com/n-riesco/ijavascript/&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wajig&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;nodejs&lt;/span&gt; &lt;span class="n"&gt;npm&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;ln&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nodejs …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/nearbydelta/itypescript&lt;/p&gt;
&lt;p&gt;https://github.com/n-riesco/ijavascript/&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wajig&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;nodejs&lt;/span&gt; &lt;span class="n"&gt;npm&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;ln&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nodejs&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;node&lt;/span&gt;

&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;npm&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;g&lt;/span&gt; &lt;span class="n"&gt;itypescript&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;its&lt;/span&gt; &lt;span class="c1"&gt;--hide-undefined --ts-install=global&lt;/span&gt;


&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;npm&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;g&lt;/span&gt; &lt;span class="n"&gt;ijavascript&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;ijsinstall&lt;/span&gt; &lt;span class="c1"&gt;--hide-undefined --install=global&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Jupyter Notebook"></category><category term="JavaScript"></category><category term="JS"></category><category term="TypeScript"></category><category term="IJavascript"></category><category term="ITypeScript"></category></entry><entry><title>stringi Tips</title><link href="http://www.legendu.net/misc/blog/stringi-tips/" rel="alternate"></link><published>2017-09-06T08:03:00-07:00</published><updated>2017-09-06T08:03:00-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-09-06:/misc/blog/stringi-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It is suggested that you use the package &lt;code&gt;stringi&lt;/code&gt; instead of string utilities in R base. 
    There are multiple reasons …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It is suggested that you use the package &lt;code&gt;stringi&lt;/code&gt; instead of string utilities in R base. 
    There are multiple reasons.&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;stringi&lt;/span&gt; &lt;span class="n"&gt;has&lt;/span&gt; &lt;span class="n"&gt;consistent&lt;/span&gt; &lt;span class="n"&gt;namings&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="n"&gt;signatures&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;behavior&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="n"&gt;functions&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;stringi&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="k"&gt;more&lt;/span&gt; &lt;span class="n"&gt;reasonable&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;engineering&lt;/span&gt; &lt;span class="n"&gt;perspective&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="regular-expression"&gt;Regular Expression&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Use &lt;code&gt;$1&lt;/code&gt; instead of &lt;code&gt;\\1&lt;/code&gt; to capture the nth capture group,
and similarly for other capture groups.&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="stringi"></category><category term="CRAN"></category></entry><entry><title>rJava Failed to Load rJava.So</title><link href="http://www.legendu.net/misc/blog/rjava-failed-to-load-rjava.so/" rel="alternate"></link><published>2017-09-06T08:01:26-07:00</published><updated>2017-09-06T08:01:26-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-09-06:/misc/blog/rjava-failed-to-load-rjava.so/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;rJava failed to load rJava.so and libjvm.so&lt;/p&gt;
&lt;p&gt;Reconfigure Java for R using the command below resolves the issue …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;rJava failed to load rJava.so and libjvm.so&lt;/p&gt;
&lt;p&gt;Reconfigure Java for R using the command below resolves the issue.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="n"&gt;CMD&lt;/span&gt; &lt;span class="n"&gt;javareconf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category></entry><entry><title>Parallel Computing in Python</title><link href="http://www.legendu.net/misc/blog/parallel-computing-in-python/" rel="alternate"></link><published>2017-08-26T21:50:34-07:00</published><updated>2017-08-26T21:50:34-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-08-26:/misc/blog/parallel-computing-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;multiprocess&lt;/p&gt;
&lt;p&gt;https://docs.python.org/3.6/library/multiprocessing.html?highlight=process&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://zhuoqiang.me/python-thread-gil-and-ctypes.html"&gt;python 线程，GIL 和 ctypes&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;https://xph …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;multiprocess&lt;/p&gt;
&lt;p&gt;https://docs.python.org/3.6/library/multiprocessing.html?highlight=process&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://zhuoqiang.me/python-thread-gil-and-ctypes.html"&gt;python 线程，GIL 和 ctypes&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;https://xph.us/2009/12/10/asynchronous-programming-in-python.html&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="parallel computing"></category><category term="multithreading"></category><category term="multiprocess"></category></entry><entry><title>pyodbc Tips</title><link href="http://www.legendu.net/misc/blog/pyodbc-tips/" rel="alternate"></link><published>2017-08-26T21:48:07-07:00</published><updated>2017-08-26T21:48:07-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-08-26:/misc/blog/pyodbc-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;pyodbc only supports qmark&lt;/p&gt;
&lt;p&gt;https://github.com/mkleehammer/pyodbc/wiki&lt;/p&gt;
&lt;h2 id="unicode-converter-buffer-overflow"&gt;Unicode Converter Buffer Overflow&lt;/h2&gt;
&lt;p&gt;This issues arises in Python3 but …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;pyodbc only supports qmark&lt;/p&gt;
&lt;p&gt;https://github.com/mkleehammer/pyodbc/wiki&lt;/p&gt;
&lt;h2 id="unicode-converter-buffer-overflow"&gt;Unicode Converter Buffer Overflow&lt;/h2&gt;
&lt;p&gt;This issues arises in Python3 but not Python2,
so the simplest way is to use Python2 if you do not have use Python3. 
And make sure do not use unicode queries.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;If you are using &lt;code&gt;pyodbc&lt;/code&gt; in Python3 to query Vertica, 
then set the &lt;code&gt;VERTICAINI&lt;/code&gt; environment variable
and set &lt;code&gt;DriverManagerEncoding=UTF-16&lt;/code&gt; in &lt;code&gt;vertica.ini&lt;/code&gt;. 
For more information, 
please refer to the issue 
&lt;a href="https://github.com/mkleehammer/pyodbc/issues/44"&gt;Not working with Python 3.4.3 on OS X (Vertica driver) #44&lt;/a&gt;
on GitHub.&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="pyodbc"></category><category term="Python"></category><category term="tips"></category><category term="ODBC"></category><category term="database"></category><category term="SQL"></category><category term="Vertica"></category><category term="Teradata"></category></entry><entry><title>Scala Errors</title><link href="http://www.legendu.net/misc/blog/scala-errors/" rel="alternate"></link><published>2017-08-26T20:57:39-07:00</published><updated>2017-08-26T20:57:39-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-08-26:/misc/blog/scala-errors/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Java Version Issue&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Unsupported major minor version &lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Java Version Issue&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Unsupported major minor version &lt;/p&gt;
&lt;p&gt;https://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Building Tool for Scala</title><link href="http://www.legendu.net/misc/blog/buidling-tool-for-Scala/" rel="alternate"></link><published>2017-08-26T20:26:44-07:00</published><updated>2017-08-26T20:26:44-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-08-26:/misc/blog/buidling-tool-for-Scala/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The recommended building tool for Sclas is &lt;a href="https://gradle.org/"&gt;Gradle&lt;/a&gt; 
    &gt; &lt;a href="https://maven.apache.org/"&gt;Maven&lt;/a&gt; 
    &gt; &lt;a href="https://www.scala-sbt.org/"&gt;sbt&lt;/a&gt;.
    Maven is too verbosal while sbt is too hard to …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The recommended building tool for Sclas is &lt;a href="https://gradle.org/"&gt;Gradle&lt;/a&gt; 
    &gt; &lt;a href="https://maven.apache.org/"&gt;Maven&lt;/a&gt; 
    &gt; &lt;a href="https://www.scala-sbt.org/"&gt;sbt&lt;/a&gt;.
    Maven is too verbosal while sbt is too hard to use.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;http://www.hammerlab.org/2017/04/06/scala-build-tools/&lt;/p&gt;</content><category term="programming"></category><category term="Scala"></category><category term="sbt"></category><category term="Maven"></category><category term="building tool"></category></entry><entry><title>sbt Assembly Tips</title><link href="http://www.legendu.net/misc/blog/sbt-assembly-tips/" rel="alternate"></link><published>2017-08-26T19:45:07-07:00</published><updated>2017-08-26T19:45:07-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-08-26:/misc/blog/sbt-assembly-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Add sbt-assembly as a dependency in project/assembly.sbt:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;addSbtPlugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;com.eed3si9n&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;sbt-assembly&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;0.14.5&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/sbt/sbt-assembly"&gt;sbt-assembly on GitHub …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Add sbt-assembly as a dependency in project/assembly.sbt:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;addSbtPlugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;com.eed3si9n&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;sbt-assembly&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;0.14.5&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/sbt/sbt-assembly"&gt;sbt-assembly on GitHub&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://manuzhang.github.io/2016/10/15/shading.html"&gt;Shade with SBT&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://queirozf.com/entries/creating-scala-fat-jars-for-spark-on-sbt-with-sbt-assembly-plugin"&gt;Creating Scala Fat Jars for Spark on SBT with sbt-assembly Plugin&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="Scala"></category><category term="sbt"></category><category term="sbt-assembly"></category></entry><entry><title>Spcify Java Version to Use in a Scala Project</title><link href="http://www.legendu.net/misc/blog/spcify-java-version-to-use-in-a-scala-project/" rel="alternate"></link><published>2017-08-26T19:35:28-07:00</published><updated>2017-08-26T19:35:28-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-08-26:/misc/blog/spcify-java-version-to-use-in-a-scala-project/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;javacOptions&lt;/span&gt; &lt;span class="o"&gt;++=&lt;/span&gt; &lt;span class="nv"&gt;Seq&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;-source&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;, &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;1.8&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;, &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;-target&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;, &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;1.8&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;, &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;-Xlint&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;

&lt;span class="nv"&gt;initialize&lt;/span&gt; :&lt;span class="o"&gt;=&lt;/span&gt; {
  &lt;span class="nv"&gt;val&lt;/span&gt; &lt;span class="nv"&gt;_&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;initialize&lt;/span&gt;.&lt;span class="nv"&gt;value&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;sys&lt;/span&gt;.&lt;span class="nv"&gt;props&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;java.specification.version …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;javacOptions&lt;/span&gt; &lt;span class="o"&gt;++=&lt;/span&gt; &lt;span class="nv"&gt;Seq&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;-source&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;, &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;1.8&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;, &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;-target&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;, &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;1.8&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;, &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;-Xlint&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;

&lt;span class="nv"&gt;initialize&lt;/span&gt; :&lt;span class="o"&gt;=&lt;/span&gt; {
  &lt;span class="nv"&gt;val&lt;/span&gt; &lt;span class="nv"&gt;_&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;initialize&lt;/span&gt;.&lt;span class="nv"&gt;value&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;sys&lt;/span&gt;.&lt;span class="nv"&gt;props&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;java.specification.version&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;1.8&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
  &lt;span class="nv"&gt;sys&lt;/span&gt;.&lt;span class="nv"&gt;error&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;Java 8 is required for this project.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Using &lt;code&gt;javacOptions ++= Seq("-source", "1.8", "-target", "1.8")&lt;/code&gt; 
does not work if you have no Java sources.
But you can set the target JVM for the Scala compiler in build.sbt:
&lt;code&gt;scalacOptions += "-target:jvm-1.7"&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://stackoverflow.com/questions/19208942/enforcing-java-version-for-scala-project-in-sbt"&gt;Enforcing Java version for Scala project in sbt?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://stackoverflow.com/questions/25926111/how-to-force-sbt-to-use-java-8"&gt;How to force SBT to use Java 8?&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Docker Images for Programming Languages</title><link href="http://www.legendu.net/misc/blog/docker-images-for-programming-languages/" rel="alternate"></link><published>2017-07-27T12:24:53-07:00</published><updated>2017-07-27T12:24:53-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-07-27:/misc/blog/docker-images-for-programming-languages/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="python"&gt;Python&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/continuumio/anaconda/"&gt;continuumio/anaconda&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Anaconda Python distribution.&lt;/p&gt;
&lt;h3 id="scala"&gt;Scala&lt;/h3&gt;
&lt;p&gt;http://www.slideshare.net/marcuslonnberg/ship-your-scala-code-often-and-easy-with-docker&lt;/p&gt;
&lt;p&gt;http://blog.codacy.com/2015/07/16 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="python"&gt;Python&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/continuumio/anaconda/"&gt;continuumio/anaconda&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Anaconda Python distribution.&lt;/p&gt;
&lt;h3 id="scala"&gt;Scala&lt;/h3&gt;
&lt;p&gt;http://www.slideshare.net/marcuslonnberg/ship-your-scala-code-often-and-easy-with-docker&lt;/p&gt;
&lt;p&gt;http://blog.codacy.com/2015/07/16/dockerizing-scala/&lt;/p&gt;
&lt;p&gt;https://velvia.github.io/Docker-Scala-Sbt/&lt;/p&gt;
&lt;p&gt;https://github.com/stevenalexander/docker-scala-ide&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Speical Characters to Avoid in File Names and Password</title><link href="http://www.legendu.net/misc/blog/speical-characters-to-avoid-in-file-names-and-password/" rel="alternate"></link><published>2017-07-22T11:02:51-07:00</published><updated>2017-07-22T11:02:51-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-07-22:/misc/blog/speical-characters-to-avoid-in-file-names-and-password/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="file-names"&gt;File Names&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Avoid the following special characters in file names.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;spaces (&lt;code&gt;&lt;/code&gt;) &lt;/li&gt;
&lt;li&gt;dollar signs (&lt;code&gt;$&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;double quotes (&lt;code&gt;"&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;single quotes (&lt;code&gt;'&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;tilde (&lt;code&gt;~&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;dash/minus …&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="file-names"&gt;File Names&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Avoid the following special characters in file names.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;spaces (&lt;code&gt;&lt;/code&gt;) &lt;/li&gt;
&lt;li&gt;dollar signs (&lt;code&gt;$&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;double quotes (&lt;code&gt;"&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;single quotes (&lt;code&gt;'&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;tilde (&lt;code&gt;~&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;dash/minus (&lt;code&gt;-&lt;/code&gt;) &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you programmally get the path of a file, 
    it is best to convert it to its absolute form.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="password"&gt;Password&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Avoid the following special characters in passwords.&lt;ul&gt;
&lt;li&gt;space (&lt;code&gt;&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;dollar signs (&lt;code&gt;$&lt;/code&gt;) &lt;/li&gt;
&lt;li&gt;double quotes (&lt;code&gt;"&lt;/code&gt;) &lt;/li&gt;
&lt;li&gt;single quotes (&lt;code&gt;'&lt;/code&gt;) &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="speical characters"></category><category term="avoid"></category><category term="password"></category><category term="file name"></category></entry><entry><title>Python Fabric Tips</title><link href="http://www.legendu.net/misc/blog/python-fabric-tips/" rel="alternate"></link><published>2017-07-10T23:58:31-07:00</published><updated>2017-07-10T23:58:31-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-07-10:/misc/blog/python-fabric-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Ansible is a better alternative to Fabric. 
It is suggested that you use Ansible instead.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Docstring will be displayed when …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Ansible is a better alternative to Fabric. 
It is suggested that you use Ansible instead.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Docstring will be displayed when you type the command &lt;code&gt;fab -l&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Invoke is for local use.
    Fabric 2 will be based on invoke. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="issues"&gt;Issues&lt;/h2&gt;
&lt;p&gt;UnicodeEncodeError: 'ascii' codec can't encode character '\u2018' in position 33: ordinal not in range(128)&lt;/p&gt;
&lt;p&gt;It is suggested that minimize output to avoid this issue. &lt;/p&gt;
&lt;p&gt;Fabric has issues with Unicode-only characters right now. 
Supressing outputs (of shell commands) containing unicode can help avoid potential &lt;code&gt;UnicodeEncodeError&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id="question"&gt;Question&lt;/h2&gt;
&lt;p&gt;Is it possible to surpress logging information?&lt;/p&gt;</content><category term="Python"></category><category term="programming"></category><category term="Fabric"></category><category term="Ansible"></category></entry><entry><title>Collection of Jupyter Notebooks</title><link href="http://www.legendu.net/misc/blog/collection-of-jupyter-notebooks/" rel="alternate"></link><published>2017-06-17T10:22:57-07:00</published><updated>2017-06-17T10:22:57-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-06-17:/misc/blog/collection-of-jupyter-notebooks/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/jupyter/jupyter/wiki/A-gallery-of-interesting-Jupyter-Notebooks&lt;/p&gt;
&lt;p&gt;https://blog.dominodatalab.com/lesser-known-ways-of-using-notebooks/&lt;/p&gt;
&lt;p&gt;https://www.opendatascience.com/blog/jupyter-zeppelin-beaker-the-rise-of-the-notebooks/&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://github.com/jupyter/jupyter/wiki/A-gallery-of-interesting-Jupyter-Notebooks&lt;/p&gt;
&lt;p&gt;https://blog.dominodatalab.com/lesser-known-ways-of-using-notebooks/&lt;/p&gt;
&lt;p&gt;https://www.opendatascience.com/blog/jupyter-zeppelin-beaker-the-rise-of-the-notebooks/&lt;/p&gt;</content><category term="programming"></category></entry><entry><title>Java Packages</title><link href="http://www.legendu.net/misc/blog/java-packages/" rel="alternate"></link><published>2017-06-11T12:03:35-07:00</published><updated>2017-06-11T12:03:35-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-06-11:/misc/blog/java-packages/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="date-time"&gt;Date Time&lt;/h2&gt;
&lt;p&gt;joda time and java.time&lt;/p&gt;
&lt;h2 id="appach-common"&gt;Appach Common&lt;/h2&gt;
&lt;h3 id="appach-commonmath"&gt;Appach CommonMath&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;StatUtils.varance is OK.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="colt"&gt;Colt&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;sample&lt;/code&gt; of &lt;code&gt;RandomSample&lt;/code&gt; is …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="date-time"&gt;Date Time&lt;/h2&gt;
&lt;p&gt;joda time and java.time&lt;/p&gt;
&lt;h2 id="appach-common"&gt;Appach Common&lt;/h2&gt;
&lt;h3 id="appach-commonmath"&gt;Appach CommonMath&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;StatUtils.varance is OK.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="colt"&gt;Colt&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;sample&lt;/code&gt; of &lt;code&gt;RandomSample&lt;/code&gt; is OK.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="parallel-colt"&gt;Parallel Colt&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ParallelColt does not make RNG parallized.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="comparison-of-packages"&gt;Comparison of Packages&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Colt is faster in random number generating than CommonMath,
especially for simple random number generation (e.g. normal random numbers), 
but Colt is no longer maintained.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The RNGs in Colt, Parallel Colt and CommonMath are all OK from statistical view.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="package"></category><category term="Java"></category></entry><entry><title>PPT Skills</title><link href="http://www.legendu.net/misc/blog/PPT-skills/" rel="alternate"></link><published>2017-06-11T11:29:03-07:00</published><updated>2017-06-11T11:29:03-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-06-11:/misc/blog/PPT-skills/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Icon Fonts
http://www.iconfont.cn/&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Icon Fonts
http://www.iconfont.cn/&lt;/p&gt;</content><category term="programming"></category><category term="PPT"></category><category term="skills"></category><category term="tips"></category></entry><entry><title>Python Flask Tips</title><link href="http://www.legendu.net/misc/blog/python-flask-tips/" rel="alternate"></link><published>2017-05-24T21:10:22-07:00</published><updated>2017-05-24T21:10:22-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-05-24:/misc/blog/python-flask-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;app.run(host= '0.0.0.0')&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;jsonify auto does the conversion between None (Python) and null (JS).&lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;app.run(host= '0.0.0.0')&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;jsonify auto does the conversion between None (Python) and null (JS).&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Python"></category><category term="Flask"></category></entry><entry><title>Teradata SQL Tips</title><link href="http://www.legendu.net/misc/blog/teradata-sql-tips/" rel="alternate"></link><published>2017-05-08T21:12:48-07:00</published><updated>2017-05-08T21:12:48-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-05-08:/misc/blog/teradata-sql-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/Teradata"&gt;Teradata Open Source Project on GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://cuishen.iteye.com/blog/638968"&gt;Teradata SQL笔记&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.loyhome.com/%E6%97%A0%E7%9F%A5%E7%9A%84%E6%AF%94%E8%BE%83%EF%BC%9Ar%E5%92%8Cteradata-sql%E9%99%84%E8%B5%A0td%E7%BB%8F%E9%AA%8C%E5%87%A0%E6%9E%9A/"&gt;无知的比较：R和Teradata SQL(附赠TD经验几枚)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://sqlfool.com/mssql-dba-guide-to-teradata/"&gt;The SQL Server DBA’s Guide to Teradata …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/Teradata"&gt;Teradata Open Source Project on GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://cuishen.iteye.com/blog/638968"&gt;Teradata SQL笔记&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.loyhome.com/%E6%97%A0%E7%9F%A5%E7%9A%84%E6%AF%94%E8%BE%83%EF%BC%9Ar%E5%92%8Cteradata-sql%E9%99%84%E8%B5%A0td%E7%BB%8F%E9%AA%8C%E5%87%A0%E6%9E%9A/"&gt;无知的比较：R和Teradata SQL(附赠TD经验几枚)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://sqlfool.com/mssql-dba-guide-to-teradata/"&gt;The SQL Server DBA’s Guide to Teradata&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="performance-tips"&gt;Performance Tips&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;if performance is an issue, avoid using sub queries, use temp tables instead ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you create a table by selecting records from another table,
    it is best to specify a primary index
    even if the original table has primary indexes.
    The reason is that the data you've selected might not have the same distribution as the original data.
    Specifying a good primary index not only improve the performance of queries
    but can also reduces the percentage of wasted spaces.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="trick-and-trap"&gt;Trick and Trap&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Instead of using macros of other extensions of SQL
    (which many versions of SQL does not support),
    an better alternative is to call SQL in other languages (Python, R, etc.).
    This also makes it easier to do visualization or generalize reports.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Teradata, the maximum row size is approx 64K bytes.
    So that you cannot define columns of size greater than 64K.
    For example,
    you cannot define a column of size 65K.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You cannot create a new table using &lt;code&gt;insert into&lt;/code&gt;.
    &lt;code&gt;insert into&lt;/code&gt; can only insert into an existing table.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="syntax"&gt;Syntax&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Always end a complete Teradata SQL statement with a semicolon.
    Sometimes in Some SQL (e.g., SAS),
    the codes runs OK without an ending semicolon but sometimes might not.
    It is always good practice to end a complete SQL statement with a semicolon.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Commands in Teradata (and other versions of SQL) SQL are case-insensitive.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use &lt;code&gt;sel&lt;/code&gt; as short for &lt;code&gt;select&lt;/code&gt; in Teradata SQL,
    however,
    it is suggested that you always use &lt;code&gt;select&lt;/code&gt; instead of &lt;code&gt;sel&lt;/code&gt;.
    This is because &lt;code&gt;sel&lt;/code&gt; is not support in some other versions of SQL.
    You can use SQL template to generate code for you if you are tired of typing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use &lt;code&gt;--&lt;/code&gt; for one line comment and &lt;code&gt;/*...*/&lt;/code&gt; for multiple line comment.
    The &lt;code&gt;/*...*/&lt;/code&gt; way is recommended as it is a widely used way for commenting.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;as&lt;/code&gt; keyword is optional when creating column aliases,
    however,
    it is tricky in &lt;code&gt;create table&lt;/code&gt; statement.
    When you create table schema,
    you cannot not use the keyword &lt;code&gt;as&lt;/code&gt;
    but when you create a table using a query you must use the keyword &lt;code&gt;as&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt; &lt;span class="cm"&gt;/*no as here*/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="nb"&gt;integer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="nb"&gt;char&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="k"&gt;c&lt;/span&gt; &lt;span class="nb"&gt;decimal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="nb"&gt;date&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="cm"&gt;/*must use as here*/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="k"&gt;data&lt;/span&gt;
&lt;span class="k"&gt;primary&lt;/span&gt; &lt;span class="k"&gt;index&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;union (all)&lt;/code&gt; does not match column names.
    Columns of the two tables to be united together must have the same order.
    If the types of a column does not match,
    then the type of the first column is used
    and the corresponding columns of other tables will be casted into this type.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Both count and sum can be used to count the number of rows satisfying some condition.
    Generally speaking, count is preferred because it is able to remove duplicated records.
    For example, suppose we have a table A with columns &lt;code&gt;case_id&lt;/code&gt; (non-unique)
    and &lt;code&gt;sar&lt;/code&gt; (Y or N). We can count the number of rows with &lt;code&gt;sar = Y&lt;/code&gt; using&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;sum&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;
    &lt;span class="nv"&gt;case&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;
        &lt;span class="nv"&gt;when&lt;/span&gt; &lt;span class="nv"&gt;sar&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;Y&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
            &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;
            &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;as&lt;/span&gt; &lt;span class="nv"&gt;n&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;How,
if &lt;code&gt;case_id&lt;/code&gt; has duplicated values and we want to count the number of distinct cases with &lt;code&gt;sar = 1&lt;/code&gt;,
then &lt;code&gt;sum&lt;/code&gt; does not work well. In stead, we can use&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;count&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;
    &lt;span class="nv"&gt;case&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;
        &lt;span class="nv"&gt;when&lt;/span&gt; &lt;span class="nv"&gt;sar&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="s"&gt;Y&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
            &lt;span class="nv"&gt;case_id&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;
            &lt;span class="nv"&gt;null&lt;/span&gt;
        &lt;span class="k"&gt;end&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;as&lt;/span&gt; &lt;span class="nv"&gt;n&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It is recommended that you always use &lt;code&gt;count&lt;/code&gt; to count rows satisfying a condition.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In a case statement,
    at most one &lt;code&gt;when/else&lt;/code&gt; branch is executed.
    As soon as a &lt;code&gt;when/else&lt;/code&gt; statement is executed,
    it jumps out (like &lt;code&gt;break;&lt;/code&gt; in C) of the case statement instead of continuing to the next branch.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do not use natural joins (relying on same column names for joining) as it is dangerous to do so.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When joining multiple tables,
    SQL will determine the best way to perform the joins.
    So do not help the SQL compiler when you do multiple joins.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The precedence of logical operators are &lt;code&gt;not&lt;/code&gt;, &lt;code&gt;and&lt;/code&gt; and &lt;code&gt;or&lt;/code&gt;.
    However,
    it is suggested that you always use parentheses to make your code easier to understand.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Displays the code used to generate the view or table.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;show&lt;/span&gt; &lt;span class="nv"&gt;table&lt;/span&gt; &lt;span class="nv"&gt;table_name&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Display table schema (i.e., show column names and attributes).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;or you can use&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt; &lt;span class="k"&gt;column&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="null-values"&gt;Null Values&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Most functions in SQL (unless specially for &lt;code&gt;null&lt;/code&gt; values) ignore
    &lt;code&gt;null&lt;/code&gt; values like they never appear in the table.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="create-an-empty-table"&gt;Create an Empty Table&lt;/h3&gt;
&lt;p&gt;You can manually specify the structure of the table.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt; &lt;span class="cm"&gt;/*no as here*/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="nb"&gt;integer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="nb"&gt;char&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="k"&gt;c&lt;/span&gt; &lt;span class="nb"&gt;decimal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="nb"&gt;date&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Or you if there is an table (e.g., B) of the same structure,
you can&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;
&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="k"&gt;no&lt;/span&gt; &lt;span class="k"&gt;data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;or&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="cm"&gt;/*as cannot be omitted here*/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="k"&gt;no&lt;/span&gt; &lt;span class="k"&gt;data&lt;/span&gt;
&lt;span class="k"&gt;primary&lt;/span&gt; &lt;span class="k"&gt;index&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Notice that the syntax of Teradata SQL is different from other SQL languages
when creating a table using a select clause.
You have to end the statement with &lt;code&gt;with data;&lt;/code&gt; or &lt;code&gt;with no data;&lt;/code&gt;.
&lt;code&gt;with data&lt;/code&gt; means that you want to append the selected records into the created table
while &lt;code&gt;with no data&lt;/code&gt; creates an empty table.&lt;/p&gt;
&lt;h2 id="database-information"&gt;Database Information&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Get version of Teradata SQL.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;dbc&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dbcinfo&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="error-message"&gt;Error Message&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;unknown error, probably network issue&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Error code 3754: precision error, character, numeric, .. -&amp;gt; float ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="date"&gt;Date&lt;/h2&gt;
&lt;p&gt;Be careful when you work with date in SQL.
A non-exist date can result in tricky errors.
For example (note that &lt;code&gt;2016-09-31&lt;/code&gt; does not exist)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;dt&lt;/span&gt; &lt;span class="k"&gt;between&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;2016-09-01&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;2016-09-31&amp;#39;&lt;/span&gt;  
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;in Teradata throws the error message "a character string failed to convert to a numeric value".&lt;/p&gt;</content><category term="programming"></category><category term="tips"></category><category term="Teradata SQL"></category></entry><entry><title>Syntax of Teradata SQL</title><link href="http://www.legendu.net/misc/blog/syntax-of-teradata-sql/" rel="alternate"></link><published>2017-05-08T21:12:08-07:00</published><updated>2017-05-08T21:12:08-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-05-08:/misc/blog/syntax-of-teradata-sql/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="syntax"&gt;Syntax&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Each Teradata SQL statement must be ended by a semicolon.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The keyword &lt;code&gt;inner&lt;/code&gt; is optional in an &lt;code&gt;inner join …&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="syntax"&gt;Syntax&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Each Teradata SQL statement must be ended by a semicolon.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The keyword &lt;code&gt;inner&lt;/code&gt; is optional in an &lt;code&gt;inner join&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To estimate the time and space complexity, 
you can prefix your SQL code by &lt;code&gt;explain&lt;/code&gt;,
or you can just press the &lt;code&gt;Explain&lt;/code&gt; button if you use Teradata SQL Assistant.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Column names in &lt;code&gt;select&lt;/code&gt; and &lt;code&gt;group by&lt;/code&gt;, &lt;code&gt;order by&lt;/code&gt;, etc. are separated by comma. 
There can be no comma after the last column name.
This is easy to understand. 
If you put comma after the last column in a, e.g., &lt;code&gt;select&lt;/code&gt; clause,
the &lt;code&gt;from&lt;/code&gt; keyword will be treated as the last column and results in syntax error.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="common-syntax-errors"&gt;Common Syntax Errors&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Using a comma after the last column or missing a comma 
after a non-last column in the &lt;code&gt;select&lt;/code&gt; clause.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Miss &lt;code&gt;then&lt;/code&gt; in  a &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;case&lt;/span&gt; 
    &lt;span class="k"&gt;when&lt;/span&gt; &lt;span class="n"&gt;condition_1&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt; &lt;span class="n"&gt;v_1&lt;/span&gt; 
    &lt;span class="k"&gt;when&lt;/span&gt; &lt;span class="n"&gt;condition_2&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt; &lt;span class="n"&gt;v_2&lt;/span&gt; 
    &lt;span class="p"&gt;...&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="n"&gt;v_k&lt;/span&gt; 
&lt;span class="k"&gt;end&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;statement.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CREATE TABLE Failed. 3706: Syntax error: expected something between ')' and ';'.
forget "with data"&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="sql-style"&gt;SQL Style&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;It is suggested that you write SQL code in the following style.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;t0&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="k"&gt;distinct&lt;/span&gt; &lt;span class="n"&gt;top&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="k"&gt;from&lt;/span&gt;
    &lt;span class="n"&gt;t1&lt;/span&gt;
&lt;span class="k"&gt;inner&lt;/span&gt; &lt;span class="k"&gt;join&lt;/span&gt;
    &lt;span class="n"&gt;t2&lt;/span&gt;
&lt;span class="k"&gt;on&lt;/span&gt;
    &lt;span class="n"&gt;condition&lt;/span&gt;
&lt;span class="k"&gt;where&lt;/span&gt;
    &lt;span class="n"&gt;condition&lt;/span&gt;
&lt;span class="k"&gt;group&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt;
    &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="k"&gt;having&lt;/span&gt;
    &lt;span class="n"&gt;condition&lt;/span&gt;
&lt;span class="k"&gt;order&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt;
    &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="k"&gt;data&lt;/span&gt;
&lt;span class="k"&gt;primary&lt;/span&gt; &lt;span class="k"&gt;index&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Teradata SQL"></category><category term="syntax"></category><category term="style"></category><category term="error"></category></entry><entry><title>Oracle SQL Tips</title><link href="http://www.legendu.net/misc/blog/oracle-sql-tips/" rel="alternate"></link><published>2017-04-22T14:56:23-07:00</published><updated>2017-04-22T14:56:23-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-04-22:/misc/blog/oracle-sql-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Unlike Teradata SQL, 
a &lt;code&gt;select&lt;/code&gt; statement in Oracle must have the &lt;code&gt;from&lt;/code&gt; keyword. 
The &lt;code&gt;dual&lt;/code&gt; table can be used if …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Unlike Teradata SQL, 
a &lt;code&gt;select&lt;/code&gt; statement in Oracle must have the &lt;code&gt;from&lt;/code&gt; keyword. 
The &lt;code&gt;dual&lt;/code&gt; table can be used if you do not really want to select from a table.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;example&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;dual&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;insert multiple records/tuples into a table/tables&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;insert&lt;/span&gt; &lt;span class="k"&gt;all&lt;/span&gt;
&lt;span class="k"&gt;into&lt;/span&gt; &lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;values&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;v2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;into&lt;/span&gt; &lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;values&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;v4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;into&lt;/span&gt; &lt;span class="n"&gt;t2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;values&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;w1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;w2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that you must issue a &lt;code&gt;select&lt;/code&gt; clause at the end.
Fields declaration can be omitted. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Show user tables&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;user_tables&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;rownum vs rownumber() over() &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to drop if exists?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it's strange that I cannot insert multiple records into an empty table!
be careful! you previous conclusion about fields might be wrong!&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="data-type"&gt;Data Type&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;varchar&lt;/code&gt; is reserved by Oracle to support distinction 
between NULL and empty string in future, 
as ANSI standard prescribes.
&lt;code&gt;varchar2&lt;/code&gt; does not distinguish between a NULL and empty string, 
and never will.
If you rely on empty string and NULL being the same thing, 
you should use &lt;code&gt;varchar2&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="regular-expression"&gt;Regular Expression&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt;
    &lt;span class="n"&gt;regexp_substr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Programming&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;(\w).*?\1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;i&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;from&lt;/span&gt;
    &lt;span class="n"&gt;dual&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="trick-and-traps"&gt;Trick and Traps&lt;/h2&gt;
&lt;p&gt;Oracle sql: it seems that {} in /&lt;em&gt; ... &lt;/em&gt;/ causes issues ...&lt;/p&gt;</content><category term="programming"></category><category term="Oracle SQL"></category><category term="tips"></category></entry><entry><title>R Markdown Tips</title><link href="http://www.legendu.net/misc/blog/rmarkdown-tips/" rel="alternate"></link><published>2017-04-09T17:52:05-07:00</published><updated>2017-04-09T17:52:05-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-04-09:/misc/blog/rmarkdown-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf"&gt;RMarkdown Reference&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;rmarkdown&lt;/code&gt; package is preferred to the &lt;code&gt;markdown&lt;/code&gt; package.
There is also a small bug with the &lt;code&gt;markdown …&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf"&gt;RMarkdown Reference&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;rmarkdown&lt;/code&gt; package is preferred to the &lt;code&gt;markdown&lt;/code&gt; package.
There is also a small bug with the &lt;code&gt;markdown&lt;/code&gt; package. 
&lt;code&gt;markdown::markdownToHTML&lt;/code&gt; does not render markdown title of the format &lt;code&gt;##Title&lt;/code&gt; correct.
A space is required after &lt;code&gt;#&lt;/code&gt; for &lt;code&gt;markdownToHTML&lt;/code&gt; to work.
However, 
&lt;code&gt;rmarkdown::render&lt;/code&gt; works well on both situations. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are several ways to pass values between the R workspace and R Markdown.
One way is to use global variables (from the R workspace) in R Markdown directly.
However, 
you have to tell R Markdown the right working environment using the option &lt;code&gt;envir = 0&lt;/code&gt;.
Without this, 
R Markdown uses the current working environment 
which might not be the global working environment
(e.g., when &lt;code&gt;knit&lt;/code&gt; is called inside a function). 
Sometimes, 
it is more convenient to substitute patterns in R Markdown with required values directly.
Make sure to use unique patterns if you do it in this.
For example, 
if you want to pass a variable &lt;code&gt;site&lt;/code&gt; by substituting into R Markdown,
a good way is to replace pattern &lt;code&gt;${site}&lt;/code&gt; (instead of plain &lt;code&gt;site&lt;/code&gt;) with the value of the variable &lt;code&gt;site&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Avoid doing complicated calculations in RMakrdown. 
Separted the code for calculation, etc., and use rmakrdown for reporting purpose mostly ...,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;plotly&lt;/code&gt; (for graphics) and &lt;code&gt;DT&lt;/code&gt; (for tables) are great visualization tools to use with R Markdown.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="CRAN"></category><category term="R Markdown"></category><category term="Markdown"></category><category term="R"></category></entry><entry><title>Missing Values in R</title><link href="http://www.legendu.net/misc/blog/missing-values-in-R/" rel="alternate"></link><published>2017-04-09T17:23:35-07:00</published><updated>2017-04-09T17:23:35-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-04-09:/misc/blog/missing-values-in-R/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;NA can be of any type, just need to convert the type ..., be careful .... as.numeric(NA)&lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;NA can be of any type, just need to convert the type ..., be careful .... as.numeric(NA)&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="CRAN"></category><category term="R"></category><category term="missing values"></category><category term="NA"></category><category term="NaN"></category></entry><entry><title>Using SQL in R</title><link href="http://www.legendu.net/misc/blog/using-sql-in-r/" rel="alternate"></link><published>2017-04-08T15:47:42-07:00</published><updated>2017-04-08T15:47:42-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-04-08:/misc/blog/using-sql-in-r/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It is suggested that you do not use paste to concatenate SQL queries, 
but rather have a complete SQL query …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It is suggested that you do not use paste to concatenate SQL queries, 
but rather have a complete SQL query with special marked variables 
and then substitute the marked variables with aproprivate values. 
This makes the SQL code much easier to understand. 
For example,&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;q&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s"&gt;select&lt;/span&gt;
&lt;span class="s"&gt;    id,&lt;/span&gt;
&lt;span class="s"&gt;    name&lt;/span&gt;
&lt;span class="s"&gt;from&lt;/span&gt;
&lt;span class="s"&gt;    table&lt;/span&gt;
&lt;span class="s"&gt;where&lt;/span&gt;
&lt;span class="s"&gt;    id in (${IDs})&lt;/span&gt;
&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You can then substitute &lt;code&gt;${IDs}&lt;/code&gt; with the right values.&lt;br&gt;
Some people might against this due to injection attack,
but I really do not think this is a problem 
as database users usually do not have write permissions to public tables.
I value readability more here.&lt;/p&gt;
&lt;h2 id="jdbc"&gt;JDBC&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;RJDBC&lt;/code&gt; is a usable but has some glitches.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You cannot end a SQL statement with a semicolon when using &lt;code&gt;RJDBC&lt;/code&gt;.
This means that you can send only a single query at a time when using &lt;code&gt;RJDBC&lt;/code&gt;,
which is not efficient.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;RJDBC::dbWriteTable&lt;/code&gt; has a bug for Teradata. 
As an workaround, 
you can generate SQL statement to insert data by yourself
(which is tedious of course). &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RJDBC has a bug on schema when checking whether a table exists or not.
For exampel, if there is a (non volatile) table &lt;code&gt;p_chdu_t.employees&lt;/code&gt;.
'dbExistsTable('employees')' returns &lt;code&gt;TRUE&lt;/code&gt; 
but &lt;code&gt;dbExistsTable('p_chdu_t.employees')&lt;/code&gt; returns &lt;code&gt;FALSE&lt;/code&gt;.
This impacts server functions in RJDBC.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="odbc"&gt;ODBC&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;RODBC&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;teradataR&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="CRAN"></category><category term="SQL"></category><category term="database"></category><category term="RJDBC"></category><category term="teradataR"></category><category term="RODBC"></category></entry><entry><title>Java PPA</title><link href="http://www.legendu.net/misc/blog/java-ppa/" rel="alternate"></link><published>2017-04-03T18:00:18-07:00</published><updated>2017-04-03T18:00:18-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-04-03:/misc/blog/java-ppa/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo add-apt-repository ppa:webupd8team/java
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you are behind a firewall and has to communicate to the internal via a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo add-apt-repository ppa:webupd8team/java
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you are behind a firewall and has to communicate to the internal via a proxy,
you can first export the environment vairables &lt;code&gt;http_proxy&lt;/code&gt; and &lt;code&gt;https_proxy&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;http_proxy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;proxy_server:port&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;https_proxy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;proxy_server:port&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If a user name and password is needed, 
export them using the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;http_proxy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;http://username:password@proxy_server:port
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;https_proxy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;https://username:password@proxy_server:port
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;However, make sure to run &lt;code&gt;sudo&lt;/code&gt; with the &lt;code&gt;-E&lt;/code&gt; (preserve environment) option.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo -E add-apt-repository ppa:webupd8team/java
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="Java"></category><category term="Ubuntu"></category><category term="PPA"></category></entry><entry><title>Symbolic Computation</title><link href="http://www.legendu.net/misc/blog/symbolic-computation/" rel="alternate"></link><published>2017-03-04T12:50:43-08:00</published><updated>2017-03-04T12:50:43-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-03-04:/misc/blog/symbolic-computation/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://www.walkingrandomly.com/?p=103&lt;/p&gt;
&lt;h2 id="mathematica"&gt;Mathematica&lt;/h2&gt;
&lt;p&gt;The best one that I've ever used, but commercial unfortunately.&lt;/p&gt;
&lt;h2 id="sage"&gt;SAGE&lt;/h2&gt;
&lt;p&gt;A good …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://www.walkingrandomly.com/?p=103&lt;/p&gt;
&lt;h2 id="mathematica"&gt;Mathematica&lt;/h2&gt;
&lt;p&gt;The best one that I've ever used, but commercial unfortunately.&lt;/p&gt;
&lt;h2 id="sage"&gt;SAGE&lt;/h2&gt;
&lt;p&gt;A good open souce alternative to Mathematica. 
Maxima (a symbolic-centric package) is integrated into SAGE.&lt;/p&gt;
&lt;h2 id="maxima"&gt;Maxima&lt;/h2&gt;
&lt;p&gt;A more symbolic-centric package that is an open source development of the old commercial Macsyma code.&lt;/p&gt;</content><category term="programming"></category><category term="software"></category><category term="symbolic computation"></category><category term="Mathematica"></category><category term="SAGE"></category><category term="Maxima"></category></entry><entry><title>Install the Latest Version of R in Ubuntu</title><link href="http://www.legendu.net/misc/blog/install-the-latest-version-of-R-in-ubuntu/" rel="alternate"></link><published>2017-02-20T23:46:45-08:00</published><updated>2017-02-20T23:46:45-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-02-20:/misc/blog/install-the-latest-version-of-R-in-ubuntu/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt-add-repository -y &lt;span class="s2"&gt;&amp;quot;deb http://cran.rstudio.com/bin/linux/ubuntu xenial/&amp;quot;&lt;/span&gt;
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt-add-repository -y &lt;span class="s2"&gt;&amp;quot;deb http://cran.rstudio.com/bin/linux/ubuntu xenial/&amp;quot;&lt;/span&gt;
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9
sudo apt-get update
sudo apt-get install r-base-dev
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If &lt;code&gt;apt-add-repository&lt;/code&gt; is not install yet, 
you can install it with the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install software-properties-common
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="R"></category><category term="CRAN"></category><category term="Ubuntu"></category><category term="install"></category><category term="latest"></category></entry><entry><title>Cloud9 Tips</title><link href="http://www.legendu.net/misc/blog/cloud9-tips/" rel="alternate"></link><published>2017-01-07T15:46:24-08:00</published><updated>2017-01-07T15:46:24-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2017-01-07:/misc/blog/cloud9-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Java/Scala support is not ready at this time. &lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="docker-images-for-cloud9"&gt;Docker Images for Cloud9&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/kdelfour/cloud9-docker/"&gt;cloud9-docker&lt;/a&gt;
    is a good docker image for …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Java/Scala support is not ready at this time. &lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="docker-images-for-cloud9"&gt;Docker Images for Cloud9&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/kdelfour/cloud9-docker/"&gt;cloud9-docker&lt;/a&gt;
    is a good docker image for cloud9 IDE.
    You are able to attach a local directory as the workspace
    so that you do not have to create (private) workspaces on cloud9.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="plugins"&gt;Plugins&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://github.com/ensime/ensime-cloud9"&gt;ensime-cloud9&lt;/a&gt;
    is a plugin for Scala support in cloud9 IDE.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="reference"&gt;Reference&lt;/h2&gt;
&lt;p&gt;https://medium.com/@frntn/not-your-grandmother-s-docker-environment-c3c5c1a5aab&lt;/p&gt;</content><category term="programming"></category><category term="cloud9"></category><category term="cloud IDE"></category></entry><entry><title>R Tips</title><link href="http://www.legendu.net/misc/blog/r-tips/" rel="alternate"></link><published>2016-11-20T20:38:44-08:00</published><updated>2016-11-20T20:38:44-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-11-20:/misc/blog/r-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;commandArgs extract command line arguments when R seesion was invoked. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if performance is not critical, 
then it is a good …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;commandArgs extract command line arguments when R seesion was invoked. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if performance is not critical, 
then it is a good idea to always check the type of parameters. 
Be flexible causes too many problems, 
e.g., you problem of boolean and integer, 
you thought they are equivalent, but actually not becuase there are revoke functions 
which replies on boolean input. 
integer input doesn't make the code throw any error, but the result is not right ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;some constants: letters LETTERS, month.name, month.abb, for more see base::Constants&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;auto complete in window works, 
however, be careful with file names, if file name is in big letters, 
you must use big letters in order for auto complete to work, i.e. type exactly as you see the files &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;in the situation where data format is not necessarily consistent, 
it is very good idea to pass names of columns that you need as parameters.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if both character and numeric are OK, prefer to use numerc as it's more convenient&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="debugging"&gt;Debugging&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;You can the debug a function using the function &lt;code&gt;debug&lt;/code&gt;. 
For example, 
you can use the following command to debug a function named &lt;code&gt;f&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;debug&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;During debugging,
you can type &lt;code&gt;Q&lt;/code&gt; to quit the process.
For this reason, 
you'd better not use &lt;code&gt;Q&lt;/code&gt; as a variable name in user-defined functions.
The the function &lt;code&gt;f&lt;/code&gt; is no longer debugged once you source in its code again.
You can also undebug it manually be the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;undebug&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="other"&gt;Other&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;R uses a copy-on-write technic which is similar to what MATLAB does.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;fix&lt;/code&gt; can be used to fix object in R, 
which can be very convenient.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sometimes, 
you want to check the source code of a function in R. 
To do this, 
you can just type in the name of the function in R. 
However, 
for functions which call interfaces written by C/C++ or Fortran this does not work. 
You must download the source code of the corresponding R package, 
and check the code there. 
However, 
for functions written in S3 method, 
you can use function &lt;code&gt;getS3method&lt;/code&gt; to check the source code.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;getAnywhere&lt;/code&gt; can show you code of functions that are written s3 or
s4 method.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;S3method object uses &lt;code&gt;$&lt;/code&gt; while s4method object uses &lt;code&gt;@&lt;/code&gt; to extract
elements. You can use &lt;code&gt;str&lt;/code&gt; to see the structure of both of the two
types of objects. And which symbol to use will be indicated in the
output.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Always save R workspaces for important projects. 
You might need intermediate results in the work space later
or you might need to debug the code.
The saved R workspaces will make things easier for you.
Sometimes you have to (automatically) run the a same script many time (with different arguments)
and it is possible to save workspaces for all of them due to disk limit.
You can save all workspace to the same file so that the old workspace is overwriten by the new one.
This way you do not consume too much space but still keep a workspace in case you need it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;make code robust and avoid using functions/packages that your are not familiar about, 
if you do want to use them, read the help doc first, make sure you understand how it works!!!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it is suggested that you use R in Linux as much as possible. 
First, R intrinsically has a bloody of Linux and thus some functions are best supported in Linux.
Second, the IT services are often deployed on Linux so if you get a file from a service it is likely to be in Linux format.
Finally, Linux has good support of Windows format while the opposite is not true. 
Reading a Windows formatted file on Linux has no problem while reading a Linux format file on Windows can have problems.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="tips"></category><category term="programming"></category><category term="CRAN"></category><category term="R"></category></entry><entry><title>Regular Expression in R</title><link href="http://www.legendu.net/misc/blog/regular-expression-in-r/" rel="alternate"></link><published>2016-11-20T20:08:09-08:00</published><updated>2016-11-20T20:08:09-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-11-20:/misc/blog/regular-expression-in-r/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;
There are two flavors of regular expression in R.
One is the regular expression (grep, sub, etc.) comes with base …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;
There are two flavors of regular expression in R.
One is the regular expression (grep, sub, etc.) comes with base. 
The other good one comes with the stringi package.
Both of the versions of regular expression support modifiers.
Generally speaking, regular expression modifiers overwrite function options if confliction happens. &lt;/p&gt;
&lt;h3 id="regular-expression-in-the-stringi-package"&gt;Regular Expression in the &lt;code&gt;stringi&lt;/code&gt; Package&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;.&lt;/code&gt; matches anything except (by default) &lt;code&gt;\n&lt;/code&gt; 
which is very confusing and error-prone 
as it is not the default behavior in other versions of regular expression.
The modifier &lt;code&gt;(?s)&lt;/code&gt; changes the default behavior of &lt;code&gt;.&lt;/code&gt; and matches &lt;code&gt;\n&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="regular-expression-in-the-base-package"&gt;Regular Expression in the &lt;code&gt;base&lt;/code&gt; Package&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Use &lt;code&gt;regexpr&lt;/code&gt; instead of &lt;code&gt;grepl&lt;/code&gt; in some cases if you want to check whether something exists.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be default, many functions use regular expression match. 
If you do not want to use regular expression match, 
turn it off using the option &lt;code&gt;fixed = TRUE&lt;/code&gt;.
For example, 
if you want split strings by &lt;code&gt;|&lt;/code&gt; using the function &lt;code&gt;strsplit&lt;/code&gt;. 
You have to use &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;strsplit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;|&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fixed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;instead of&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;strsplit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;|&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;which has &lt;code&gt;fixed = FALSE&lt;/code&gt;.&lt;/p&gt;</content><category term="R"></category><category term="regex"></category><category term="programming"></category><category term="CRAN"></category><category term="regular expression"></category></entry><entry><title>String in R</title><link href="http://www.legendu.net/misc/blog/string-in-r/" rel="alternate"></link><published>2016-11-20T19:36:57-08:00</published><updated>2016-11-20T19:36:57-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-11-20:/misc/blog/string-in-r/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The R package &lt;code&gt;stringi&lt;/code&gt; is a great one. 
It is suggested you used string functions in the &lt;code&gt;stringi&lt;/code&gt; package
rather …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The R package &lt;code&gt;stringi&lt;/code&gt; is a great one. 
It is suggested you used string functions in the &lt;code&gt;stringi&lt;/code&gt; package
rather than in the base package (&lt;code&gt;grep&lt;/code&gt;, &lt;code&gt;sub&lt;/code&gt;, etc.) when possible. &lt;/p&gt;
&lt;h2 id="functions-in-the-stringi-package"&gt;Functions in the "stringi" Package&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;stri_trans_totitle&lt;/code&gt;
&lt;code&gt;%s+%&lt;/code&gt; pastes 2 strings together. 
Vector is opteration is supported. 
However, 
there is one difference between &lt;code&gt;%s+%&lt;/code&gt; and &lt;code&gt;paste&lt;/code&gt;.
Applying &lt;code&gt;%s+%&lt;/code&gt; on &lt;code&gt;NA&lt;/code&gt; returns &lt;code&gt;NA&lt;/code&gt;
while paste treats &lt;code&gt;NA&lt;/code&gt; as an empty string.
Actually all &lt;code&gt;stri_*&lt;/code&gt; functions respect &lt;code&gt;NA&lt;/code&gt; propagation, 
that is applying any &lt;code&gt;stri_*&lt;/code&gt; function on &lt;code&gt;NA&lt;/code&gt; returns &lt;code&gt;NA&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="misc"&gt;Misc&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;R 3.3.0 and above: validUTF8(x)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;chartr&lt;/code&gt; can be used to substitute old characters to new characters. 
If new character is null then this functions can be used
to drop characters from the original string.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;nchar&lt;/code&gt; can be used to get the length of characters 
while function &lt;code&gt;length&lt;/code&gt; can only be used to get the length of vectors or matrixs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For special characters, 
we can put a backslash before it to get it,
or I think we can put it into a pair of single quotation mark.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;R function &lt;code&gt;paste&lt;/code&gt; can concatenate several vectors 
and it can also concatenate the elements in a vector. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Using function &lt;code&gt;expression&lt;/code&gt; and &lt;code&gt;eval&lt;/code&gt; we can achieve symbolic computation. 
In addition, function &lt;code&gt;parse&lt;/code&gt; might be useful.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;match.arg&lt;/code&gt; can be used to partially match strings.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To replace a substring of a string with a new one, 
you can use &lt;code&gt;sub&lt;/code&gt; or &lt;code&gt;gsub&lt;/code&gt;. 
The difference between &lt;code&gt;sub&lt;/code&gt; and &lt;code&gt;gsub&lt;/code&gt; is that &lt;code&gt;sub&lt;/code&gt; only replaces the first occurrence 
while &lt;code&gt;gsub&lt;/code&gt; replaces all occurrences. 
However, sometimes, 
you might want to replace substring by index 
which gives more accurate control of substituting. 
For example, 
when there are multiple  occurrences of a substring 
and you only want to replace the 2nd one,
then neither &lt;code&gt;sub&lt;/code&gt; nor &lt;code&gt;gsub&lt;/code&gt; works well here. 
&lt;code&gt;substr&lt;/code&gt; and &lt;code&gt;substring&lt;/code&gt; are good alternatives in this situation. 
These two functions work similarly to vectors and matrices, 
which means that you can use these two functions to both extract and replace substrings. 
If you want to replace an element of a vector/matrix to a new one, 
you can just assign a new value to the element. 
Similarly to replace substring of an object string using &lt;code&gt;substr&lt;/code&gt; or &lt;code&gt;substring&lt;/code&gt;, 
you can simply assign a new value for the substring. 
However, &lt;code&gt;substr&lt;/code&gt; and &lt;code&gt;substring&lt;/code&gt; can only replace a substring with the same length, 
if the argument &lt;code&gt;replacement&lt;/code&gt; is not long enough, 
then only partial of the substring specified will be replaced; 
if the argument &lt;code&gt;replacement&lt;/code&gt; is too long, 
then it will be truncated to have the same length with the substring to be replaced. 
If you want to replace a substring specified by index with any new string, 
you can use &lt;code&gt;dclong.String::strReplace&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;strwidth&lt;/code&gt; calculates the width of a string when displayed on a graphics device.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;strsplit&lt;/code&gt; splits a string according to specified delimiters.
strsplit&lt;code&gt;is based on regular expression by default. 
You can use literal string by specifying the option&lt;/code&gt;fixed = TRUE&lt;code&gt;(similar to other regular expression functions).
For example, 
you can use the following code 
to split&lt;/code&gt;NCO_MTG_Per_L1 + LHPIRT_b + URD_b` using the plus sign.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;strsplit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;NCO_MTG_Per_L1 + LHPIRT_b + URD_b&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;+&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fixed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Notice that splitting an empty string results in an empty string,
which is not a good behavior. 
Returning an empty string is better.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nf"&gt;strsplit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1:2:3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;[[1]]&lt;/span&gt;
&lt;span class="nf"&gt;character&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;[[2]]&lt;/span&gt;
&lt;span class="n"&gt;[1]&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1&amp;quot;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;2&amp;quot;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;3&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If none of the strings end with the delimiter, 
then a trick to resolve the issue is to add an extra delimiter to each string before splitting.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nf"&gt;strsplit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1:2:3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;[[1]]&lt;/span&gt;
&lt;span class="n"&gt;[1]&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;[[2]]&lt;/span&gt;
&lt;span class="n"&gt;[1]&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1&amp;quot;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;2&amp;quot;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;3&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="io"&gt;IO&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;By default, 
characters read into R by &lt;code&gt;read.table&lt;/code&gt; (and alike functions) is converted to factors. 
While it makes modeling convenient in R, 
it's usually inconvenient if you have to manipulate the data. 
The problem is nicely solved with the option &lt;code&gt;stringasis=T&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;cat&lt;/code&gt; can be used to display numbers 
and characters without quotation marks.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="encoding"&gt;Encoding&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Function &lt;code&gt;iconv&lt;/code&gt; is very useful for transforming codings 
between different encoding schemes.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="formatting"&gt;Formatting&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Function &lt;code&gt;format&lt;/code&gt; is very useful to display numbers 
and characters in the same length.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="regular-expression"&gt;Regular Expression&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Sometimes we use &lt;code&gt;\\1&lt;/code&gt; to stand for the string in the first parenthesis in &lt;code&gt;patter&lt;/code&gt; argument. 
When we use &lt;code&gt;\\11&lt;/code&gt; it the string in the first parenthesis in &lt;code&gt;pattern&lt;/code&gt; argument followed by &lt;code&gt;1&lt;/code&gt;, 
even if there're at least &lt;code&gt;11&lt;/code&gt; parenthesis in the pattern argument. 
This means that while regular expression is convenient to work with strings, 
it's easy to make mistakes. 
It's a two-sided sword.&lt;/li&gt;
&lt;/ol&gt;</content><category term="R"></category><category term="programming"></category><category term="characters"></category><category term="string"></category><category term="CRAN"></category></entry><entry><title>Some Questions about HTML and CSS</title><link href="http://www.legendu.net/misc/blog/html_css-questions/" rel="alternate"></link><published>2016-11-20T19:20:04-08:00</published><updated>2016-11-20T19:20:04-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-11-20:/misc/blog/html_css-questions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;what's the difference between &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;link&amp;gt;?&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;object&amp;gt;&lt;/code&gt; vs &lt;code&gt;&amp;lt;embed&amp;gt;?&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;s&amp;gt;&lt;/code&gt; vs &lt;code&gt;&amp;lt;del&amp;gt;?&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;margin vs padding?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how do i number …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;what's the difference between &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;link&amp;gt;?&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;object&amp;gt;&lt;/code&gt; vs &lt;code&gt;&amp;lt;embed&amp;gt;?&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;s&amp;gt;&lt;/code&gt; vs &lt;code&gt;&amp;lt;del&amp;gt;?&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;margin vs padding?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how do i number figures in html, can I use latex to do it?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to set width of table?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;why do I have to use q instead of other names, is it because search engines use it to ...? I think because q is used by search engines ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="questions"></category><category term="programming"></category><category term="HTML"></category><category term="CSS"></category><category term="web"></category></entry><entry><title>General Tips for Java</title><link href="http://www.legendu.net/misc/blog/general-tips-for-java/" rel="alternate"></link><published>2016-11-20T19:19:03-08:00</published><updated>2016-11-20T19:19:03-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-11-20:/misc/blog/general-tips-for-java/</id><summary type="html">&lt;h2 id="package-dependency-management"&gt;Package Dependency Management&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;It is suggested that you use gradle (instead of maven or sbt) for JVM projects.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="jvm-profiler"&gt;JVM Profiler&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://plugins.jetbrains.com/plugin/7115-visualvm-launcher"&gt;VisualVM&lt;/a&gt;
    is a free JVM profiling tool. 
    There is also a plugin 
    &lt;a href="https://plugins.jetbrains.com/plugin/7115-visualvm-launcher"&gt;VisualVM Launcher&lt;/a&gt;
    which integrates it with IntelliJ IDEA.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="containers"&gt;Containers&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;You can use &lt;code&gt;Arrays.fill&lt;/code&gt; to set a value …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h2 id="package-dependency-management"&gt;Package Dependency Management&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;It is suggested that you use gradle (instead of maven or sbt) for JVM projects.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="jvm-profiler"&gt;JVM Profiler&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://plugins.jetbrains.com/plugin/7115-visualvm-launcher"&gt;VisualVM&lt;/a&gt;
    is a free JVM profiling tool. 
    There is also a plugin 
    &lt;a href="https://plugins.jetbrains.com/plugin/7115-visualvm-launcher"&gt;VisualVM Launcher&lt;/a&gt;
    which integrates it with IntelliJ IDEA.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="containers"&gt;Containers&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;You can use &lt;code&gt;Arrays.fill&lt;/code&gt; to set a value to all elements of an array at once.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="code-flow-control"&gt;Code Flow Control&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;To jump out a single loop, 
    you can use statement &lt;code&gt;break;&lt;/code&gt;. 
    However, this doesn't work if there're nest loops. 
    To jump out nested loops,
    you can modify the loop variables so that the conditions of all loops are violated.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There is not &lt;code&gt;goto&lt;/code&gt; statement in Java, 
    however you have several ways to make the program in Java jump to other place.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;break&lt;/code&gt; and &lt;code&gt;continue&lt;/code&gt; statements allow you 
    to jump out of a block in a loop or switch statement.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A labeled statement and &lt;code&gt;break label;&lt;/code&gt; allow you 
    to jump out of an arbitrary compound statement 
    to any level within a given method (or initializer block).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For multi-threads programs in Java, 
    it is hard to debug the whole program directly. 
    To make sure that the program works, 
    you can test each class in the program 
    by writing a testing class for each of them.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Throwing and catching exceptions allows you 
    to (effectively) jump out of many levels of method call. 
    However, exceptions is relatively expensive 
    and are considered to be a bad way to do "ordinary" control flow.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;And of course, there is &lt;code&gt;return&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="keyword-final"&gt;Keyword &lt;code&gt;final&lt;/code&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Even if you make an object &lt;code&gt;final&lt;/code&gt;, 
    you might still be able to mutate it. 
    This is because &lt;code&gt;final&lt;/code&gt; describes the name of the object,
    which means that the variable cannot point to a new address, 
    but the content of the address (where the variable points to) might still be changed. 
    For example, if you define &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="o"&gt;`&lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;final&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;you cannot point &lt;code&gt;a&lt;/code&gt; to another address, 
but you are still able to change the elements of &lt;code&gt;a&lt;/code&gt;, 
i.e., you're able to change the value of &lt;code&gt;a[i]&lt;/code&gt; for $i=0,\ldots,9`). 
This is one reason that defensive copy is preferred when you pass around a mutable object. 
Generally speaking, defensive copy is preferred if it doesn't affect performance badly. 
Also, if a getter method returns a mutable object, 
you'd better make a defensive copy.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use the &lt;code&gt;final&lt;/code&gt; keyword to tell the compiler that an object won't be reassigned value.
    This guarantees that a primitive variable marked as &lt;code&gt;final&lt;/code&gt; is a constant.
    But there is no guarantee that an object marked as &lt;code&gt;final&lt;/code&gt; is a constant. 
    You cannot reassign value to the object but you might still be able to change its internal content.
    For example, the the object is an ArrayList, 
    you can still change its elements.&lt;br&gt;
    Notice that the &lt;code&gt;const&lt;/code&gt; keyword is reserve but not used in Java.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="print-and-log"&gt;Print and Log&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Always print some indicating information to the console 
    when you expect some input from the console. 
    Otherwise, 
    you when you run the application, 
    it waits for your input but you might think that it's not running. 
    Also if you do an intensive computing in Java, 
    you'd better print the progress (if you can) to the console. 
    At least you should print message to the console after the simulation is done!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In many programming languages, 
    you can print out more than one variables (not necessarily the same type) at a time. 
    In Java, 
    the method &lt;code&gt;println()&lt;/code&gt; (or other similar methods) of &lt;code&gt;System.out&lt;/code&gt; 
    can only accept one parameter. 
    However, you can concatenate different variables as a string 
    and print out the string.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="operators"&gt;Operators&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There are many operators in C/C++ 
    which makes operations faster and calculation faster, 
    e.g. &lt;code&gt;++&lt;/code&gt;, &lt;code&gt;–&lt;/code&gt;, &lt;code&gt;+=&lt;/code&gt;, &lt;code&gt;\*=&lt;/code&gt;, and so on. 
    Similarly to C/C++, you can also use them in Java. 
    Specially, for the increase (&lt;code&gt;++&lt;/code&gt;) and decrease &lt;code&gt;–&lt;/code&gt; operator, 
    you can use them both before and after numerical variables in Java.&lt;/p&gt;
&lt;p&gt;you can throw out exceptions, 
or you can use method &lt;code&gt;System.err.println()&lt;/code&gt; to print error information 
to the console and end the program.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="misc"&gt;Misc&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;getClass&lt;/code&gt; returns the RUNTIME class of the object not the declared type!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Objects.hash&lt;/code&gt; can be used to create hash code for an object easily.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Double.compare&lt;/code&gt; is the recommended way to compare whether 2 double values are equal.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Since you do not have to assign the returned value of method to any object in Java, 
    you can use any method as if it is a &lt;code&gt;void&lt;/code&gt; method.
    This means that for any method that is &lt;code&gt;void&lt;/code&gt; it does not hurt 
    to declare it as a method that returns some object (or primitive type value). 
    Actually this might be very convenient sometimes, 
    because by doing so you can do the operation you want 
    and at the time you have extra information about the operation. 
    For example, 
    if you want to insert a value to a sorted array, 
    you can make the method return an integer which is the index of the inserted place. 
    This extra information (the index of the inserted place) is highly useful in may cases.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is expensive to allocating a new block of memory 
    (not only in Java but also in other languages), 
    so you should avoid allocating new block of memory all the time. 
    If it is impossible to avoid allocating memory, 
    you can allocate a bigger memory than needed each time. 
    In this way, you waste some space, but might save much time.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Method &lt;code&gt;getClass&lt;/code&gt; can return the class of an object.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you have an array of objects of some super class, 
    you can cast the whole array to sub class at once. 
    However, usually you cannot cast all elements of an array at a time. 
    For example, 
    if you have an array of &lt;code&gt;double&lt;/code&gt;, 
    you cannot cast the whole array into &lt;code&gt;int&lt;/code&gt; at a time.
    Instead, you must cast each element one by one.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you want let the compiler know that a number you use in your code
    is a double precision number you can add suffix &lt;code&gt;d&lt;/code&gt; to the number.
    For example if you want to do double precision calculation for &lt;code&gt;3 / 6&lt;/code&gt;, 
    you can write it as &lt;code&gt;3 / 6d&lt;/code&gt; instead of casting integer to
    double using &lt;code&gt;(double)&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Avoid using a local variable which has the same name as an instance variable.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="eclipse-for-java"&gt;Eclipse for Java&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;You can use &lt;code&gt;format&lt;/code&gt; button under &lt;code&gt;source&lt;/code&gt; menu to tidy the code.&lt;/li&gt;
&lt;/ol&gt;</content><category term="tips"></category><category term="programming"></category><category term="Java"></category></entry><entry><title>SQL Questions</title><link href="http://www.legendu.net/misc/blog/sql-questions/" rel="alternate"></link><published>2016-11-20T19:10:30-08:00</published><updated>2016-11-20T19:10:30-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-11-20:/misc/blog/sql-questions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;比如在 LEFT JOIN 中过滤条件写在 ON 和 WHERE 的区别。&lt;/li&gt;
&lt;li&gt;函数和存储过程的区别？&lt;/li&gt;
&lt;li&gt;Table-value function 和 scalar-valued function 的区别.&lt;/li&gt;
&lt;li&gt;char、varchar、nvarchar之间的区别(包括用途和空间占用&lt;/li&gt;
&lt;li&gt;有哪些操作会使用到TempDB …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;比如在 LEFT JOIN 中过滤条件写在 ON 和 WHERE 的区别。&lt;/li&gt;
&lt;li&gt;函数和存储过程的区别？&lt;/li&gt;
&lt;li&gt;Table-value function 和 scalar-valued function 的区别.&lt;/li&gt;
&lt;li&gt;char、varchar、nvarchar之间的区别(包括用途和空间占用&lt;/li&gt;
&lt;li&gt;有哪些操作会使用到TempDB;如果TempDB异常变大，可能的原因是什么，该如何处理;
6.Index有哪些类型，它们的区别和实现原理是什么，索引有啥优点和缺点;如何为SQL
语句创建合适的索引，索引创建时有哪些需要注意的项&lt;/li&gt;
&lt;li&gt;临时表、表变量、CTE(公用表表达式)有啥区别和联系，保存位置有啥不一样，使用
时如何决定选哪种;&lt;/li&gt;
&lt;li&gt;视图和索引视图有什么区别&lt;/li&gt;
&lt;li&gt;如何实现分区，分区的步骤，分区有什么好处，怎么实现 Sliding Window.
10.如何比较两个同结构的表数据的差异
11.SQL调优步骤，如何来判断SQL语句存在问题，怎么定位问题，如何解决这些问题;
平时也可以看看 http://www.flybi.net/ 里面有很多这种问题&lt;/li&gt;
&lt;li&gt;一个table，就两个field， ManagerID 和 direct Reporter ID
要求是得出每个manager下面的有多少direct和indirect reporters&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="general-sql-questions"&gt;General SQL Questions&lt;/h2&gt;
&lt;h2 id="teradata-related"&gt;Teradata Related&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;select, union: strange that sometimes white spaces at the end causes problems ...
not sure this is an issue of Teradata SQL or Teradata Studio&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;is there convenient way to calculate percentiles in Teradata SQL?
Some SQL has &lt;code&gt;percentile_disc&lt;/code&gt; and &lt;code&gt;percentile_cont&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sql exist vs in?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Is/are the primary key(s) automatically indexed?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;create PI on multiple columns, what are the advantages and disadvantages?
why not create PI on all columns?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Does SQL truncate integer/float computation results?
What is they type of new created columns?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to create a small temp table?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="questions"&gt;Questions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;when join, which talbe to use first? 
Does this affect performance a lot? might be
I heard that you should use the smaller table as the first one.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;doesn't join create large table sometimes? 
Which is prefered? smaller talbes using multiple queries 
or a really large talbe with just one query?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;what happens if an left/right join retrieve fields 
from a table with constraint NOT NULL
but match is not found?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to use keywords as column names?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to use space in column names?
In teratadata sql, you can just quote it (double quotes?)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;prefer to compare numbers or strings?
I think comparing number will be much faster.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Is it possible to define variables in teradata sql? 
so that we don't have type the same value again and again?
it seems that there is no simple way to do this&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;what issue does the following style of code have?
recursive? actually will this work? probably not ...
have a try on this ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt;
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Generally speaking, this does not work. 
You want to avoid it.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;what is the difference between cast and convert in transaction-SQL (MS SQL)?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;sql: some expression is used multiple times, is it better to define it as a column alias and then use it? Better alternative? nad temp volatile volumn?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;why cannot I create a view in Hopper?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;which rows are updated in the following code?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;update&lt;/span&gt; &lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="n"&gt;ST_Master&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt;  &lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="n"&gt;ST_Master&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;+ @Var_ST_1st + &amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Var_ST_1st&lt;/span&gt;
&lt;span class="k"&gt;from&lt;/span&gt;  &lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="n"&gt;ST_Master&lt;/span&gt; &lt;span class="k"&gt;left&lt;/span&gt; &lt;span class="k"&gt;join&lt;/span&gt; &lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="n"&gt;t1&lt;/span&gt;
&lt;span class="k"&gt;on&lt;/span&gt;  &lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="n"&gt;ST_Master&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;LoanID&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;LoanID&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Must number of rows be the same?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;is there any way to check functions and function args in SQL?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;group by and partition over together? partition over runs after group by?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;is there a better way of formatting besides casting?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;self join in each group, is there any efficient way to do it? avoid the full n^2 join?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SQL"></category><category term="questions"></category></entry><entry><title>String in SQL</title><link href="http://www.legendu.net/misc/blog/string-in-sql/" rel="alternate"></link><published>2016-11-20T18:55:31-08:00</published><updated>2016-11-20T18:55:31-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-11-20:/misc/blog/string-in-sql/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="teradata"&gt;Teradata&lt;/h2&gt;
&lt;p&gt;regexp_instr
REGEXP_LIKE
REGEXP_REPLACE
REGEXP_SUBSTR&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;trim
trim specified pad characters or bytes from a character or byte string&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;like %, _ …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="teradata"&gt;Teradata&lt;/h2&gt;
&lt;p&gt;regexp_instr
REGEXP_LIKE
REGEXP_REPLACE
REGEXP_SUBSTR&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;trim
trim specified pad characters or bytes from a character or byte string&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;like %, _
like, case-insensitive
You can also 
&lt;code&gt;like any (pattern_1, pattern_2, ...)&lt;/code&gt;
&lt;code&gt;like all (pattern_1, pattern_2, ...)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Collation can be simply thought of as sort order.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;CHAR2HEXINT
convert a character string to hexadecimal representation&lt;/p&gt;
&lt;p&gt;• INDEX
• POSITION
get the starting position of a substring within another string&lt;/p&gt;
&lt;p&gt;LOWER
convert a character string to lowercase&lt;/p&gt;
&lt;p&gt;SOUNDEX
get the Soundex code for a character string&lt;/p&gt;
&lt;p&gt;• SUBSTRING
• SUBSTR
extract a substring from another string&lt;/p&gt;
&lt;p&gt;TRANSLATE
translate a character string to another server character set&lt;/p&gt;
&lt;p&gt;TRANSLATE_CHK
determine if TRANSLATE can successfully translate a character string to a specified server character set&lt;/p&gt;
&lt;p&gt;UPPER
convert a character string to uppercase&lt;/p&gt;
&lt;p&gt;VARGRAPHIC
convert a character string to VARGRAPHIC representation&lt;/p&gt;</content><category term="programming"></category><category term="SQL"></category><category term="string"></category></entry><entry><title>Tips for R Packages</title><link href="http://www.legendu.net/misc/blog/tips-for-r-packages/" rel="alternate"></link><published>2016-10-23T22:30:01-07:00</published><updated>2016-10-23T22:30:01-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-10-23:/misc/blog/tips-for-r-packages/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://dclong.github.io/media/r/r.png" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;p&gt;Popular Repositories for R Packages&lt;/p&gt;
&lt;p&gt;&lt;a href="http://cran.r-project.org/web/views/"&gt;CRAN Task Views&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;CRAN&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OmegaHat&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;install.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;SVGAnnotation&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;repos&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;http://www.omegahat.org/R&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Bioconductor …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://dclong.github.io/media/r/r.png" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;p&gt;Popular Repositories for R Packages&lt;/p&gt;
&lt;p&gt;&lt;a href="http://cran.r-project.org/web/views/"&gt;CRAN Task Views&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;CRAN&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OmegaHat&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;install.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;SVGAnnotation&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;repos&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;http://www.omegahat.org/R&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Bioconductor &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If the R package &lt;code&gt;BiocInstaller&lt;/code&gt; 
(produced by Bioconductor to facilitate installing other packages on Bioconductor) 
has been installed, 
you can use the following code to install a package named &lt;code&gt;pkgname&lt;/code&gt; on Bioconductor.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#load package BiocInstaller&lt;/span&gt;
&lt;span class="nf"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;BiocInstaller&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;#install package &lt;/span&gt;
&lt;span class="nf"&gt;biocLite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;pkgname&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If the R package &lt;code&gt;BiocInstaller&lt;/code&gt; has not been installed yet, 
you can use the following command to install it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;source&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://bioconductor.org/biocLite.R&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It will be automatically loaded after installation. 
Note that you do not have to install package &lt;code&gt;BiocInstaller&lt;/code&gt; again next time when
you want to install other packages on Bioconductor. 
All you need is just to load it and use the &lt;code&gt;biocLite&lt;/code&gt; to install packages (see code shown before).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;biocLite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;limma&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nf"&gt;biocLite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;arrayQualityMetrics&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nf"&gt;biocLite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;GO.db&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nf"&gt;install.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;QuasiSeq&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;functions for BioConductor objects, sometimes, it doesn't work, 
because you haven't load the package yet. This is misleading ....&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Upgrade Bioconductor packages.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;biocLite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Upgradable&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;If you use R on a Linux server which you do not have root access, 
you have to create your own r library to install packages into. 
You can use any directory which you have read and write access as your own R library. 
For example, 
you can create a directory named &lt;code&gt;.r-lib&lt;/code&gt; in your own home directory 
and to make R attach your library to the beginning of the search path automatically 
(so that you do not have to specify library path or to use &lt;code&gt;.libPaths&lt;/code&gt; to attach it manually), 
you can put file named &lt;code&gt;.Renviron&lt;/code&gt; in your home directory with the following content.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;R_LIBS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/home/username/r-lib-PATH&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;where &lt;code&gt;username&lt;/code&gt; is your user name and &lt;code&gt;r-lib-path&lt;/code&gt; is your personal R library. 
It is suggested that you create a personal R library even if you use R on your own Linux machine. 
So the above tips also apply if you run R on your own machine with Linux operating system.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;library&lt;/code&gt; load a package into R workspace. 
If the package to be load is not in the search path, 
you can specify its path by the option &lt;code&gt;lib.loc&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;.libPaths&lt;/code&gt; function gets/sets the library trees within which packages are looked for. 
For example, 
to add a library path to into the library trees, 
you can use &lt;code&gt;.libPaths(c(.libPaths(), yourNewPath))&lt;/code&gt;. 
The library paths in the library trees are searched in order.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you know the name of the R package that you want to install, 
then you can use &lt;code&gt;install.packages&lt;/code&gt; to install the package for you. 
For example if you want to install R &lt;code&gt;xlsx&lt;/code&gt;, 
you can use &lt;code&gt;install.packages("xlsx")&lt;/code&gt;. 
You can also install a package from local disk use &lt;code&gt;install.packages&lt;/code&gt; 
by specifying the option &lt;code&gt;repos=FALSE&lt;/code&gt; or &lt;code&gt;repos=NULL&lt;/code&gt;. 
For example, 
if file &lt;code&gt;dclong.String_1.0-1.zip&lt;/code&gt; is a package in the working directory of R, 
you can install it using the following command.
This is no longer required in the latest version of R.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;install.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dclong.String_1.0-1.zip&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;repos&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;F&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;To get all objects whose name do not start with a dot 
(Usually objects start with dots are not intended to be used by users.) 
in a package you can use &lt;code&gt;ls(pos="package:pkgname")&lt;/code&gt;. 
If you want to see all objects in a package including these objects starting with a dot, 
you can use &lt;code&gt;ls(pos="package:pkgname", all.names=T)&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To get the the home package of a package, 
you can use &lt;code&gt;.find.package&lt;/code&gt;. 
For example, 
to get the home folder of &lt;code&gt;dclong.EasySave&lt;/code&gt;, 
you can use &lt;code&gt;.find.package("dclong.EasySave")&lt;/code&gt;.
Another more powerful way is to use &lt;code&gt;system.file&lt;/code&gt;, 
which allows you both directories and files in a package. 
For example, to find the home directory of &lt;code&gt;dclong.EasySave&lt;/code&gt;, 
you can use &lt;code&gt;system.file(package = 'animation')&lt;/code&gt;. 
Instead of finding the home directory, 
you might want to know the path of folder &lt;code&gt;history&lt;/code&gt; in &lt;code&gt;dclong.EasySave&lt;/code&gt;. 
This can be done simply by using
&lt;code&gt;system.file('history',package='dclong.EasySave')&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are huge number of different packages in R and some of them are design for the same purpose, 
so it is inevitable that some functions in different packages have the same name. 
You should very careful when you are using these function. 
It is important to know what packages are load when R is started. 
To avoid confusion, 
we can always add package prefix to the functions that we want to use. 
For example, 
instead of using function &lt;code&gt;dir&lt;/code&gt; in &lt;code&gt;base&lt;/code&gt; package, 
we can use &lt;code&gt;base::dir&lt;/code&gt; if there is another loaded package having function &lt;code&gt;dir&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use functions in a package by its full name 
(i.e. pkgname::funName) even if the package is not loaded. 
For example, 
you can &lt;code&gt;symbolToString&lt;/code&gt; in &lt;code&gt;dclong.String&lt;/code&gt; 
by its full name &lt;code&gt;dclong.String::symbolToString&lt;/code&gt; even if &lt;code&gt;dclong.String&lt;/code&gt; is not loaded.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you write a package, 
you might want to link some function in other packages. 
To do so, you can use&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;\code&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;\link[PkgName]&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;FunName&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;To load a package, 
you can use either &lt;code&gt;library&lt;/code&gt; or &lt;code&gt;require&lt;/code&gt;, 
and you do not have to pass the name of the package as character 
(i.e. you do not have to put the name of the package into two double/single quotation marks. 
Surely it works if you pass the name of the package as character.).
The difference between &lt;code&gt;library&lt;/code&gt; and &lt;code&gt;require&lt;/code&gt; is that &lt;code&gt;library&lt;/code&gt; returns all loaded packages 
while &lt;code&gt;require&lt;/code&gt; return a boolean value indicate whether the loading succeed or not. 
If you want to unload a package &lt;code&gt;pkgName&lt;/code&gt; from the workspace, 
you can use command &lt;code&gt;detach(package="pkgName")&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Package &lt;code&gt;MASS&lt;/code&gt; has many useful functions such as &lt;code&gt;ginv&lt;/code&gt; 
and &lt;code&gt;mvrnorm&lt;/code&gt; which can be used to generate multivariate normal random variables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Package &lt;code&gt;Mvtnorm&lt;/code&gt; has functions which can generate multivariate t random variables 
and multivariate normal random variables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Package &lt;code&gt;LearnBayes&lt;/code&gt; and &lt;code&gt;coda&lt;/code&gt; are very useful for Bayes. 
And there are many statistics distributions defined in this package &lt;code&gt;LearnBayes&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Package &lt;code&gt;xtable&lt;/code&gt; is useful for outputting objects in R in special format, 
e.g. html or latex.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;tensor&lt;/code&gt; in package &lt;code&gt;tensor&lt;/code&gt; can calculate tensor product of arrays.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Package &lt;code&gt;Rweka&lt;/code&gt; supplies an R interface to Weka which is famous for machine learning.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;genalg R based genetic algorithm for binary and floating point chromosomes.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Package &lt;code&gt;e1071&lt;/code&gt; : support vector maching&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are many useful functions in &lt;code&gt;utils&lt;/code&gt;. 
If you do not know whether there is a function in R which can do your job, 
you can first check functions in &lt;code&gt;utils&lt;/code&gt;. 
To see all functions in &lt;code&gt;utils&lt;/code&gt;, 
you can use &lt;code&gt;ls(package:utils)&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For a package with a namespace, 
these objected not exported cannot be accessed directly by users. 
This is somehow similar to the concept of class in Java. 
Private methods and instances variables of class cannot be accessed by users directly. 
So you can use non-exported functions 
(similar to private/helper methods in Java)
and non-exported variables (similar to private instances in Java) to help make coding easy.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="bioconductor"&gt;Bioconductor&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Bioconductor is a free, open source and open development
software project for the analysis and comprehension of genomic
data generated by wet lab experiments in molecular biology.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;limma&lt;/code&gt; is a famous package among these packages in Bioconductor
project. It performs linear model analysis for microarray data.
But be careful that currently (version 2.8 or earlier) doesn't
support mixed linear model, i.e. the covariance structure of the
linear model must be &lt;span class="math"&gt;\(\sigma^2 I_n\)&lt;/span&gt; if you want to use &lt;code&gt;limma&lt;/code&gt;
to do analysis on microarray data.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;q.jabes&lt;/code&gt; of Nettleton's code is based on the method that
Nettleton published in JABES (2006). It is optim... bh.. is
relatively conservative. Benjamini H..&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Important Packages and Functions in R&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;(1) About Optimization&lt;br&gt;
Since we often use maximum likelihood method to solve problems,
we have to do optimization very often. There are some functions
in R which can help us:&lt;/p&gt;
&lt;p&gt;(i) &lt;code&gt;optimize/optimise{stats}&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;used for 1-dimensional optimization only.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;a interval where the maximum/minimum is expected should
    be specified.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(ii) &lt;code&gt;optim{stats}&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;can be applied to multiply dimensions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;includes many advanced algorithms.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;initial values of the parameters are needed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;a hessian matrix can be returned if needed.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(iii) &lt;code&gt;nlm{stats}&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;can be applied to multiply dimensions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;uses Newton-type algorithm, which means that smoothness is required.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;initial values of the parameters are needed.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(iv) &lt;code&gt;constrOptim{stats}&lt;/code&gt;
This function is similar to the function &lt;code&gt;optim&lt;/code&gt; except that it can handles linear constraints on parameters. 
Actually this function add a logarithmic barrier and calls function &lt;code&gt;optim&lt;/code&gt;. 
So it has the following features:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;can be applied to multiply dimensions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;can do optimization with linear constraints.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;uses an adaptive barrier algorithm.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;similar output as function &lt;code&gt;optim&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(v) &lt;code&gt;nlminb{stats}&lt;/code&gt;
This function can do both unconstrained and constrained optimizations using PORT routines.&lt;/p&gt;
&lt;p&gt;Comment: generally speaking, I think function &lt;code&gt;optim&lt;/code&gt; in R is
more useful for statisticians. However, for 1-dimensional
optimization problem, function &lt;code&gt;optimize/optimise&lt;/code&gt; is
recommended because it is written specially for 1-dimensional
problems and thus can give us more precise results. For
constrained optimizations, function &lt;code&gt;constrOptim&lt;/code&gt; and &lt;code&gt;nlminb&lt;/code&gt;
are recommended.&lt;/p&gt;
&lt;p&gt;(2) About Linear Models&lt;/p&gt;
&lt;p&gt;(i) &lt;code&gt;lm{stats}&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;fits linear models including linear regression and
    analysis of variance.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;can also fits general linear models for given
    transformations.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;returns an object of class &lt;code&gt;lm&lt;/code&gt; or for multiple
    responses of class c(&lt;code&gt;mlm&lt;/code&gt;,&lt;code&gt;lm&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(ii) &lt;code&gt;nls{stats}&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;fits non-linear models.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;returns an object of class &lt;code&gt;nls&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(iii) &lt;code&gt;lme{nlme}&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;fits linear mix-effect models.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;returns an object of class &lt;code&gt;lme&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;can fit unequal variance model, use option 
    {weights=varIdent(...)`&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(iv) &lt;code&gt;lmer{lme4}&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;fits linear mix-effect models.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;returns an object of class &lt;code&gt;mer&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(v) &lt;code&gt;gls{nlme}&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;fits linear models using generalized least squares.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;returns an object of class &lt;code&gt;gls&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(vi) &lt;code&gt;glm{stats}&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;fits generalized linear models.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;returns an object of class inheriting from &lt;code&gt;glm&lt;/code&gt; which
    inherits from class &lt;code&gt;lm&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(vii) &lt;code&gt;aov{stats}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;(viii)  &lt;code&gt;anova{stats}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;(ixiv)  Other Miscellaneous Functions&lt;/p&gt;
&lt;h2 id="unit-test"&gt;Unit Test&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;testthat&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="visualization"&gt;Visualization&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ggplot2&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;tableplot&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;rgl (3-D plot using OpenGL)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you install a package, 
you might get a dependency error or error 
which says that a package does not exists (for your version of R). 
This typicially means that the R you installed is too old to use the package. 
Upgrade your R to the new version can usually solve the problem. 
Get clear about this problem ... &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;options(repos = c(CRAN = "http://cran.rstudio.com"))&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href="https://github.com/metacran"&gt;Tools for Better Cran Experience&lt;/a&gt;&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="programming"></category><category term="repository"></category><category term="package"></category><category term="OmegaHat"></category><category term="CRAN"></category><category term="R"></category><category term="Bioconductor"></category><category term="biocLite"></category></entry><entry><title>Install Essential and Useful R Packages</title><link href="http://www.legendu.net/misc/blog/install-essential-and-useful-r-packages/" rel="alternate"></link><published>2016-10-23T22:27:25-07:00</published><updated>2016-10-23T22:27:25-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-10-23:/misc/blog/install-essential-and-useful-r-packages/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pkgs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;data.table&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;RJDBC&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;xlsx&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;rmarkdown&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Rcpp&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;inline&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nf"&gt;install.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pkgs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;## biostatistics&lt;/span&gt;
&lt;span class="nf"&gt;source&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://bioconductor.org/biocLite.R&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;update …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pkgs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;data.table&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;RJDBC&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;xlsx&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;rmarkdown&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Rcpp&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;inline&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nf"&gt;install.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pkgs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;## biostatistics&lt;/span&gt;
&lt;span class="nf"&gt;source&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://bioconductor.org/biocLite.R&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;update.packages&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;checkBuilt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;unfortunately sometimes fail to upgrade bioconductor packages ... and have to use biocLite('pkg') ...
the problem is largely caused by the fact that you used a single persoanl R libary ....
if you used different R libraries for different versions of R, then you won't have the problem ...
remove.packages("BiocInstaller") and then&lt;/p&gt;
&lt;p&gt;I guess the best way is just to remove R and its library completely and have a branch new installation ....&lt;/p&gt;</content><category term="CRAN"></category><category term="R"></category><category term="package"></category><category term="essential"></category><category term="Bioconductor"></category></entry><entry><title>R Coding Style</title><link href="http://www.legendu.net/misc/blog/r-coding-style/" rel="alternate"></link><published>2016-10-23T16:41:21-07:00</published><updated>2016-10-23T16:41:21-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-10-23:/misc/blog/r-coding-style/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;You can use the function &lt;code&gt;tidy_souce&lt;/code&gt; in the R package &lt;code&gt;formatR&lt;/code&gt;
to format R code.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;tidy_source&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;unformatted.r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;formatted …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;You can use the function &lt;code&gt;tidy_souce&lt;/code&gt; in the R package &lt;code&gt;formatR&lt;/code&gt;
to format R code.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;tidy_source&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;unformatted.r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;formatted.r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;However, 
there is a bug in the package &lt;code&gt;formatR&lt;/code&gt;.
For example, 
the &lt;code&gt;formatR&lt;/code&gt; fails to work with the following code.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;if&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="c1"&gt;# this is comment&lt;/span&gt;
    &lt;span class="kc"&gt;...&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Avoid changing the type of object.&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="R"></category><category term="CRAN"></category><category term="formatting"></category></entry><entry><title>Data Types in Teradata SQL</title><link href="http://www.legendu.net/misc/blog/data-types-in-teradata-sql/" rel="alternate"></link><published>2016-10-23T13:01:10-07:00</published><updated>2016-10-23T13:01:10-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-10-23:/misc/blog/data-types-in-teradata-sql/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It is important to be aware of type of columns in SQL.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use &lt;code&gt;cast&lt;/code&gt; to convert between different …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It is important to be aware of type of columns in SQL.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use &lt;code&gt;cast&lt;/code&gt; to convert between different data types in Teradata SQL.
For example, &lt;code&gt;cast(n as bigint)&lt;/code&gt; cast the column "n" into type of &lt;code&gt;bigint&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Teradata SQL, 
missing values (both numeric and character) are represented by &lt;code&gt;null&lt;/code&gt;. 
You can use &lt;code&gt;v is (not) null&lt;/code&gt; in the &lt;code&gt;where&lt;/code&gt; and/or &lt;code&gt;on&lt;/code&gt; clauses to select rows.
When Teradata SQL Assistant displays query results, 
&lt;code&gt;null&lt;/code&gt; values are indicated by question marks (&lt;code&gt;?&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When unioning multiple tables containing constant columns,
the type of constant columns are forced to be the same as the one in the first table.
For example, 
the type of &lt;code&gt;str&lt;/code&gt; column in the following query is char(1),
which loses information.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;1&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;union&lt;/span&gt;
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;12&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;union&lt;/span&gt; 
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;123&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To avoid this issue, 
you can manually cast the type of the column in the first (or all) tables to a bigger one.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;1&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;varchar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;union&lt;/span&gt;
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;12&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;union&lt;/span&gt; 
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;123&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Arithematic calculation in SQL is similar to C/C++ and Java. 
For example, integer dividing by integer returns an integer
which is different from R and Python.
The return type of arithematic calculation is the largest type in the expression.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;NUMBER is a new data type, 
introduced in Teradata 14.0, 
which is intended to emulate the Oracle number data type. 
It has an optional precision and scale of up to 38 decimal digits.&lt;br&gt;
It can also represent exponential values. 
Its storage size varies from 0 to 18 bytes.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Operations/function on null return null
except a few exception such as ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Teradata, the maximum row size is approx 64K bytes. 
So that you cannot define columns of size greater than 64K.
For example, 
you cannot define a column of size 65K.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;be careful about return type of string functions, some return too long strings, 
better to manually cast them to short strings&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="date-types"&gt;Date Types&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Dates can be represented by strings in the 'yyyy-mm-dd' format in Teradata SQL,
    and these strings will be converted to dates implicitly when necessarily.
    For example,
    the following code counts the number of transactions in a month.&lt;/p&gt;
&lt;p&gt;select
    count(*) as n
from
    some_transaction_table
where
    tran_dt between '2014-03-01' and '2014-03-31'
;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be careful when you work with date in SQL.
    A non-exist date can result in tricky errors.
    For example (note that &lt;code&gt;2016-09-31&lt;/code&gt; does not exist)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;dt&lt;/span&gt; &lt;span class="k"&gt;between&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;2016-09-01&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;2016-09-31&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;in Teradata throws the error message "a character string failed to convert to a numeric value".&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="Teradata SQL"></category><category term="data type"></category><category term="cast"></category><category term="date"></category></entry><entry><title>Primary Key vs Index in SQL</title><link href="http://www.legendu.net/misc/blog/primary-key-vs-index-in-sql/" rel="alternate"></link><published>2016-10-23T12:46:53-07:00</published><updated>2016-10-23T12:46:53-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-10-23:/misc/blog/primary-key-vs-index-in-sql/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;index is for distribution data
index does not have to be unique&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;primary key must be unique and non null …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;index is for distribution data
index does not have to be unique&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;primary key must be unique and non null&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;primary keys are automatically indexed&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SQL"></category><category term="index"></category><category term="primary key"></category></entry><entry><title>Volatile Cte and Subqueries in SQL</title><link href="http://www.legendu.net/misc/blog/volatile-cte-and-subqueries-in-sql/" rel="alternate"></link><published>2016-10-23T12:35:49-07:00</published><updated>2016-10-23T12:35:49-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-10-23:/misc/blog/volatile-cte-and-subqueries-in-sql/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;A volatile table persistents in the duration of the connection that creates it
while a CTE is only accessible by …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;A volatile table persistents in the duration of the connection that creates it
while a CTE is only accessible by the query following it.
That is the scope of CTE is narrower and is safer.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If performance is a concern, use volatile (temp) tables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Always use CTE (with clause) instead of sub queries.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="CTE"></category><category term="SQL"></category><category term="volatile"></category><category term="with"></category><category term="subquery"></category><category term="sub query"></category></entry><entry><title>Auto Increment in SQL</title><link href="http://www.legendu.net/misc/blog/auto-increment-in-sql/" rel="alternate"></link><published>2016-10-23T12:33:22-07:00</published><updated>2016-10-23T12:33:22-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-10-23:/misc/blog/auto-increment-in-sql/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://plsql4all.blogspot.com/2014/08/auto-increment-column-in-teradata.html
http://stackoverflow.com/questions/21982004/how-to-generate-automatic-number-in-teradata-sql
https://forums.teradata.com/forum/enterprise …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://plsql4all.blogspot.com/2014/08/auto-increment-column-in-teradata.html
http://stackoverflow.com/questions/21982004/how-to-generate-automatic-number-in-teradata-sql
https://forums.teradata.com/forum/enterprise/auto-increment-column&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Be careful with batch insert if there is an auto increment column. 
A batch insert triggers auto increment only once rather than 
multiple (the number of insrted records) times
unless you specifically trigger auto increment multiple times.
This means that records inserted with a batch insert 
have the same value for the auto increment column.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="teradata-sql"&gt;Teradata SQL&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;seq_num&lt;/span&gt; &lt;span class="nb"&gt;decimal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;not&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt; &lt;span class="k"&gt;generated&lt;/span&gt; &lt;span class="n"&gt;always&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="k"&gt;identity&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;start&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; 
&lt;span class="k"&gt;increment&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; 
&lt;span class="k"&gt;minvalue&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; 
&lt;span class="k"&gt;maxvalue&lt;/span&gt; &lt;span class="mi"&gt;2147483647&lt;/span&gt; 
&lt;span class="k"&gt;no&lt;/span&gt; &lt;span class="k"&gt;cycle&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="oracle-sql"&gt;Oracle SQL&lt;/h3&gt;
&lt;p&gt;sequence.nextval&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;can we add an auto increament column here? if not, first create the table and then select into ...&lt;/p&gt;
&lt;p&gt;&lt;a href="https://mikesmithers.wordpress.com/2015/09/20/becoming-unhinged-with-insert-all-and-sequence-nextval/"&gt;https://mikesmithers.wordpress.com/2015/09/20/becoming-unhinged-with-insert-all-and-sequence-nextval/&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="SQL"></category><category term="auto increment"></category></entry><entry><title>Teradata Table Type</title><link href="http://www.legendu.net/misc/blog/teradata-table-type/" rel="alternate"></link><published>2016-10-16T11:22:18-07:00</published><updated>2016-10-16T11:22:18-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-10-16:/misc/blog/teradata-table-type/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;MULTISET Table&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;create table test
( id int,
  name char(20)
)&lt;/p&gt;
&lt;p&gt;当你用show table test检查表定义的时候发现，它已经变成如下定义：
CREATE MULTISET TABLE test ,NO FALLBACK …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;MULTISET Table&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;create table test
( id int,
  name char(20)
)&lt;/p&gt;
&lt;p&gt;当你用show table test检查表定义的时候发现，它已经变成如下定义：
CREATE MULTISET TABLE test ,NO FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT
     (
      id INTEGER,
      name CHAR(20) CHARACTER SET LATIN CASESPECIFIC)
PRIMARY INDEX ( id );&lt;/p&gt;
&lt;p&gt;可以看到，系统默认会将表设置为MULTISET Table，没有备份（FALLBACK ）和恢复日志（BEFORE JOURNAL/AFTER JOURNAL），而且会默认将第一列设置为PRIMARY INDEX。&lt;/p&gt;
&lt;p&gt;执行如下SQL：
insert into test values(1,'test');
insert into test values(1,'test');&lt;/p&gt;
&lt;p&gt;可以看到，多次插入重复数据都成功，检查表数据验证结果。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;SET Table&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;当创建表定义为create set table test，则系统表定义为CREATE SET TABLE test ,NO FALLBACK……&lt;/p&gt;
&lt;p&gt;在这种情况下执行SQL：
insert into test values(1,'test');
insert into test values(1,'test');&lt;/p&gt;
&lt;p&gt;可以看到，插入重复数据将会出错，检查表数据验证结果&lt;/p&gt;
&lt;p&gt;区别：
SET Table 不可以包含重复数据
MULTISET Table 可以包含重复数据&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;VOLATILE Table&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;定义如下：
create volatile table test as
( select * from table
) with data
on commit preserve rows&lt;/p&gt;
&lt;p&gt;这个表只存在于cache中，data dictionary中也找不到这个表，当User结束一个session时，这个表将自动删除，所有用户无法访问，下次用户需要重新建表。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;GLOBAL TEMPORARY Table&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;定义如下：
create global temporary table test as
( select * from table
) with no data    -- global temporary table cannot define with data
on commit preserve rows&lt;/p&gt;
&lt;p&gt;这个表存在于data dictionary中，当User结束一个session时，这个表中的数据将自动删除，表还保留，其它用户可以继续访问这个表，但是数据只存在于某一session中。&lt;/p&gt;
&lt;p&gt;在上边的定义中，我们使用的是on commit preserve rows，执行以下SQL，我们可以看到表中存有数据。
insert into test
select *
from table&lt;/p&gt;
&lt;p&gt;然后执行
select *
from test&lt;/p&gt;
&lt;p&gt;如果把定义改为on commit delete rows，我们看到表中依然没有数据，这是因为每个SQL 语句都是一个隐性事务。&lt;/p&gt;</content><category term="programming"></category><category term="SQL"></category><category term="table"></category><category term="type"></category></entry><entry><title>Column Alias in SQL</title><link href="http://www.legendu.net/misc/blog/column-alias-in-sql/" rel="alternate"></link><published>2016-10-16T09:03:52-07:00</published><updated>2016-10-16T09:03:52-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-10-16:/misc/blog/column-alias-in-sql/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Logically any &lt;code&gt;SELECT&lt;/code&gt; is processed in following order:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;from&lt;/li&gt;
&lt;li&gt;where&lt;/li&gt;
&lt;li&gt;group by&lt;/li&gt;
&lt;li&gt;having&lt;/li&gt;
&lt;li&gt;olap functions&lt;/li&gt;
&lt;li&gt;qualify&lt;/li&gt;
&lt;li&gt;select &lt;/li&gt;
&lt;li&gt;sample&lt;/li&gt;
&lt;li&gt;order by …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Logically any &lt;code&gt;SELECT&lt;/code&gt; is processed in following order:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;from&lt;/li&gt;
&lt;li&gt;where&lt;/li&gt;
&lt;li&gt;group by&lt;/li&gt;
&lt;li&gt;having&lt;/li&gt;
&lt;li&gt;olap functions&lt;/li&gt;
&lt;li&gt;qualify&lt;/li&gt;
&lt;li&gt;select &lt;/li&gt;
&lt;li&gt;sample&lt;/li&gt;
&lt;li&gt;order by&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Besides the proprietary &lt;code&gt;QUALIFY/SAMPLE&lt;/code&gt; every DBMS will do it exactly the same.
When you use a column alias in
&lt;code&gt;where&lt;/code&gt;, &lt;code&gt;group by&lt;/code&gt;, &lt;code&gt;having&lt;/code&gt;, &lt;code&gt;olap functions&lt;/code&gt; or &lt;code&gt;quality&lt;/code&gt;
the column list is not yet created, 
thus using an alias should fail.&lt;/p&gt;
&lt;p&gt;However, there are a few exceptions.&lt;br&gt;
Both Teradata SQL and MySQL allows using column aliases in
&lt;code&gt;where&lt;/code&gt;, &lt;code&gt;group by&lt;/code&gt;, &lt;code&gt;having&lt;/code&gt;, &lt;code&gt;olap functions&lt;/code&gt; and &lt;code&gt;qualify&lt;/code&gt;.
Even if column aliases are allowed in Teradata and MySQL, 
you should never alias to an existing column name 
to avoid confusing the optimizer and/or end user).
If you do alias to an existing column name in Teradata,
the original column instead of the alias is used 
in &lt;code&gt;where&lt;/code&gt;, &lt;code&gt;group byy&lt;/code&gt;, &lt;code&gt;having&lt;/code&gt;, &lt;code&gt;olap functions&lt;/code&gt; and &lt;code&gt;qualify&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id="allow-column-alias"&gt;Allow Column Alias&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Teradata SQL&lt;/li&gt;
&lt;li&gt;MySQL&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="disallow-column-alias"&gt;Disallow Column Alias&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Oracle SQL&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SQL"></category><category term="column alias"></category><category term="Teradata"></category><category term="Oracle"></category></entry><entry><title>Tips About LaTeX</title><link href="http://www.legendu.net/misc/blog/latex-tips/" rel="alternate"></link><published>2016-08-15T21:44:57-07:00</published><updated>2016-08-15T21:44:57-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-08-15:/misc/blog/latex-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;exceltex ... input from excel ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;keep each line short, being a part of sentence,
this makes it easier to modify LaTeX …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;exceltex ... input from excel ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;keep each line short, being a part of sentence,
this makes it easier to modify LaTeX code&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bibtex: never skip city for book type!!!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bibtex: use volume for notes/comment, if tentatively accepted, forthcoming/to appear ... and so on&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;be careful with \footnotsize and \normalsize,
they might affect spacing ....&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;\bar for single letter, \overline for multiple letters&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="tips"></category><category term="LaTeX"></category><category term="programming"></category></entry><entry><title>Existing Bugs in R</title><link href="http://www.legendu.net/misc/blog/existing-bugs-in-r/" rel="alternate"></link><published>2016-08-15T21:23:27-07:00</published><updated>2016-08-15T21:23:27-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-08-15:/misc/blog/existing-bugs-in-r/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;R does not give the right type III sums of squares until version 2.13.&lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;R does not give the right type III sums of squares until version 2.13.&lt;/li&gt;
&lt;/ol&gt;</content><category term="R"></category><category term="sums of squares"></category><category term="programming"></category><category term="bug"></category><category term="CRAN"></category></entry><entry><title>JSON for R</title><link href="http://www.legendu.net/misc/blog/json-for-r/" rel="alternate"></link><published>2016-08-15T20:56:58-07:00</published><updated>2016-08-15T20:56:58-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-08-15:/misc/blog/json-for-r/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://randyzwitch.com/r-json-jsonlite-sprintf-paste/&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;it seems that &lt;code&gt;jsonlite&lt;/code&gt; is better than rjson&lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://randyzwitch.com/r-json-jsonlite-sprintf-paste/&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;it seems that &lt;code&gt;jsonlite&lt;/code&gt; is better than rjson&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="R"></category><category term="JSON"></category><category term="NoSQL"></category><category term="database"></category><category term="jsonlite"></category><category term="rjson"></category></entry><entry><title>Questions About SAS</title><link href="http://www.legendu.net/misc/blog/sas-questions/" rel="alternate"></link><published>2016-07-13T22:55:14-07:00</published><updated>2016-07-13T22:55:14-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/sas-questions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;include... can i use relative path?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Actually, I think it is good idea to always quote data 
when exporting data …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;include... can i use relative path?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Actually, I think it is good idea to always quote data 
when exporting data to CSV format.
But how do you read in quoted data in SAS? &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;easy way to make design matrix in SAS?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ssp, prompts as code? is it possible?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAS hash is interesting, sounds like something you should learn about&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to go back to the last position of cursor?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;check procedures freq, tabular, report&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="ask"&gt;Ask&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Is there any restriction on th number of macro variable 
that we can use?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When defining a function using the procedure fcmp,
can we use a data set as argument? 
I don't think so.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it is said that %sysevalf is not very accurate, 
and you should do calculation in a null data step.
Is that true? 
Check on this.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it seems that "return" a value from a SAS macro function is really tricky?
How can I do it in a robus way? 
you should never try to do this. 
A much better way is to create a macro variable or dataset containing the results 
and use the macro variable or dataset instead.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAS option compress = yes; 
I don't think it helps on downloading data over internet from databases 
such as Teradata. Ask expert's opinion on this!!!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;can we use filename shortcut in libname?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Is there an easy way to get the total of a column 
which can be used in a data step?
What I'm looking for is a function which takes a data set 
and a variable name as input and gives the total of the variable.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="sas-stored-process"&gt;SAS Stored Process&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;most convenient way to backup/migrate sas stored process?&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="sas-sql"&gt;SAS SQL&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;it seems to me that proc sql cannot cast data?
you have to use input/put instead.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="sas-enterprise-guide"&gt;SAS Enterprise Guide&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;does&lt;/span&gt; &lt;span class="n"&gt;SAS&lt;/span&gt; &lt;span class="n"&gt;Enterprise&lt;/span&gt; &lt;span class="n"&gt;Guide&lt;/span&gt; &lt;span class="n"&gt;support&lt;/span&gt; &lt;span class="n"&gt;debugging&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;
&lt;span class="n"&gt;How&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="n"&gt;quickly&lt;/span&gt; &lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;procedure&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;SEG&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;is it possible to define a constant macro variable?&lt;/p&gt;
&lt;p&gt;convenient way to read content of a file and put it into a macro?&lt;/p&gt;
&lt;p&gt;better to define global macro variables at the beginning or when needed?&lt;/p&gt;
&lt;h2 id="data-type"&gt;data type&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;when implicitly convert a character to number, what informat is used?&lt;/li&gt;
&lt;/ol&gt;</content><category term="questions"></category><category term="programming"></category><category term="SAS"></category></entry><entry><title>Creating Index on Data in SAS</title><link href="http://www.legendu.net/misc/blog/creating-index-on-data-in-sas/" rel="alternate"></link><published>2016-07-13T22:54:56-07:00</published><updated>2016-07-13T22:54:56-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/creating-index-on-data-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I am not sure whether creating index will reorder data or not ... 
it seems to me that it does modified …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I am not sure whether creating index will reorder data or not ... 
it seems to me that it does modified the original data, 
but I'm not what are the changes? metadata, or reorder data?&lt;/p&gt;
&lt;p&gt;summary on different ways of creating index, proc sql, proc datasets, ..., 
simple vs compound, simple must use the same index name as column name&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="index"></category><category term="data"></category><category term="hash"></category></entry><entry><title>Working With Spreadsheet with Python</title><link href="http://www.legendu.net/misc/blog/working-with-spreadsheet-with-python/" rel="alternate"></link><published>2016-07-13T22:51:14-07:00</published><updated>2016-07-13T22:51:14-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/working-with-spreadsheet-with-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;xlsxwriter for writing an new excel file only, cannot read or modify existing excel files&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;xlsxwriter for writing an new excel file only, cannot read or modify existing excel files&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="Spreadsheet"></category><category term="Excel"></category><category term="pandas"></category><category term="xlsxwriter"></category><category term="xlrd"></category><category term="xlwt"></category></entry><entry><title>GDB Links</title><link href="http://www.legendu.net/misc/blog/gdb-links/" rel="alternate"></link><published>2016-07-13T22:50:57-07:00</published><updated>2016-07-13T22:50:57-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/gdb-links/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.unknownroad.com/rtfm/gdbtut/gdbtoc.html"&gt;http://www.unknownroad.com/rtfm/gdbtut/gdbtoc.html&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.unknownroad.com/rtfm/gdbtut/gdbtoc.html"&gt;http://www.unknownroad.com/rtfm/gdbtut/gdbtoc.html&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="GDB"></category><category term="C++"></category><category term="debug"></category></entry><entry><title>Easy-Made Mistake with C++ Iterator</title><link href="http://www.legendu.net/misc/blog/easy-made-mistake-with-cpp-iterator/" rel="alternate"></link><published>2016-07-13T22:47:56-07:00</published><updated>2016-07-13T22:47:56-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/easy-made-mistake-with-cpp-iterator/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;the wrong way&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;auto&lt;/span&gt; &lt;span class="nv"&gt;it&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;l&lt;/span&gt;.&lt;span class="nv"&gt;cbegin&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;&lt;span class="c1"&gt;; it!=l.cend(); ++it){&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;auto&lt;/span&gt; &lt;span class="nv"&gt;jt&lt;/span&gt;&lt;span class="o"&gt;=++&lt;/span&gt;&lt;span class="nv"&gt;it&lt;/span&gt;&lt;span class="c1"&gt;; jt!=l.cend(); ++jt …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;the wrong way&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;auto&lt;/span&gt; &lt;span class="nv"&gt;it&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;l&lt;/span&gt;.&lt;span class="nv"&gt;cbegin&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;&lt;span class="c1"&gt;; it!=l.cend(); ++it){&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;auto&lt;/span&gt; &lt;span class="nv"&gt;jt&lt;/span&gt;&lt;span class="o"&gt;=++&lt;/span&gt;&lt;span class="nv"&gt;it&lt;/span&gt;&lt;span class="c1"&gt;; jt!=l.cend(); ++jt){&lt;/span&gt;
        &lt;span class="nv"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nv"&gt;it&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt; &amp;lt;-&amp;gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nv"&gt;jt&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="nv"&gt;endl&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
    }
}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;it is increased again in the inner loop!!!&lt;/p&gt;
&lt;p&gt;the correct way&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;auto&lt;/span&gt; &lt;span class="nv"&gt;it&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;l&lt;/span&gt;.&lt;span class="nv"&gt;cbegin&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;&lt;span class="c1"&gt;; it!=l.cend(); ++it){&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;auto&lt;/span&gt; &lt;span class="nv"&gt;jt&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;next&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;it&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;&lt;span class="c1"&gt;; jt!=l.cend(); ++jt){&lt;/span&gt;
        &lt;span class="nv"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nv"&gt;lt&lt;/span&gt;&lt;span class="c1"&gt;;&amp;amp;lt; *it &amp;amp;lt;&amp;amp;lt; &amp;quot; &amp;amp;lt;-&amp;amp;gt; &amp;quot; &amp;amp;lt;&amp;amp;lt; *jt &amp;amp;lt;&amp;amp;lt; endl;&lt;/span&gt;
    }
}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;it is very tricky to iterate a container and delete elements
blog about it&lt;/p&gt;</content><category term="programming"></category><category term="C++"></category><category term="iterator"></category><category term="mistake"></category><category term="error"></category></entry><entry><title>Questions About Algorithms</title><link href="http://www.legendu.net/misc/blog/algorithm-questions/" rel="alternate"></link><published>2016-07-13T22:45:07-07:00</published><updated>2016-07-13T22:45:07-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/algorithm-questions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;When does division invite big errors?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;do we have to sync hash table if we only care about whether ...
I …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;When does division invite big errors?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;do we have to sync hash table if we only care about whether ...
I mean is it possible that we write the key to the table,
and then other thread read whatever correspond to the key,
and then the corresonding value is written to the table?
I think this is possible.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="questions"></category><category term="programming"></category><category term="algorithm"></category></entry><entry><title>Immutable String vs Mutable String</title><link href="http://www.legendu.net/misc/blog/immutable-string-vs-mutable-string/" rel="alternate"></link><published>2016-07-13T22:22:11-07:00</published><updated>2016-07-13T22:22:11-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/immutable-string-vs-mutable-string/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;advantage of immutable string:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;trivially&lt;/span&gt; &lt;span class="n"&gt;thread&lt;/span&gt; &lt;span class="n"&gt;safe&lt;/span&gt;
    &lt;span class="k"&gt;more&lt;/span&gt; &lt;span class="n"&gt;secure&lt;/span&gt;
        &lt;span class="k"&gt;more&lt;/span&gt; &lt;span class="n"&gt;memory&lt;/span&gt; &lt;span class="n"&gt;efficient&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;most&lt;/span&gt; &lt;span class="n"&gt;use&lt;/span&gt; &lt;span class="n"&gt;cases&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
            &lt;span class="n"&gt;cheap&lt;/span&gt; &lt;span class="n"&gt;substrings&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tokenizing&lt;/span&gt; &lt;span class="k"&gt;and …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;advantage of immutable string:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;trivially&lt;/span&gt; &lt;span class="n"&gt;thread&lt;/span&gt; &lt;span class="n"&gt;safe&lt;/span&gt;
    &lt;span class="k"&gt;more&lt;/span&gt; &lt;span class="n"&gt;secure&lt;/span&gt;
        &lt;span class="k"&gt;more&lt;/span&gt; &lt;span class="n"&gt;memory&lt;/span&gt; &lt;span class="n"&gt;efficient&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;most&lt;/span&gt; &lt;span class="n"&gt;use&lt;/span&gt; &lt;span class="n"&gt;cases&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
            &lt;span class="n"&gt;cheap&lt;/span&gt; &lt;span class="n"&gt;substrings&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tokenizing&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="n"&gt;slicing&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;however, if one has to create many small string, 
e.g., concatenate strings a lot, immutable string has no advantage.
That's why we have StringBuffer and StringBuilder in Java.
Note that String in Java don't have any mutator methods. 
A new string is returned ....
Java String is not suitable for manipulating elements,
use StringBuffer or StringBuilder instead.
The difference is that StringBuffer is synchronized 
while StringBuilder is not.
StringBuilder has length method instead of size method.&lt;/p&gt;
&lt;p&gt;Java char array has a fixed length, but for printing, 
you do can use '\0' (C-style ending of char array) to indicate the end of a string.&lt;/p&gt;
&lt;p&gt;StringBuilder in Java is somehow similar to String in C++.&lt;/p&gt;</content><category term="programming"></category><category term="string"></category><category term="mutable"></category><category term="immutable"></category></entry><entry><title>Loops in Java</title><link href="http://www.legendu.net/misc/blog/loops-in-java/" rel="alternate"></link><published>2016-07-13T22:19:53-07:00</published><updated>2016-07-13T22:19:53-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/loops-in-java/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;As is known to all, 
the loop condition in a usual &lt;code&gt;for&lt;/code&gt; or &lt;code&gt;while&lt;/code&gt; loop 
is checked before each iteration …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;As is known to all, 
the loop condition in a usual &lt;code&gt;for&lt;/code&gt; or &lt;code&gt;while&lt;/code&gt; loop 
is checked before each iteration in almost all programming languages. 
In Java, a loop condition is checked in each
iteration, i.e. the boolean value of the loop condition is
recalculated in each iteration. Not only the change of loop
variables but also other variables involved in the loop condition
affect the loop. While this true for most compiled languages, it's
not the case for most interpreted languages, e.g. R and MATLAB. (...
see whether for each is as R and MATLAB ...)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use enhanced for loop in java almost any time you want. It
really beautifies your code. Unfortunately, you cannot use it
everywhere. Consider, for example, the expurgate method. The program
needs access to the iterator in order to remove the current element.
The for-each loop hides the iterator, so you cannot call remove.
Therefore, the for-each loop is not usable for filtering. Similarly
it is not usable for loops where you need to replace elements in a
list or array as you traverse it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Type&lt;/span&gt; &lt;span class="nv"&gt;elem&lt;/span&gt; : &lt;span class="nv"&gt;someList&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;{
    &lt;span class="cm"&gt;/* operations */&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On a computer support multithreading, multiple small loops runs a
little (not significant at all) faster than a big loop with the same
number of iterations.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="R"></category><category term="loop"></category><category term="Java"></category><category term="programming"></category><category term="MATLAB"></category></entry><entry><title>Enumeration in Java</title><link href="http://www.legendu.net/misc/blog/enumeration-in-java/" rel="alternate"></link><published>2016-07-13T22:19:38-07:00</published><updated>2016-07-13T22:19:38-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/enumeration-in-java/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;You can associate values with enumeration elements.&lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;You can associate values with enumeration elements.&lt;/li&gt;
&lt;/ol&gt;</content><category term="enumeration"></category><category term="programming"></category><category term="Java"></category></entry><entry><title>Containers in Java</title><link href="http://www.legendu.net/misc/blog/containers-in-java/" rel="alternate"></link><published>2016-07-13T22:18:17-07:00</published><updated>2016-07-13T22:18:17-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/containers-in-java/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.oracle.com/javase/tutorial/collections/index.html"&gt;Oracel Java Tutorial on Collections&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="arraylist"&gt;ArrayList&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can point an element of &lt;code&gt;Array&lt;/code&gt; or &lt;code&gt;ArrayList&lt;/code&gt; to &lt;code&gt;null&lt;/code&gt;, 
but remember that …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.oracle.com/javase/tutorial/collections/index.html"&gt;Oracel Java Tutorial on Collections&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="arraylist"&gt;ArrayList&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can point an element of &lt;code&gt;Array&lt;/code&gt; or &lt;code&gt;ArrayList&lt;/code&gt; to &lt;code&gt;null&lt;/code&gt;, 
but remember that a &lt;code&gt;null&lt;/code&gt; reference cannot invoke any method. 
For example, 
if you have an object &lt;code&gt;set&lt;/code&gt; of &lt;code&gt;ArrayList&amp;lt;ArrayList&amp;lt;Point&amp;gt;&amp;gt;&lt;/code&gt; whose first element is &lt;code&gt;null&lt;/code&gt;. 
Then you cannot add points (objects of Point) to the first element 
(which is of type &lt;code&gt;ArrayList&amp;lt;Point&amp;gt;&lt;/code&gt;) of &lt;code&gt;set&lt;/code&gt; by invoking &lt;code&gt;set.get(0).add&lt;/code&gt;. 
To achieve the goal, 
you have to first create a new object of &lt;code&gt;ArrayList&amp;lt;Point&amp;gt;&lt;/code&gt;, 
point the first element of &lt;code&gt;set&lt;/code&gt; to it, 
and then add points by invoking &lt;code&gt;set.get(0).add&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Elements added into an &lt;code&gt;ArrayList&lt;/code&gt; or returned by &lt;code&gt;get&lt;/code&gt; from an
ArrayList are by reference.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To insert an element into an &lt;code&gt;ArrayList&lt;/code&gt; with size &lt;code&gt;n&lt;/code&gt; (using the &lt;code&gt;add&lt;/code&gt; method), 
the legal range of index is &lt;code&gt;0&lt;/code&gt; to &lt;code&gt;n&lt;/code&gt;. 
The &lt;code&gt;add&lt;/code&gt; method without specifying location add the element to the end of the &lt;code&gt;ArrayList&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;An &lt;code&gt;Array&lt;/code&gt; or &lt;code&gt;ArrayList&lt;/code&gt; in Java is essentially a sequence of addresses. 
Since an address can point to anything, 
&lt;code&gt;Array&lt;/code&gt; or &lt;code&gt;ArrayList&lt;/code&gt; in Java can be used as container for anything. 
Specially, 
you can use an array as a container for &lt;code&gt;ArrayLists&lt;/code&gt; 
and you can also use an ArrayList as a container for &lt;code&gt;Arrays&lt;/code&gt;. 
For example &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ArrayList&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;double&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;and &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="n"&gt;ArrayList&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nb"&gt;Integer&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;[]&lt;/span&gt; &lt;span class="nb"&gt;array&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;are both legitimate in Java.&lt;/p&gt;
&lt;h3 id="capacity"&gt;Capacity&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;clear&lt;/code&gt; method of &lt;code&gt;ArrayList&lt;/code&gt; does not affect its capacity.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The capacity of an &lt;code&gt;ArrayList&lt;/code&gt; can be 0.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You might be curious that why the methods &lt;code&gt;boolean add(E e)&lt;/code&gt; and &lt;code&gt;void add(int index, E e)&lt;/code&gt; have different signatures. 
The reason is that &lt;code&gt;boolean add(E e)&lt;/code&gt; is inherited from the &lt;code&gt;Collection&lt;/code&gt; interface. 
For other collections such as set and map, etc., 
it is beneficial to know whether an elements to be added to it already exists or not.
The return value (indicating whether the ...) is then very helpful. 
For the list specific method &lt;code&gt;void add(int index, E e)&lt;/code&gt;,
there is no need to define the signature as boolean because a list does not force uniqueness 
and whether an element will be added has nothing to do with whether an element of the same value already exists in the list or not.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="array"&gt;Array&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;Arrays&lt;/code&gt; class contains many userful static methods for array operations,
but generally speaing, 
they can only be applied to 1-d array directly. 
To applied to multi-dimensional arrays, 
you have to iterate into the array until you have 1-d arrays. 
For example, 
if you want to compare whether two 1-d integer arrays are equal or not,
you can use the static &lt;code&gt;equals&lt;/code&gt; in the &lt;code&gt;Arrays&lt;/code&gt;. 
To compare whether two 2-d interger arrays are equal or not, 
you can compare whether the two arrays have the same length, 
and whether each corresponding elements (which are 1-d arrays) of the two arrays are equal 
(using the static &lt;code&gt;Arrays.equals&lt;/code&gt; method). 
Applying &lt;code&gt;Arrays.equals&lt;/code&gt; on a 2-d intger arrays directly compares whether the two 2-d arrays 
contain same references to 1-d arrays. 
The static &lt;code&gt;Arrays.equals&lt;/code&gt; method is overloaded for double arrays,
but it is no a good idea to compare whether two double arrays are equal using &lt;code&gt;Arrays.equals&lt;/code&gt;
because it does not allow an error tolerance.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A 2-d array in java is just an array of arrays, 
so even if you define &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;[][]&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;you can still point &lt;code&gt;a[i]&lt;/code&gt; to another 1-d array. 
This means that you can change the
length of each element of the 2-d array&lt;code&gt;a&lt;/code&gt; whenever you want.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;To copy arrays quicly, 
you can use &lt;code&gt;System.arraycopy&lt;/code&gt; which is implemented in native code. 
It is preferred to other ways such as &lt;code&gt;clone&lt;/code&gt;, 
user-defined method and so on. 
Notice that &lt;code&gt;System.arraycopy&lt;/code&gt; performs shallow copys for arrays of objects,
i.e., only references of objects will be copied. 
If you want to make a deep copy of an array of objects, 
you have to do it by yourself.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A container in Java can be initialized using curly braces 
(similar to the universal initializer list in C++11), 
and in this case you do not have to specified the dimensions of the container. 
To initialized all elements of a 1-dimensional array to a single value, 
you can the static &lt;code&gt;Arrays.fill&lt;/code&gt; method.
Note that arrays in Java are automatically initialized to default values, 
so you need not to initialize an array if the default value is what you want.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="ArrayList"></category><category term="programming"></category><category term="Java"></category><category term="array"></category><category term="containers"></category><category term="vector"></category></entry><entry><title>Questions About Java</title><link href="http://www.legendu.net/misc/blog/java-questions/" rel="alternate"></link><published>2016-07-13T22:15:29-07:00</published><updated>2016-07-13T22:15:29-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/java-questions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;is possible to define abstract static method? i.e., 
the method doesn't depend on any instance variables but subclasses have …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;is possible to define abstract static method? i.e., 
the method doesn't depend on any instance variables but subclasses have different implementations&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;for a void method, we can also make it return values. 
Sometimes it can be more convenient to have it return value. 
Generally speaking what's the advantage of void methods? faster?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how can I make a copy of the subclass which implements an abstract class?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if a getter method doesn't return a deep copy of an object, 
then there's no advantage over making it protected, right?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if a class don't have any instant variables, 
what's the advantage of making it a static class？Create a new object is expensive? 
But how expensive it is for simple classes that only have static members? 
I guess for classes that have both static and non-static method, 
reference by class name is preferred. But ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if a instance variable (need not to be initialized manually) is affected by multiple instance varibles, 
what the best way to update them? 
I currently use a single method to update them all to avoid possible issues, but it's less convenient, and confusing.   &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if you write a generic class, for example MyClass&lt;T&gt;, how do you make a defensive copy in the constructor?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;java ArrayList&lt;ArrayList&lt;DataPoint&gt;&amp;gt;, 
if i remove an elment of the list, but the element of the elment (also a list) is still in use, will there be memory leak?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="input-and-output"&gt;input and output&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;good way for random access file? &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h1 id="concurrency"&gt;concurrency&lt;/h1&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;johnson told me that we have to protect shared data even if we sum a bunch of values together, because of thread local cache, 
if this is the case, how can we avoid using lock? there are some algorithms that are thread safe without lock ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;atomic seems to be more tight than volatie. I think atomic can replace volatile if you do not consider performace, while volatitle can not replace atomic. Atomic is for interaction between threads ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;about mutex, if an object has two fields that are shared, thought they are independent, 
still only once thread can access the object no matter which filed it access ...
This is not true, you can use multiple mutex, so that these two fields can be access by 
different threads if that's safe.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;difference between lock and readwirtelock, 
the former allows only thread to access the shared resource while the latter allows multiple to read or exclusive to write.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="other"&gt;other&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;the working directory of java class seems to be the directory where you run the command. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to get the directory where the java application is? there seems to be some solution online&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to patch files into jars so that they can always be found and used in java program?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="exception"&gt;exception&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;when to handle exception is a big problem ...&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="lambda"&gt;lambda&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;lambda function in java? 
currently we cannot pass method as argument to another method. 
Interface for comparing is OK but not flexible, 
if generics functions e.g., sort take lambda function, then it's more comveneint.&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="exception_1"&gt;exception&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;when to handle exception is a big problem ...&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="class-and-object"&gt;class and object&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;is possible to define abstract static method? i.e., 
the method doesn't depend on any instance variables but subclasses have different implementations&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;for a void method, we can also make it return values. 
Sometimes it can be more convenient to have it return value. 
Generally speaking what's the advantage of void methods? faster?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how can I make a copy of the subclass which implements an abstract class?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if a getter method doesn't return a deep copy of an object, 
then there's no advantage over making it protected, right?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if a class don't have any instant variables, 
what's the advantage of making it a static class？Create a new object is expensive? 
But how expensive it is for simple classes that only have static members? 
I guess for classes that have both static and non-static method, 
reference by class name is preferred. But ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if a instance variable (need not to be initialized manually) is affected by multiple instance varibles, 
what the best way to update them? 
I currently use a single method to update them all to avoid possible issues, but it's less convenient, and confusing.   &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if you write a generic class, for example MyClass&lt;T&gt;, how do you make a defensive copy in the constructor?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;java ArrayList&lt;ArrayList&lt;DataPoint&gt;&amp;gt;, 
if i remove an elment of the list, but the element of the elment (also a list) is still in use, will there be memory leak?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Java container resize, how to make sure the length of array won't overflow?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="questions"></category><category term="Java"></category><category term="programming"></category></entry><entry><title>Some Tricky Problems in Java</title><link href="http://www.legendu.net/misc/blog/some-tricky-problems-in-java/" rel="alternate"></link><published>2016-07-13T22:10:28-07:00</published><updated>2016-07-13T22:10:28-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/some-tricky-problems-in-java/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="confusion-clarification"&gt;Confusion Clarification&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You cannot define an abstract static method. 
This is because "abstract" means that no functionality is implemented 
while …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="confusion-clarification"&gt;Confusion Clarification&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You cannot define an abstract static method. 
This is because "abstract" means that no functionality is implemented 
while "static" means that functionality exists even there is no object. 
The two conflict in concept.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Currently there is no way to make subclass level access 
but no package level access in Java.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="tricky-problems"&gt;Tricky Problems&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If there is broken references (e.g. a imported jar file has been
deleted or moved to another place), eclipse cannot build proejects.
When you run code, you will probably get error message that some class
does not exist.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;hasNextInt()&lt;/code&gt; method of &lt;code&gt;Scanner&lt;/code&gt; class test whether the next
parsed word is integer or not. Even if there is integer in the string
the method returns &lt;code&gt;false&lt;/code&gt; if it is not the first parsed word.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When a &lt;code&gt;double&lt;/code&gt; number is casted to an &lt;code&gt;integer&lt;/code&gt;, only the integer
part is kept, i.e. the number will be rounded towards 0. When we use
method &lt;code&gt;Math.round()&lt;/code&gt;, we get the same result. However, the first
method is preferred, though it uses cast. Usually this kind of type
cast is very fast.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There is no power operator in Java, instead, method &lt;code&gt;Math.power&lt;/code&gt;
should be used. If you want the square or cubic of a number [] &lt;code&gt;x&lt;/code&gt;,
you can use &lt;code&gt;x * x&lt;/code&gt; or &lt;code&gt;x * x * x&lt;/code&gt;, 
which is faster than invoking the &lt;code&gt;Math.power&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Java (and also C++), you can access the instance variables of
objects with the same class in the definition of a class.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When a return a result in method using key word &lt;code&gt;return&lt;/code&gt;, the
parentheses are not required.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Unlike C/C++, we can only give &lt;code&gt;if&lt;/code&gt; statement a boolean expression
in Java, which means that &lt;code&gt;if(x=2)&lt;/code&gt; (which works in C/C++) will not
work in Java.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In C/C++, we can convert integer values to boolean values, vice
versa. While in Java, we cannot do this.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To quit a program when error occurs in Java, we can use
&lt;code&gt;System.err.println()&lt;/code&gt;. This will print out the error message and
then quit the running program. !!!!!!!!!!!It will not stop running,
just print error message.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;We can not call a non-static method inside a static method. So all
methods in the class which contains function &lt;code&gt;main&lt;/code&gt; (the start place
of all code) should be static. Similarly all instance variable in
this kind of classes must be static and (usually final).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be careful when you use &lt;code&gt;switch&lt;/code&gt; in Java. Do not forget to add code
&lt;code&gt;break;&lt;/code&gt; at the end of each branch.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do not use &lt;code&gt;==&lt;/code&gt; to check whether two objects are equal or not,
instead, use method &lt;code&gt;equals&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;By default, the elements of an array of objects in Java have value
null. So we must either instantiate the elements or point them to
objects with the same type.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The index of &lt;code&gt;arrays&lt;/code&gt; in Java must start from 0, however, it does not
have to be a regular array, i.e. the elements of the array do not
have to have the same length.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;We know that many programming languages use lazy evaluation to
evaluate boolean expressions. However, sometimes we might want to
evaluate all conditions of an expression, which is mainly for side
effect and parallelism maintain concern.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In java, &lt;code&gt;"\r"&lt;/code&gt; stands for return (i.e. put the cursor to the first
column) and &lt;code&gt;"\n"&lt;/code&gt; stand for new line, which is different from some
programming languages. For example, some programming language use
&lt;code&gt;"\n"&lt;/code&gt; to stand for return and new line.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When overriding an existing method in a class, you must provide
different arguments for the overriding method. This is because the
name of a method and the number and type of arguments is how Java
can distinguish different methods. Notice that before executing a
method, Java does not know the type of return result, which means
that the return type of methods is not used to distinguish different
methods. For this reason, we cannot define two methods with the same
name and the same number and type of arguments with different return
types. And when we overwrite a method in a super class, we must keep
the same return type or a return type that is compatible with the
return type of the corresponding method in the super class.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There can be both public and static method in a class in Java. To
call a public class, you must invoke a public method through an
object of the class; to call a static method, you can either invoke
it through an object of the class or we can invoke it using the name
of the class, however, the latter way is prefer for invoking a
static method, because it does not have to create a new object.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you invoke the constructor of a super class in a sub class, it
must be the first line in the constructor of the sub class.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can only extend a subclass from only one super class in Java
while you can implement class from more than one interface in Java.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Cast&lt;/code&gt; has lower priority than &lt;code&gt;.&lt;/code&gt; in Java, which means that you
have to use two pairs[^2] of parentheses when you want to first cast
an object and then invoke some method of the casted object.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;After reading or writing a file in Java, you have to close it in
order for Java to release the resource. If you use &lt;code&gt;Scanner&lt;/code&gt; to read
a file, you should also close it after reading. But if you use
&lt;code&gt;Scanner&lt;/code&gt; to read data from other place, e.g. a string or
&lt;code&gt;System.in&lt;/code&gt;, then you do not have to close it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If a sub class extends from a super class which implements an
interface, then the sub class implements the interface
automatically.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For parameter (some type) of generic types, we cannot use primitive
types.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For a state that is unique to an object of a class, you want to use
key word new to create an object for the state (if the state is a
not a primitive type). For a state that is shared among all objects
of a class (e.g. random number generators in a class usually should
be shared among all its object), never use key word new to create an
object for the state. Just point it to an object passed as argument
of the constructor of the class.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For statistical simulations involving generating random numbers,
you'd better use a single base random number generator (RNG) for
generating random numbers. To do this in Java, you just need to
create a single random number generator and pass it by reference
(which is the default way) to objects that require a RNG. Also to
make your work repeatable, you'd better set seed(s) for your
simulations.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;String and Enum are immutable classes in Java ....&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be careful if an object is initialized based on another object of
the type, i.e. when some object is passed to the constructor for
initializing an object of the class. Be aware about whether you want
the state object to be shared or not.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For an object whose states might be changed by itself (i.e. states
can be changed by some other methods (either public or private)
rather than its setters), you'd better make it immutable. Generally
speaking, you do not have track of the inner states of this object,
and thus you might mis-predict its inner states. If you allow setter
methods to mutate the object, it can happen that you think you have
changed the states of the object to these you expect, but rather
they are not.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="tricky"></category><category term="Java"></category><category term="programming"></category></entry><entry><title>Variables in Java</title><link href="http://www.legendu.net/misc/blog/variables-in-java/" rel="alternate"></link><published>2016-07-13T22:04:15-07:00</published><updated>2016-07-13T22:04:15-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/variables-in-java/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There are 3 different types of variables in Java: instance variables, local variables and argument variables. 
An instance variables will …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There are 3 different types of variables in Java: instance variables, local variables and argument variables. 
An instance variables will be initialized to default values if it is not initialized manually.
Local variables and argument variables won't be automatically initialized to default values. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;primitive types of elements of array are initialized &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="variable"></category><category term="programming"></category><category term="Java"></category></entry><entry><title>Advantages and Disadvantages of R</title><link href="http://www.legendu.net/misc/blog/pros-and-cons-of-r/" rel="alternate"></link><published>2016-07-13T22:02:54-07:00</published><updated>2016-07-13T22:02:54-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/pros-and-cons-of-r/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="advantages"&gt;Advantages&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;R is opensource.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lots of new packages are being developed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Easy to learn, convenient to use.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="disadvantages"&gt;Disadvantages&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;R is …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="advantages"&gt;Advantages&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;R is opensource.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lots of new packages are being developed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Easy to learn, convenient to use.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="disadvantages"&gt;Disadvantages&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;R is slow when running loops.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The syntax of R is very flexible (sounds good) 
and it's won't be strongly checked, 
which make it easy to make mistakes sometimes. 
And when you make mistakes, it can be hard to find it out.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;R does not pass arguments to functions by addresses, 
which means that all arguments will be copied and then passed to functions. 
This not only makes R slow but also inconvenient sometimes.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="pros"></category><category term="programming"></category><category term="cons"></category><category term="advantage"></category><category term="disadvantage"></category><category term="R"></category><category term="CRAN"></category></entry><entry><title>Tips for Julia</title><link href="http://www.legendu.net/misc/blog/julia-tips/" rel="alternate"></link><published>2016-07-13T21:45:58-07:00</published><updated>2016-07-13T21:45:58-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/julia-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://julialang.org/"&gt;Julia&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://forio.com/julia/"&gt;Julia Studio&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ide"&gt;IDE&lt;/h2&gt;
&lt;p&gt;Atom + Juno seems like a good IDE for Julia&lt;/p&gt;
&lt;h2 id="links"&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://julialang.org/"&gt;Julia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://forio.com/julia/"&gt;Julia Studio&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://julialang.org/"&gt;Julia&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://forio.com/julia/"&gt;Julia Studio&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ide"&gt;IDE&lt;/h2&gt;
&lt;p&gt;Atom + Juno seems like a good IDE for Julia&lt;/p&gt;
&lt;h2 id="links"&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://julialang.org/"&gt;Julia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://forio.com/julia/"&gt;Julia Studio&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="tips"></category><category term="programming"></category><category term="Julia"></category></entry><entry><title>Some Links for D Programming Language</title><link href="http://www.legendu.net/misc/blog/d-links/" rel="alternate"></link><published>2016-07-13T21:41:02-07:00</published><updated>2016-07-13T21:41:02-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/d-links/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://ddili.org/ders/d.en/index.html"&gt;D Programming Language Tutorial&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://ddili.org/ders/d.en/index.html"&gt;D Programming Language Tutorial&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="links"></category><category term="D"></category><category term="programming"></category></entry><entry><title>Convert Math Formula and Table To LaTeX</title><link href="http://www.legendu.net/misc/blog/convert-math-formula-and-table-to-latex/" rel="alternate"></link><published>2016-07-13T00:05:59-07:00</published><updated>2016-07-13T00:05:59-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-13:/misc/blog/convert-math-formula-and-table-to-latex/</id><summary type="html">&lt;h2 id="r"&gt;R&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;xtable{xtable}&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Good for converting table to LaTeX code.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;latex{Hmisc} &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Convert R objects (not just tables) to LaTeX code.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="excel"&gt;Excel&lt;/h2&gt;
&lt;h2 id="matlab"&gt;MATLAB&lt;/h2&gt;
&lt;h2 id="mathematica"&gt;Mathematica&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Type in the formula in Mathematica.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Selected the formula.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Right click on selection, and then select "Copy as" -&amp;gt; "LaTeX".&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can also convert formulas to other …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h2 id="r"&gt;R&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;xtable{xtable}&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Good for converting table to LaTeX code.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;latex{Hmisc} &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Convert R objects (not just tables) to LaTeX code.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="excel"&gt;Excel&lt;/h2&gt;
&lt;h2 id="matlab"&gt;MATLAB&lt;/h2&gt;
&lt;h2 id="mathematica"&gt;Mathematica&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Type in the formula in Mathematica.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Selected the formula.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Right click on selection, and then select "Copy as" -&amp;gt; "LaTeX".&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can also convert formulas to other format in Mathematica.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="Mathematica"></category><category term="table"></category><category term="programming"></category><category term="Excel"></category><category term="LaTeX"></category><category term="math formula"></category><category term="R"></category><category term="MATLAB"></category></entry><entry><title>Questions About Ruby</title><link href="http://www.legendu.net/misc/blog/ruby-questions/" rel="alternate"></link><published>2016-07-12T23:35:10-07:00</published><updated>2016-07-12T23:35:10-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-12:/misc/blog/ruby-questions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;One of my program written in Ruby runs perfectly on 32 bit Ubuntu but not 64 bit Ubuntu. 
What's the …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;One of my program written in Ruby runs perfectly on 32 bit Ubuntu but not 64 bit Ubuntu. 
What's the problem? Is it caused by Ubuntu or by change of API in Ruby?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It seems that you can use "==" to compare whether two strings are equal in ruby. 
What if I want to compare whether the two strings are the same object or not? &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;My ruby code for calculate phone bill works perfect on 32bit Ubuntu but does not work on my 64 bit Ubuntu. 
I'm not sure what is wrong. It is probably resulted from the "Actionmailer" package. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;How to remove ruby packages using gem?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="questions"></category><category term="Ruby"></category></entry><entry><title>Data Structure in R</title><link href="http://www.legendu.net/misc/blog/data-structure-in-r/" rel="alternate"></link><published>2016-07-09T18:57:36-07:00</published><updated>2016-07-09T18:57:36-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-09:/misc/blog/data-structure-in-r/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="vector-matrix-and-array"&gt;Vector, Matrix and Array&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;A matrix in R is actually a vector with a &lt;code&gt;dim&lt;/code&gt; attribute. 
This means that the …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="vector-matrix-and-array"&gt;Vector, Matrix and Array&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;A matrix in R is actually a vector with a &lt;code&gt;dim&lt;/code&gt; attribute. 
This means that the fastest way to switch between a vector and matrix 
is to modify the &lt;code&gt;dim&lt;/code&gt; attribute. 
Also since a matrix in R is essentially a vector, 
you have to treat it as a 1-dimensional array 
when you pass it as an argument into C/C++ code .&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="data-frame"&gt;Data Frame&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;A data frame is essentially a list with columns being elements.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="list"&gt;List&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;[] slicing vs [[]] &lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="other"&gt;Other&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;To convert a matrix &lt;code&gt;x&lt;/code&gt; to a list with columns being elements of the list, 
you can use &lt;code&gt;as.list(data.frame(x))&lt;/code&gt; 
(Notice that &lt;code&gt;as.list(x)&lt;/code&gt; does not work in this way. 
This is another example demonstrate the difference between data frame and matrix.). 
Though it is neat way, 
it is not the fastest. 
A faster way is to use &lt;code&gt;lapply&lt;/code&gt;, 
e.g., you can use &lt;code&gt;lapply(seq_len(ncol(x)), function(i) x[,i])&lt;/code&gt; to achieve the same purpose.
On the contrary, 
you can use &lt;code&gt;do.call&lt;/code&gt; to convert a list (of vectors/matrices) to a matrix. 
The following is such an example.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nf"&gt;do.call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cbind&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nf"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;matrix&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="nf"&gt;matrix&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="n"&gt;[&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="n"&gt;]&lt;/span&gt; &lt;span class="n"&gt;[&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="n"&gt;]&lt;/span&gt; &lt;span class="n"&gt;[&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="n"&gt;]&lt;/span&gt; &lt;span class="n"&gt;[&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="n"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;[1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;]&lt;/span&gt;    &lt;span class="m"&gt;0&lt;/span&gt;    &lt;span class="m"&gt;0&lt;/span&gt;    &lt;span class="m"&gt;1&lt;/span&gt;    &lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;[2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;]&lt;/span&gt;    &lt;span class="m"&gt;0&lt;/span&gt;    &lt;span class="m"&gt;0&lt;/span&gt;    &lt;span class="m"&gt;1&lt;/span&gt;    &lt;span class="m"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;We can put functions into a list and then call functions 
using their index, 
which can be very convenient sometimes. 
To put functions into a list, 
we can use either function &lt;code&gt;list&lt;/code&gt; or &lt;code&gt;c&lt;/code&gt;. 
However, 
there're some differences between functions &lt;code&gt;list&lt;/code&gt;, &lt;code&gt;as.list&lt;/code&gt; and &lt;code&gt;c&lt;/code&gt;.
Function &lt;code&gt;as.list&lt;/code&gt; coerce an object to a list object. 
If the argument passed to function &lt;code&gt;as.list&lt;/code&gt; is already a list object, 
then it does nothing. 
Function &lt;code&gt;list&lt;/code&gt; puts objects into a list. 
If an argument passed to function &lt;code&gt;list&lt;/code&gt; is already list object, 
it will still put this list object into a list. 
Basically, function &lt;code&gt;c&lt;/code&gt; combine objects passed to it. 
However, if a list and a vector are passed to it, 
each element of the vector becomes an element of the list object (argument). 
If you want the entire vector to be an element of the list, 
you must first use function &lt;code&gt;list&lt;/code&gt; to put it 
into a list and then use function &lt;code&gt;c&lt;/code&gt; to combine these two lists.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Most built-in functions in R work differently on data frames 
from vectors (matrix and array are similar to vectors), 
because many of them are written in S3 method. 
You have to be very carefully about the object that you are working with. 
For example, 
you can use &lt;code&gt;apply&lt;/code&gt; on both a matrix and a data frame. 
But if you apply a function on the each row of a data frame, 
elements on each row will first be coerced to the same type and then be operated on. 
Since the data in a data frame is usually not the same type, 
this can lead to mistake easily.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sometimes you must be very careful about vectors. 
You need to know how the operations work. 
That's very important!! 
For example &lt;code&gt;|&lt;/code&gt; and &lt;code&gt;||&lt;/code&gt; work different on vectors.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;rep&lt;/code&gt; is useful to get a vector that has a clear structure.
Be careful that the option &lt;code&gt;each&lt;/code&gt; can not be a vector. 
The role of option &lt;code&gt;each&lt;/code&gt; is played by &lt;code&gt;times&lt;/code&gt; in vector case.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;aperm&lt;/code&gt; is very useful to transpose an array.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Though a matrix and a data frame are both rectangular in R, 
they are fundamentally different. 
All elements in a matrix have the same type, 
while elements in a data frame do not have share the same type.
It is only required that elements in the same column of a data frame have the same type. 
A column in a data frame usually represent a variable. 
For this reason, 
data frames are frequently used for data environment for fitting models. 
However, sometimes we want to work on rows instead of columns 
(e.g. when fitting model for gene for microarray data), 
then it is not convenient to use data frame. 
You can convert a data frame to a matrix (if possible) by &lt;code&gt;as.matrix&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The difference among &lt;code&gt;apply&lt;/code&gt;. &lt;code&gt;tapply&lt;/code&gt;, &lt;code&gt;lapply&lt;/code&gt; and &lt;code&gt;sapply&lt;/code&gt;.
&lt;code&gt;apply&lt;/code&gt; can be used in many cases and the marginal dimension need to be specified. 
The specified function is applied over the specified margins, 
i.e. for each combination of the specified margin/dimension combination, 
the specified function is applied on the left dimensions. 
For example, &lt;code&gt;apply(aMatrix,MARGIN=1,FUN=aFun)&lt;/code&gt;, 
where &lt;code&gt;aMatrix&lt;/code&gt; is a matrix of dimension &lt;span class="math"&gt;\(n_1\times n_2\)&lt;/span&gt; 
and &lt;code&gt;aFun&lt;/code&gt; is a function, 
means applying &lt;code&gt;aFun&lt;/code&gt; over the first dimension (which is row) of &lt;code&gt;aMatrix&lt;/code&gt;, 
i.e., for each &lt;span class="math"&gt;\(i=1,\ldots,n_1\)&lt;/span&gt; applying &lt;code&gt;aFun&lt;/code&gt; to &lt;code&gt;aMatrix[i,]&lt;/code&gt;;
&lt;code&gt;apply(threeDArray,MARGIN=3,FUN=aFun)&lt;/code&gt;, 
where &lt;code&gt;threeDArray&lt;/code&gt; is an array of dimension &lt;span class="math"&gt;\(n_1\times n_2\times n_3\)&lt;/span&gt; 
and &lt;code&gt;aFun&lt;/code&gt; is as before, 
means applying &lt;code&gt;aFun&lt;/code&gt; over the third dimension, 
i.e. for each &lt;span class="math"&gt;\(i=1, \ldots,n_3\)&lt;/span&gt; applying &lt;code&gt;aFun&lt;/code&gt; to &lt;code&gt;threeDArray[,,i]&lt;/code&gt;;
&lt;code&gt;apply(threeDArray, MARGIN=C(1,2),FUN=aFun)&lt;/code&gt;, 
where &lt;code&gt;threeDArray&lt;/code&gt; and &lt;code&gt;aFun&lt;/code&gt; are as before, 
means applying &lt;code&gt;aFun&lt;/code&gt; over the first and second dimension, 
i.e., for each &lt;span class="math"&gt;\(i=1,\ldots,n_1\)&lt;/span&gt; and &lt;span class="math"&gt;\(j=1,\ldots,n_2\)&lt;/span&gt;, 
applying &lt;code&gt;aFun&lt;/code&gt; to &lt;code&gt;threeDArray[i,j,]&lt;/code&gt;.&lt;br&gt;
&lt;code&gt;tapply&lt;/code&gt; can be used according to factor levels 
which requires a specific factor 
(the INDEX argument can also be a vector and it will be coerced to a factor automatically) index of course. 
&lt;code&gt;lapply&lt;/code&gt; and &lt;code&gt;sapply&lt;/code&gt; are very similar to each other and &lt;code&gt;sapply&lt;/code&gt; is more friendly. 
They can be used to vectors, data frames and lists.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you just want to calculate the row/column means/sums, 
then there is no necessary to use &lt;code&gt;apply&lt;/code&gt;, 
instead, 
you can use &lt;code&gt;rowMeans&lt;/code&gt;, &lt;code&gt;colMeans&lt;/code&gt;, &lt;code&gt;rowSums&lt;/code&gt; and &lt;code&gt;colSums&lt;/code&gt;. 
&lt;code&gt;rowMeans&lt;/code&gt; and &lt;code&gt;rowSums&lt;/code&gt; calculate the mean and sum of each row respectively.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A matrix in R has both row names and column names. 
A vector in R also have names but not row names nor column names. 
There's no problem to treat a matrix as a vector but error will occur 
if you treat a vector as a matrix. 
To avoid error, 
you must use function &lt;code&gt;as.matrix&lt;/code&gt; to change the vector into a matrix 
and then do operations on the matrix.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In R, by default a matrix will be filled by columns. 
If you have to deal with matrices and vectors at the same time, 
e.g. you want to add a vector onto a matrix or so, 
you'd better define the matrix with number of rows equals the length of the vector.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;drop&lt;/code&gt; can delete dimensions of an array with only one level, 
which can be convenient when displaying results.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Vectors in R can be interpolated both as row vectors and column vectors according to different cases, 
which is for convenience
because whether row or column vectors will be used depend on
conventions. 
However, 
this might cause very serious problems, some times. 
For example, 
if we want to calculate the trace of &lt;span class="math"&gt;\(\boldU\boldV\)' 
where $\boldU\)&lt;/span&gt; and &lt;span class="math"&gt;\(\boldV\)&lt;/span&gt; are both column vectors here, 
we can calculate &lt;span class="math"&gt;\(\boldU'\boldV\)&lt;/span&gt; instead for convenience. 
So we might write code &lt;span class="math"&gt;\(u\%*\%v\)&lt;/span&gt; to do this. 
A potential serous problem is that &lt;span class="math"&gt;\(v\)&lt;/span&gt; might be a &lt;span class="math"&gt;\($1\times n\)&lt;/span&gt; matrix
(which is essentially a row vector) in R, 
and will result a &lt;span class="math"&gt;\(n\times n\)&lt;/span&gt; matrix instead of a number. 
So you write code
(especially for important projects and so on), 
you'd better avoid using these code which can introduce ambiguity. 
For example, 
instead of using &lt;span class="math"&gt;\(\boldU\'\boldV\)&lt;/span&gt;, 
we can use &lt;code&gt;sum(u*v)&lt;/code&gt;, 
then no matter what kind of vectors, 
either row vector (a matrix with one row in R) or column vector, 
&lt;code&gt;u&lt;/code&gt; and &lt;code&gt;v&lt;/code&gt; are, 
we will always get the right answer.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are many ways to construct a vectors 
(double, character and so on) with a given length in R. 
To construct a list with a given length, 
there are two ways. 
The first way is to first construct a vector of the given length 
and coerce it to a list using &lt;code&gt;as.list&lt;/code&gt;.
For example, 
you can use &lt;code&gt;as.list(rep(0,3))&lt;/code&gt; to construct a list with length 3 in R. 
The other way is to using &lt;code&gt;vector&lt;/code&gt;. 
For example &lt;code&gt;vector("list",3)&lt;/code&gt; constructs a list of length 3 
with all elements being &lt;code&gt;NULL&lt;/code&gt; for you.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you have a list called &lt;code&gt;myList&lt;/code&gt; 
and you use &lt;code&gt;is.vector(myList)&lt;/code&gt; to check whether it is a vector of not, 
you will get a result &lt;code&gt;TRUE&lt;/code&gt;.
This is not surprising, 
because a list in R is actually a vector with mode &lt;code&gt;list&lt;/code&gt;. 
The default value of option &lt;code&gt;mode&lt;/code&gt; in &lt;code&gt;is.vector&lt;/code&gt; is &lt;code&gt;any&lt;/code&gt;, 
that is why you get the answer &lt;code&gt;TRUE&lt;/code&gt; for the code &lt;code&gt;is.vector(myList)&lt;/code&gt;. 
The usual vectors we talk about are vectors of &lt;code&gt;numeric&lt;/code&gt;, &lt;code&gt;character&lt;/code&gt; and so on. 
So to check whether an R object is a usual sense vector (i.e. not a list), 
you can code like &lt;code&gt;is.vector(myList,"numeric")&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In many situations a vector is equivalent to a matrix with 1 row/column. 
However, there's difference between them. 
The fundamental difference is that they are of different data types. 
So for many functions, 
if you pass a vector to it you get vector, 
and if you pass a matrix with (1 row/column) to it you get a matrix (with 1 row/column).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A null data frame for column combination operation 
is a data frame/matrix 
(Strictly speaking, 
the null data frame is data frame, 
but an empty matrix can be coerced to an empty data frame.
) with 0 column 
(use &lt;code&gt;matrix(nrow=n,ncol=0)&lt;/code&gt; 
to generate a matrix with 0 column) 
and the same number of rows with data frames involved in the operation. 
Similarly, 
a null data frame for row combination operation is a data frame 
with 0 row and the same number of columns 
with data frames involved in the operation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A convenient and efficient way to repeat rows of a matrix/data frame is to extract rows repeatedly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;nlevels&lt;/code&gt; returns the number of levels of a factor, 
which is equivalent to &lt;code&gt;length(levels(aFactor))&lt;/code&gt;. 
However, 
the former way is faster and more convenient than the later one.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;good idea to pass column names if data format is not consistent
also applies to other programming languages&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A very tricky problem: R silently coerce data between different types if needed, 
this is again proved to be a very bad idea. 
For example integers and boolean value, in your problem, that's very bad ...
actually this might not because of the silent coerce problem, 
[] as a function might takes different arguments, the problem is that R never checks type of argument,
this is error-prone,
in future, you should pay extra attension to [], never mix different types ... 
a safe is to alway check the type in the function which is tedious ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;mixing integers and row names is a bad idea ...
if you pass integers as rownames ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In R, max/min, etc. does not keep matrix structure.
If you want to keep matrix structure, use &lt;code&gt;ifelse&lt;/code&gt; instead.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;cbind, specify colnames
cbind(x, Scenario=T)
cbind(x, "name with space"=T)
similarly for rbind&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="programming"></category><category term="list"></category><category term="data structure"></category><category term="container"></category><category term="matrix"></category><category term="vector"></category><category term="R"></category><category term="CRAN"></category></entry><entry><title>Tips About Rcpp</title><link href="http://www.legendu.net/misc/blog/rcpp-tips/" rel="alternate"></link><published>2016-07-09T18:53:10-07:00</published><updated>2016-07-09T18:53:10-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-09:/misc/blog/rcpp-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The trick of using a macro &lt;code&gt;NORCPP&lt;/code&gt; to indicate 
whether you are using the code in Rcpp.
This makes it …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The trick of using a macro &lt;code&gt;NORCPP&lt;/code&gt; to indicate 
whether you are using the code in Rcpp.
This makes it easier to using the code both natively and in Rcpp
and makes it easier to debug the code.
You have to use the option &lt;code&gt;-D NORCPP&lt;/code&gt; when compiling the code natively using &lt;code&gt;g++/clang++&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The Armadillo package is more conveinient to use 
than &lt;code&gt;NumericVector&lt;/code&gt;, &lt;code&gt;NumericMarix&lt;/code&gt;, etc. when using Rcpp.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rcpp doesn't have a uniform integer generator curently, 
someone is working on sample equivalence currently. 
You can use &lt;code&gt;runif&lt;/code&gt; to achive what you want.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I think you misunderstood &lt;code&gt;Rcpp::sugar&lt;/code&gt;, 
I think vectorized version functions return &lt;code&gt;NumericVector&lt;/code&gt;, 
it is just that they can be silently converted &lt;code&gt;arma::rowvec&lt;/code&gt; and so on ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rcpp make vectorized version of random number generation functions, 
however these with prefix &lt;code&gt;Rf_&lt;/code&gt; is non-vectorized. 
They are functions coming from &lt;code&gt;Rmath.h&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you alwasy prefixed functions 
with their namespaces when using Rcpp. 
Without prefixed namespaces,
function name conflictions happen a lot
(e.g., &lt;code&gt;std::abs&lt;/code&gt; and &lt;code&gt;Rcpp::abs&lt;/code&gt;) 
And when this happens, 
it is very tricky and very hard to debug.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;RNGScope&lt;/code&gt; easy to forget, 
the default seed no randomization at all if you do not use it ... 
so it is the first to check if you find some thing wrong with your randomization code. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rcpp does not have bool equivalent. 
Use integers (0 and 1) instead.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It seems that type is not a big deal for Rcpp, 
because &lt;code&gt;as&amp;lt;type&amp;gt;&lt;/code&gt; takes care of it.
If you pass an object which is not exactly the required type, 
Rcpp tries cast it to the right type.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;One way to avoid terminating R becuase of DLL problem by Rcpp 
is to remove all related object every time you restart R. 
Or if there is a better way to check this?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;but you should check source code of &lt;code&gt;rnorm&lt;/code&gt; in Rcpp to see what they used ...
&lt;code&gt;Rf_pnorm&lt;/code&gt; not defined either
Rcpp, don't use functions with same names as r functions, 
potentially C functions, confliction ...
&lt;code&gt;Rf_qbeta&lt;/code&gt;, parameters can be inferred from R documentation
problem of &lt;code&gt;Rf_qnorm&lt;/code&gt;? not definied? what the heck&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="tips"></category><category term="programming"></category><category term="Rcpp"></category><category term="C++"></category><category term="CRAN"></category></entry><entry><title>Tips About C++</title><link href="http://www.legendu.net/misc/blog/cpp-tips/" rel="alternate"></link><published>2016-07-09T18:26:47-07:00</published><updated>2016-07-09T18:26:47-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-09:/misc/blog/cpp-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="ide"&gt;IDE&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Vim with the YouCompleteMe and UltiSnips plugins is a sweet choice for C++ IDE.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Eclispe CDT is a good …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="ide"&gt;IDE&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Vim with the YouCompleteMe and UltiSnips plugins is a sweet choice for C++ IDE.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Eclispe CDT is a good IDE for C/C++ development in Unix/Linux sytem. 
Configuration of Eclipse CDT in Windows system is not pleasant. 
Netbeans and code::blocks are good alternatives in Windows system.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="tips"&gt;Tips&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;For situations where &lt;code&gt;++i;&lt;/code&gt; and &lt;code&gt;i++;&lt;/code&gt; (similar for &lt;code&gt;--i&lt;/code&gt; and &lt;code&gt;i--&lt;/code&gt;) can both be used, 
you'd better your use the first one. 
This is becuase &lt;code&gt;++i;&lt;/code&gt; is usually more efficient than &lt;code&gt;i++;&lt;/code&gt;
especially when &lt;code&gt;i&lt;/code&gt; is not of primitive type but some complex object. 
Modern compilers might optimize the latter one to be as efficient as the former one, 
but it never hurt to use the former one.
You should be very careful when you use either &lt;code&gt;++i&lt;/code&gt; or &lt;code&gt;i++&lt;/code&gt; in your code. 
Both these two expressions change the value of i. 
So if &lt;code&gt;++i&lt;/code&gt; or &lt;code&gt;i++&lt;/code&gt; is used and &lt;code&gt;i&lt;/code&gt; appears more than once in an expression, 
you'd better thining twice. 
My suggestion is to simply avoid these situations. 
Do not wirte code that is difficult to read and understand.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Prefer functions/methods with fewer arguments. 
If a function/method has many arguments, 
it is suggested that you group related arguments into a single argument.
This make the function/method easier to understand. 
For example, 
if a function/method takes two double arguments which are 
the x and y coordinate of a point, you can group them into a pair of doubles.
This does not make the function/method more convenient to use 
(in the sense of saveing typing), 
but the code will usually be more readable. 
Also, 
when you write a class, 
it is recommended that you group related member variables into a single struct. 
For example, 
you can group all temporary variables 
(variables do not need constructors to offer initializing values) into a single struct.
This not only makes the code more readable but also make it 
easier to write copy and move constructors.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Instead of letting a method return &lt;code&gt;void&lt;/code&gt;, 
you can return a reference to current object.
This make is possible to write "chained" code and thus more convenient. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="error-and-exceptions"&gt;Error and Exceptions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;the error of no convertion from &lt;code&gt;T *&lt;/code&gt; to &lt;code&gt;T&lt;/code&gt;, 
this is probably because of const modifier, 
the const modifier make cause lots of hard to understanding errors ... 
basically it say some method is not found ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When error happens and you do not want to throw exceptions, 
you can use &lt;code&gt;std::cerr&lt;/code&gt; to print out error message and then use &lt;code&gt;exit&lt;/code&gt;
to stop the program.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;C++ does not allow multiple types in one auto statement 
similar to non-auto declarations.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="design"&gt;Design&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If the definition of a class X does not explicitly declare a move constructor, 
one will be implicitly declared as defaulted if and only if&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="n"&gt;does&lt;/span&gt; &lt;span class="k"&gt;not&lt;/span&gt; &lt;span class="n"&gt;have&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;user&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;declared&lt;/span&gt; &lt;span class="k"&gt;copy&lt;/span&gt; &lt;span class="k"&gt;constructor&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt;

&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="n"&gt;does&lt;/span&gt; &lt;span class="k"&gt;not&lt;/span&gt; &lt;span class="n"&gt;have&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;user&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;declared&lt;/span&gt; &lt;span class="k"&gt;copy&lt;/span&gt; &lt;span class="k"&gt;assignment&lt;/span&gt; &lt;span class="k"&gt;operator&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;

&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="n"&gt;does&lt;/span&gt; &lt;span class="k"&gt;not&lt;/span&gt; &lt;span class="n"&gt;have&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;user&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;declared&lt;/span&gt; &lt;span class="k"&gt;move&lt;/span&gt; &lt;span class="k"&gt;assignment&lt;/span&gt; &lt;span class="k"&gt;operator&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;

&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="n"&gt;does&lt;/span&gt; &lt;span class="k"&gt;not&lt;/span&gt; &lt;span class="n"&gt;have&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;user&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;declared&lt;/span&gt; &lt;span class="k"&gt;destructor&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt;

&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="k"&gt;move&lt;/span&gt; &lt;span class="k"&gt;constructor&lt;/span&gt; &lt;span class="n"&gt;would&lt;/span&gt; &lt;span class="k"&gt;not&lt;/span&gt; &lt;span class="n"&gt;be&lt;/span&gt; &lt;span class="n"&gt;implicitly&lt;/span&gt; &lt;span class="k"&gt;defined&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;deleted&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;not a good idea to define function/methods with the same name as those in std&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;do not overload functions unless absolutely necessary especially 
when you are wrint private methods ... 
overload brings convenience for public interface 
but can easily casues troubles ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You cannot use &lt;code&gt;using namespace std;&lt;/code&gt; inside a class definition. 
A way to circumambulate this is to put the class definition in a namespace 
and then declare "using namespace std;" in the namespace. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A funny code of using auto together with uniform initialization list. 
I thought it is ... but GCC does not. 
I think GCC is right. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;passing a method to a thread is different from passing a function to a thread, 
because you have to also pass this pointer as an argument ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;the standard library has many useful and powerful functions. 
However, theses functions are designed for general purpose, e.g., the algorithms library.
Many of these functions takes iterator as arguments. 
This is not very convenient to use and make the code hard to understand. 
A good practice is to define helper functions that take contains as arguments. 
This makes your code shorter and thus eaiser to understand.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="libraries"&gt;Libraries&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;about libraries for math special functions and statistical distributions:
I do not boost is very good at this part, especially for statistical distributions. 
very often, we need log likelihood, so an option for log is important for statistical related functions.
what is more requring object in order to calculate statistical quantities sounds like a bad idea.
this can be inefficient, epecially when generating random numbers with varying parameters.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;when compiling armadillo, you must link it using -larmadillo &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;C++ is hard is partly become you try to write the smartest code when you coding in C++.
You focus on write good code, not accomplish your task. 
You should learn to develop fast, first do not care too much about performance, but keep structure clean.
if the code does not run as fast as required, then come back to optimize it ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="algorithms"&gt;Algorithms&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;when writing c++ code, 
it is nature to write loops, 
but you should always thinking about whether there are non-loop version, this might you develop faster ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Functions in &lt;code&gt;&amp;lt;algorithm&amp;gt;&lt;/code&gt; are very useful 
and they make it easier and more conveneint to write code. 
However, 
sometimes it can be more convenient, 
concise and efficient (both time and memory) 
to write code by yourself rather than using functions in &lt;code&gt;&amp;lt;algorithm&amp;gt;&lt;/code&gt;. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;the implementation of std::includes is not good, 
it does not use size to decide ... 
note that duplicated elements are allowed ....&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="io"&gt;IO&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;operator&amp;lt;&amp;lt;&lt;/code&gt; method of &lt;code&gt;stream&lt;/code&gt; is for writing formated text 
while the 'write' method of &lt;code&gt;stream&lt;/code&gt; is for writing binary data.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do not use the &lt;code&gt;eof&lt;/code&gt; method of ifstream, instead, use the &lt;code&gt;fail&lt;/code&gt; method.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sizeof&lt;/code&gt; works for both type and variable, 
variable is recommended as a rule of thumb because you migth changed the type of the variable &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;istream_iterator&lt;/code&gt; and istringstream only take white space (or just space?) as delimiter&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;static_assert&lt;/code&gt; compile time check&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;though it is considered C style to pass a ouput variable to function 
and it is recommended to take advantage of the move functionality in C++, 
it is sometimes make things more convenient to pass output variable (e.g., contains) to a function, 
also this is alwasy efficient
This technic is really helpful if you want to share an object among multiple calls.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;std::distance distance between iterators, pointers and so on&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="coding-style"&gt;Coding Style&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Use headers of the style &lt;code&gt;&amp;lt;header&amp;gt;&lt;/code&gt; instead of &lt;code&gt;&amp;lt;header.h&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Avoid using &lt;code&gt;using namespace std&lt;/code&gt;, etc., in your code.
It is suggested that you always write the namespaces.
However, it is OK to use &lt;code&gt;using std::cout;&lt;/code&gt;, etc., in a function scope
if you found writing the namespace prefix to be verbosal.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Many C++ programmer likes to use short variable/function/member names 
to make their code more concise. 
However, I think readability and rigorous is more important than conciseness. 
It is suggested that you use (long) meaning names for variables/functions/members.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Generally speaking, it is a bad practice to always use &lt;code&gt;i&lt;/code&gt;, &lt;code&gt;j&lt;/code&gt;, etc., as loop variable. 
It increases the chance of overwriting outer loop variables. 
It is suggested that you use more meaningful loop variables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It suggested that you keep each function/method as small as possible. 
This has tremendous advantages.
First, 
it makes your tasks small and clear and thus easy to implement. 
Second, 
it makes variable naming easier as naming confliction is less likely to happen.
Last but not least,
it reduces the chances of bugs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;when you use nested loop, be careful about loop varialbes, 
do not use conflict varables ...
it suggested that you not to use nested loops, 
but instead to use functions to replace inner loops ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;cannot shift equal or more than the width of type, 
a way to overcome this problem is to shift twice&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;do not do premature optimization!!!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;do not try to be too smart, 
letting users to supply parameters that are legal can make your program simpler and faster. 
this is generally speaking how STL is implemented.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;when you want to fork/modify original code, 
do not do too much at once.
do it little by little, commit often and debug often &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;computation error does not come from calculating but from storing numbers. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;NRVO: return type is the same as declared type, no need to use move manually&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="random-number-generator"&gt;Random Number Generator&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;You'd better use only one global base random number generator (e.g., Mersenne Twister)
unless you have good reasons not to do this.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="some-concepts"&gt;Some Concepts&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Argument Dependent Looup (ADL)/Koenig Lookup&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Template Argument Deduction&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="debug"&gt;Debug&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;mostly non-logical (i.e., not algorithm related) bugs are due to container operations, 
be careful!!!  &lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="lambda-functions"&gt;Lambda Functions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;you can save the definition of a lambda function for use later auto f = &lt;a href=""&gt;&lt;/a&gt; ...&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="containerscollections"&gt;Containers/Collections&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;at vs [] const ...
Use &lt;code&gt;at&lt;/code&gt; instead of &lt;code&gt;operator[]&lt;/code&gt; if you want a const reference.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it sounds like that working on list: do not use const iterator, ....&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Avoid using &lt;code&gt;arrays&lt;/code&gt; in C++. 
Use &lt;code&gt;vectors&lt;/code&gt; instead. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In C++, a 1-dimensional array is equivalent to a pointer. 
For example,
if we have definition &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        int a&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;then &lt;code&gt;a&lt;/code&gt; can be treated as a pointer to integers. 
However, a 2-dimensional array in C/C++ is not the same as a pointer to pointers. 
For example, if we have definition &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        int a&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;then &lt;code&gt;a&lt;/code&gt; is not of the same type as &lt;code&gt;int **&lt;/code&gt;. 
As a matter of fact, &lt;code&gt;int **&lt;/code&gt; is an array of pointers to integers. 
If you pass you a 2-dimensional integer array to a function which requires an
&lt;code&gt;int **&lt;/code&gt; parameter, 
the compiler will complain.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that 
you always traverse a container using an interator instead of an (integer) index
unless (integer) index is absolutely necessary. 
Traverse a container with (integer) index is error-prone.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Prefer iterating containings using iterators. 
Iterating containings using an integer index variable can possible cause several problems. 
First, integer index based iterating makes the code less portable. 
Second, integer index based iterating might cause overflow problems.
Due to the second reason, 
if you do want to use an integer index variable (e.g., i) to iterate a container (e.g., c), 
you'd better check boundry conditions by &lt;code&gt;if(i&amp;lt;0 || i&amp;gt;=c.size()) ...&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The default capacity of a std::vector is 0. 
You can initialize a vector with a given capacity and you can resize a vector.
The default number of bucket for a hash table in the standard library 
(e.g., &lt;code&gt;unordered_map&lt;/code&gt; and &lt;code&gt;unordered_set&lt;/code&gt;) is 23.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;a big trap in C++ is invalidation of iterators, 
you should be very careful about this
in STL, 
you use take advantage of the returned iterator of the method erase, 
(list, e.g. &lt;code&gt;import&lt;/code&gt;, for &lt;code&gt;set&lt;/code&gt;, &lt;code&gt;vector&lt;/code&gt; thought there are better ways, 
list must use return result of erase ...), 
boost::graph, 
it seems that removing edges invadate parent iterators ... not sure, 
the documentation is not clear. 
A way to overcome this problem is to first save the parent vertices in a container. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;set&lt;/code&gt; container returns only &lt;code&gt;constant_iterator&lt;/code&gt; (even if it has both begin/end and cbegin/cend).&lt;br&gt;
This means that you cannot change the value of elements of a set via iterator.
However, you can add/remove elements to/from a set.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="erase-remove-idiom"&gt;erase-remove idiom&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Among all STL containers, only list and forward_list has methods remove/remove_if.
Other contains have to use the function std::remove/std::remove_if to remove elements.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You probably wonder that why the list and forward_list containers have the method remove/remove_if
since they already have the erase method. 
It turns out to be that remove and remove_if doesn't remove anything from a container. 
They just move elements to remove to the end of the container. 
You need to use &lt;code&gt;erase&lt;/code&gt; to erase these elements to be removed (at the end of the container).
This is called the erase-remove idiom 
and is well explained on &lt;a href="http://en.wikipedia.org/wiki/Erase%E2%80%93remove_idiom"&gt;Wiki&lt;/a&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The Erase-remove idiom cannot be used for containers that return &lt;code&gt;const_iterator&lt;/code&gt; (e.g., set).&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="data-types"&gt;Data Types&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;subtraction between unsigned integers are well defined, 
however, you should be very careful about this!!!
by default, the returned type is still unsigned int!!!
It is suggested that you avoid using unsigned integers.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;you should avoid subtraction between unsigned integers, 
though the result is well defined, 
the behavor depends on type casting and so on and can make your code break
so &lt;code&gt;0U - 1U&lt;/code&gt; is still an unsigned integer which is maximum value of unsigned integer.
you have cast the results explicitly/implicityly, if you want an integer instead
avoid arithmetic operations on &lt;code&gt;size_t&lt;/code&gt; variables ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it is generally speaking not a good idea to shift signed integers &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do not mixing unsigned integers and signed integers in your code
as it is a very bad practice.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;C++11 supports specail values such as &lt;code&gt;nan&lt;/code&gt; and &lt;code&gt;inf&lt;/code&gt;, etc. 
be careful with you do numerical computing with them ... 
epscially when you use logical comparison envolve &lt;code&gt;nan&lt;/code&gt; ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="move-and-forward"&gt;Move and Forward&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Do not declare objects const if want to move from them.
Applying &lt;code&gt;std::move&lt;/code&gt; on a const object copies the object.
&lt;code&gt;std::move&lt;/code&gt; is essentially cast and &lt;code&gt;std::forward&lt;/code&gt; is essentially conditional cast.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Using &lt;code&gt;std::move&lt;/code&gt; does not guarantee anything will be moved.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;T&amp;amp;&amp;amp;&lt;/code&gt; in template means universal reference or perfect forwarding, it binds everything
but how about &lt;code&gt;T&amp;amp;&amp;amp;&lt;/code&gt; where &lt;code&gt;T&lt;/code&gt; is not a template parameter? 
My question is that is it necessary to overload &lt;code&gt;const T &amp;amp;&lt;/code&gt;?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="tips"></category><category term="programming"></category><category term="C++"></category><category term="cpp"></category></entry><entry><title>Filesystem in R</title><link href="http://www.legendu.net/misc/blog/filesystem-in-r/" rel="alternate"></link><published>2016-07-06T21:25:28-07:00</published><updated>2016-07-06T21:25:28-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-07-06:/misc/blog/filesystem-in-r/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;dirname&lt;/code&gt; returns the parent folder of a file or directory, 
and &lt;code&gt;basename&lt;/code&gt; return the name (without the parent folder) of …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;dirname&lt;/code&gt; returns the parent folder of a file or directory, 
and &lt;code&gt;basename&lt;/code&gt; return the name (without the parent folder) of the file or directory.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;file.path&lt;/code&gt; joins path components into one path. 
It works similar to &lt;code&gt;paste&lt;/code&gt; which concatenates strings to a single one, 
but it is platform independent.
The following code get the full path of the file &lt;code&gt;1.txt&lt;/code&gt; in the current working directory.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;file.path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;getwd&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;file.path&lt;/code&gt; does not handle the leading/trailing forward/backword slash(es) well,
but this does not matter as the result is still a valid Linux-style path.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nf"&gt;file.path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;C:/Study/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;1.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;[1]&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;C:/Study//1.txt&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The author of this blog has a package named &lt;code&gt;dclong.fs&lt;/code&gt;
which contains a function &lt;code&gt;join_path&lt;/code&gt; 
that can handle leading/trailing forward/backword slash(es) nicely.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There are many useful functions in R 
which provide low-level interface to the computer's file and directory system, 
e.g., &lt;code&gt;file.create&lt;/code&gt;, &lt;code&gt;file.exists&lt;/code&gt; and &lt;code&gt;dir.create&lt;/code&gt; and so on. 
If a function for manipulating directories is missing, 
it is probably the same as the function for manipulating files, 
e.g. function &lt;code&gt;file.rename&lt;/code&gt; can also be used to rename a directory.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;file.info&lt;/code&gt; returns the information of files and directories. 
The "isdir" column of the resulting data frame indicates whether a path stands for a file or a directory. 
For example,&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nf"&gt;file.info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="n"&gt;isdir&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;               &lt;span class="n"&gt;mtime&lt;/span&gt;               &lt;span class="n"&gt;ctime&lt;/span&gt;
&lt;span class="n"&gt;. &lt;/span&gt;   &lt;span class="m"&gt;0&lt;/span&gt;  &lt;span class="kc"&gt;TRUE&lt;/span&gt;  &lt;span class="m"&gt;777&lt;/span&gt; &lt;span class="m"&gt;2011-11-07&lt;/span&gt; &lt;span class="m"&gt;22&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;26&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;38&lt;/span&gt; &lt;span class="m"&gt;2011-10-20&lt;/span&gt; &lt;span class="m"&gt;17&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;14&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;41&lt;/span&gt;
                &lt;span class="n"&gt;atime&lt;/span&gt; &lt;span class="n"&gt;exe&lt;/span&gt;
&lt;span class="n"&gt;. 2011&lt;/span&gt;&lt;span class="m"&gt;-11-07&lt;/span&gt; &lt;span class="m"&gt;22&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;33&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;37&lt;/span&gt;  &lt;span class="n"&gt;no&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Notice that &lt;code&gt;file\_test&lt;/code&gt; can also be used to check whether a path is a file or a directory. 
For example,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nf"&gt;file_test&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;-f&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;[1]&lt;/span&gt; &lt;span class="kc"&gt;FALSE&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Often times, one need to use temporary files. &lt;code&gt;tempfile&lt;/code&gt; returns a
vector of character strings which can be used as names for temporary
files. By default the temporary file is created in a temporary
directory returned by &lt;code&gt;tempdir&lt;/code&gt;. For example (the following results
is platform dependent),&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nf"&gt;tempdir&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;[1]&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;C:\\Users\\adu\\AppData\\Local\\Temp\\Rtmp55KGaO&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nf"&gt;tempfile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;output.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;[1]&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;C:\\Users\\adu\\AppData\\Local&lt;/span&gt;
&lt;span class="s"&gt;\\Temp\\Rtmp55KGaO\\output.txt122935c&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="excel"&gt;Excel&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Write hyper link into excel (using &lt;code&gt;write.xlsx&lt;/code&gt;) does not work well. 
One workaround is to write the same content into a CSV file (using write.csv).
The hyper links work when you open the CSV file in Excel.
You can then save an Excel copy if really want a Excel spreadsheet.&lt;/li&gt;
&lt;/ol&gt;</content><category term="R"></category><category term="filesystem"></category><category term="programming"></category><category term="CRAN"></category><category term="file system"></category></entry><entry><title>Set Operations on Lines of Files</title><link href="http://www.legendu.net/misc/blog/set-operations-on-lines-of-files/" rel="alternate"></link><published>2016-06-14T02:12:06-07:00</published><updated>2016-06-14T02:12:06-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-14:/misc/blog/set-operations-on-lines-of-files/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;union of lines in 2 files&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;comm f1 f2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Or you can use&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat f1 f2 &lt;span class="p"&gt;|&lt;/span&gt; sort -u
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Show symmetric …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;union of lines in 2 files&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;comm f1 f2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Or you can use&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat f1 f2 &lt;span class="p"&gt;|&lt;/span&gt; sort -u
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Show symmetric difference &lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;comm -3 file1 file2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Show difference of 1 and 2&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;comm -23 file1 file2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Or you can use if both files contain unique lines&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat f1 f2 f2 &lt;span class="p"&gt;|&lt;/span&gt; sort &lt;span class="p"&gt;|&lt;/span&gt; uniq -u
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that lines in files must be sorted first if you use the command &lt;code&gt;comm&lt;/code&gt;.
To sort lines in a file, 
you can use the following command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sort file -o file
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="set operations"></category><category term="file"></category><category term="lines"></category><category term="sort"></category><category term="uniq"></category><category term="comm"></category><category term="shell"></category></entry><entry><title>String Functions in VBA</title><link href="http://www.legendu.net/misc/blog/string-functions-in-vba/" rel="alternate"></link><published>2016-06-14T02:09:22-07:00</published><updated>2016-06-14T02:09:22-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-14:/misc/blog/string-functions-in-vba/</id><summary type="html">&lt;p&gt;Things on this page are 
fragmentary and immature notes/thoughts of the author.
It is not meant to readers 
but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;h2 id="string-repeating-functions"&gt;String Repeating Functions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;string(12, "*") can only repeat character&lt;/li&gt;
&lt;li&gt;space(12) 12 spaces&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="substring-functions"&gt;Substring Functions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;left&lt;/li&gt;
&lt;li&gt;right&lt;/li&gt;
&lt;li&gt;mid&lt;/li&gt;
&lt;li&gt;InStr([start …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;Things on this page are 
fragmentary and immature notes/thoughts of the author.
It is not meant to readers 
but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;h2 id="string-repeating-functions"&gt;String Repeating Functions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;string(12, "*") can only repeat character&lt;/li&gt;
&lt;li&gt;space(12) 12 spaces&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="substring-functions"&gt;Substring Functions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;left&lt;/li&gt;
&lt;li&gt;right&lt;/li&gt;
&lt;li&gt;mid&lt;/li&gt;
&lt;li&gt;InStr([start], string, substring, [compare]), 0 is returned is not found&lt;/li&gt;
&lt;li&gt;InstrRev&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="string-manipulation"&gt;String Manipulation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ltrim&lt;/li&gt;
&lt;li&gt;rtrim&lt;/li&gt;
&lt;li&gt;trim&lt;/li&gt;
&lt;li&gt;lcase&lt;/li&gt;
&lt;li&gt;ucase&lt;/li&gt;
&lt;li&gt;replace&lt;/li&gt;
&lt;li&gt;strconv&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="special-characters"&gt;Special Characters&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;vbcrlf&lt;/li&gt;
&lt;li&gt;vbcr&lt;/li&gt;
&lt;li&gt;vblf&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="conversion"&gt;Conversion&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;val&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="VBA"></category><category term="string"></category><category term="character"></category></entry><entry><title>Advanced Data Structures in VBA</title><link href="http://www.legendu.net/misc/blog/advanced-data-structures-in-vba/" rel="alternate"></link><published>2016-06-14T02:09:10-07:00</published><updated>2016-06-14T02:09:10-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-14:/misc/blog/advanced-data-structures-in-vba/</id><summary type="html">&lt;p&gt;Things on this page are 
fragmentary and immature notes/thoughts of the author.
It is not meant to readers 
but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;h2 id="dictionaryhashtable"&gt;Dictionary/Hashtable&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Set a reference to MS Scripting runtime&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;dict&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;CreateObject&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;Scripting.Dictionary&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="n"&gt;Dim&lt;/span&gt; &lt;span class="n"&gt;dict&lt;/span&gt; &lt;span class="k"&gt;As&lt;/span&gt; &lt;span class="k"&gt;New&lt;/span&gt; &lt;span class="n"&gt;Scripting …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Things on this page are 
fragmentary and immature notes/thoughts of the author.
It is not meant to readers 
but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;h2 id="dictionaryhashtable"&gt;Dictionary/Hashtable&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Set a reference to MS Scripting runtime&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;dict&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;CreateObject&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;Scripting.Dictionary&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="n"&gt;Dim&lt;/span&gt; &lt;span class="n"&gt;dict&lt;/span&gt; &lt;span class="k"&gt;As&lt;/span&gt; &lt;span class="k"&gt;New&lt;/span&gt; &lt;span class="n"&gt;Scripting&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;Dictionary&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Example of use:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;If&lt;/span&gt; &lt;span class="nv"&gt;Not&lt;/span&gt; &lt;span class="nv"&gt;dict&lt;/span&gt;.&lt;span class="nv"&gt;Exists&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;key&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="k"&gt;Then&lt;/span&gt; 
    &lt;span class="nv"&gt;dict&lt;/span&gt;.&lt;span class="nv"&gt;Add&lt;/span&gt; &lt;span class="nv"&gt;key&lt;/span&gt;, &lt;span class="nv"&gt;value&lt;/span&gt;
&lt;span class="k"&gt;End&lt;/span&gt; &lt;span class="k"&gt;If&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Don't forget to set the dictionary to Nothing when you have finished using it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;dict&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;Nothing&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="your-own-data-structure"&gt;Your Own Data Structure&lt;/h2&gt;
&lt;p&gt;You can define your own type in VBA.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="n"&gt;Dim&lt;/span&gt; &lt;span class="n"&gt;numbers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;New&lt;/span&gt; &lt;span class="nb"&gt;Integer&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;Dim&lt;/span&gt; &lt;span class="n"&gt;doubles&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;Dim&lt;/span&gt; &lt;span class="n"&gt;myarray&lt;/span&gt; &lt;span class="k"&gt;As&lt;/span&gt; &lt;span class="n"&gt;Variant&lt;/span&gt;
    &lt;span class="n"&gt;myarray&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;Array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;Cat&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;Dog&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;Rabbit&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="VBA"></category><category term="data structure"></category><category term="dictionary"></category></entry><entry><title>Count Number of Fields in Each Line</title><link href="http://www.legendu.net/misc/blog/count-number-of-fields-in-each-line/" rel="alternate"></link><published>2016-06-13T23:08:03-07:00</published><updated>2016-06-13T23:08:03-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-13:/misc/blog/count-number-of-fields-in-each-line/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Do not assume that structured text file are always in correct format.
So often want to count the number of …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Do not assume that structured text file are always in correct format.
So often want to count the number of fields in each line in a text file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;awk &lt;span class="s1"&gt;&amp;#39;{print NF}&amp;#39;&lt;/span&gt; filename
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Unfortunately, awk does not take escaped characters into consideration.
So this only works for simple formatted (without escaped characters) text files.&lt;/p&gt;
&lt;p&gt;There is a function named &lt;code&gt;count.field&lt;/code&gt; in R.&lt;/p&gt;</content><category term="programming"></category><category term="data manipulation"></category><category term="R"></category><category term="awk"></category><category term="number"></category><category term="field"></category><category term="text file"></category></entry><entry><title>Graphics in R</title><link href="http://www.legendu.net/misc/blog/graphics-in-r/" rel="alternate"></link><published>2016-06-11T18:28:16-07:00</published><updated>2016-06-11T18:28:16-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-11:/misc/blog/graphics-in-r/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;par("din")&lt;/code&gt; gets the dimension 
(i.e. width and height) of the graphics device.
If no graphics device has been …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;par("din")&lt;/code&gt; gets the dimension 
(i.e. width and height) of the graphics device.
If no graphics device has been open, 
it opens a new one.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To force a plot to have a fixed aspect ratio, 
you can use option &lt;code&gt;asp=aspRatio&lt;/code&gt; in plotting function. 
For example, &lt;code&gt;plot(x, y, asp=1)&lt;/code&gt; makes a scatter plot with aspect ratio 1. 
This is helpful when you do not want a plot to get stretched.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;title&lt;/code&gt; adds titles and axes labels for an existing plot,
so if you forget to specify a title 
or axes labels when you use produce a plot, 
you can use &lt;code&gt;title&lt;/code&gt; to add them into the plot
instead of producing a new plot 
(sometimes it is very time-consuming to produce a plot, 
e.g., when you analyze gene data.). 
&lt;code&gt;legend&lt;/code&gt; adds legends for an existing plot. 
For example, see the code which produces the following image (need to add title).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="image" src="./res/title-legend.pdf"&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Functions &lt;code&gt;pdf&lt;/code&gt; and &lt;code&gt;postscript&lt;/code&gt; starts the graphics device driver 
for producing &lt;code&gt;pdf&lt;/code&gt; and &lt;code&gt;ps&lt;/code&gt; graphics respectively, 
which are vectorgraph. 
Similarly, &lt;code&gt;jpeg&lt;/code&gt;, &lt;code&gt;bmp&lt;/code&gt;, &lt;code&gt;png&lt;/code&gt; and &lt;code&gt;tiff&lt;/code&gt; start graphics device driver 
for producing &lt;code&gt;jpeg&lt;/code&gt;, &lt;code&gt;bmp&lt;/code&gt;, &lt;code&gt;png&lt;/code&gt; and &lt;code&gt;tiff&lt;/code&gt; graphics, 
which are bitmaps.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are several ways 
to divide a window device to sub window devices (to make plots on them). 
First, you can use &lt;code&gt;par&lt;/code&gt;,
e.g. to divide a window device to &lt;span class="math"&gt;\(2\times3\)&lt;/span&gt; sub window devices, 
you can use &lt;code&gt;par(mfrow=c(2,3))&lt;/code&gt; or  &lt;code&gt;par(mfcol=c(2,3))&lt;/code&gt;. 
The difference between them is the first one display plots by rows 
while the second one display plots by columns. 
Second, 
you can use &lt;code&gt;layout{graphics}&lt;/code&gt;, 
e.g. to divide a window device to two parts vertically 
and then further divide the bottom part into two horizontal parts, 
you can use &lt;code&gt;layout(matrix(c(1,2,1,3)))&lt;/code&gt;. 
Same values in the matrix stand for the same area, 
and they also stand for the order they get used 
among all the sub window devices. 
Third,
you can use &lt;code&gt;split.screen&lt;/code&gt;, 
e.g., 
to achieve what we did using &lt;code&gt;layout&lt;/code&gt;, 
you can use the following command&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;split.screen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nf"&gt;split.screen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To make a plot on sub window device generated by &lt;code&gt;split.screen&lt;/code&gt;, 
you must first active it. 
If you use functions in &lt;code&gt;lattice&lt;/code&gt;, 
you will find that these basically ignore all these 3 functions. 
&lt;code&gt;lattice&lt;/code&gt; has its own way to split window devices. 
To do this, 
you have first save plots made by functions in &lt;code&gt;lattice&lt;/code&gt;, 
and then print these plot at appropriate locations using the generic &lt;code&gt;print&lt;/code&gt;. 
For example, 
the following code make two plots using functions in &lt;code&gt;lattice&lt;/code&gt;, 
and then using &lt;code&gt;print&lt;/code&gt; to display them vertically.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;px1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;histogram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;rnorm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;px2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;bwplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;rnorm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="c1"&gt;# arrange the 2 plots vertically&lt;/span&gt;
&lt;span class="nf"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;px1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;0.6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;more&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nf"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;px2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nf"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;0.4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The first 2 values and the last 2 (3rd and last) values of the option &lt;code&gt;position&lt;/code&gt; 
stand for x and y coordinates of the bottom-left and top-right corner, 
respectively,
of the panel to display the corresponding plot. 
Generally speaking, 
&lt;code&gt;par&lt;/code&gt; is most easy one to use, 
but it can only divide a window device into rectangular sub window devices, 
and you must make plots in the right order for them to show up at the right places;&lt;br&gt;
&lt;code&gt;layout&lt;/code&gt; is also easy to use. 
You can divide a window device into irregular shapes, 
but still you have to make plots in the right order 
to make them to show up at the right place;
&lt;code&gt;split.screen&lt;/code&gt; is not as convenient as &lt;code&gt;par&lt;/code&gt; and &lt;code&gt;layout&lt;/code&gt;, 
but you can divide a window device into irregular sub window devices and
make plot on any sub window device (by calling &lt;code&gt;screen&lt;/code&gt; first) whenever you want; 
perhaps it is most inconvenient to use &lt;code&gt;lattice&lt;/code&gt; to achieve the same purpose. 
You must use functions in &lt;code&gt;lattice&lt;/code&gt;, 
and you have to calculate positions for each sub window device 
and pass it to &lt;code&gt;print&lt;/code&gt;. 
But &lt;code&gt;lattice&lt;/code&gt; has some unique plotting functions 
and it uses more advanced technologies, 
you can reuse saved plots instead of replotting them every time. 
This is similar to how Mathematica handles graphics. 
My suggestion is that you never use &lt;code&gt;lattice&lt;/code&gt; for this kind of job unless necessary.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;plot&lt;/code&gt; is a generic function 
(actually many functions in R are generic functions), 
which be applied to many different types of objects in R.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Function &lt;code&gt;boxplot&lt;/code&gt; can make plot of different data sets without
using function par().&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Into order to recover to the default graph setting, we can save the
information of &lt;code&gt;par&lt;/code&gt; first and reuse it whenever we want to go back
to the default settings.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;points&lt;/code&gt; add points to a graph; &lt;code&gt;segments&lt;/code&gt; add segments to a graph.
Though these job can be done by &lt;code&gt;plot&lt;/code&gt;, these low level functions
are still useful.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Mathematica symbols can be used in title and labels of plots
using the &lt;code&gt;expression&lt;/code&gt; function. 
For example,&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xlab&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nf"&gt;expression&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;beta&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;We can use math expression when plot a graph. To do this, we just
need specify the corresponding label as &lt;code&gt;expression(expr)&lt;/code&gt;, where
"expr" is an appropriate expression in R. For example, if we want to
use Greek symbol &lt;span class="math"&gt;\(\alpha\)&lt;/span&gt;, we can specify "xlab=expression(alpha)".
Whenver we forget how to write mathematica expressions, we can type
in command "demo(plotmath)" which will display corresponding
expression in R for all kinds of math expressions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sna::gplot.arrow&lt;/code&gt; makes neat arrows.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;plot(..., type = "h")&lt;/code&gt; gives us needle plot&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;chull&lt;/code&gt; computes convex hull of a given set.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;dev.copy2pdf&lt;/code&gt; copies the graphics content on the current graphics
device to a pdf file.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You'd better use pdf with dev.off() to make plots, 
this is a universal way ...&lt;br&gt;
avoid problems when working on remote servers&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href="http://ggplot2.org/book/"&gt;ggplot2 Book&lt;/a&gt;&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="par"></category><category term="R"></category><category term="plot"></category><category term="graphics"></category><category term="programming"></category><category term="CRAN"></category><category term="visualization"></category></entry><entry><title>Data Table in R</title><link href="http://www.legendu.net/misc/blog/data-table-in-R/" rel="alternate"></link><published>2016-06-11T17:59:49-07:00</published><updated>2016-06-11T17:59:49-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-11:/misc/blog/data-table-in-R/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Avoiding mixing &lt;code&gt;data.table&lt;/code&gt; with &lt;code&gt;data.frame&lt;/code&gt; too much.&lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Avoiding mixing &lt;code&gt;data.table&lt;/code&gt; with &lt;code&gt;data.frame&lt;/code&gt; too much.&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="CRAN"></category><category term="R"></category><category term="data.table"></category><category term="data table"></category><category term="data.frame"></category><category term="data frame"></category></entry><entry><title>R Configuration</title><link href="http://www.legendu.net/misc/blog/R-configuration/" rel="alternate"></link><published>2016-06-11T17:53:43-07:00</published><updated>2016-06-11T17:53:43-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-11:/misc/blog/R-configuration/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can customize R libraries to use 
by puting a line &lt;code&gt;R_LIBS="path_to_library"&lt;/code&gt; in the &lt;code&gt;.Renviron&lt;/code&gt; file.
However, 
a tricky …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can customize R libraries to use 
by puting a line &lt;code&gt;R_LIBS="path_to_library"&lt;/code&gt; in the &lt;code&gt;.Renviron&lt;/code&gt; file.
However, 
a tricky thing is that if the specified path does not exist,
then it is ignored without any warning.
So sometimes you think have set up a customized library 
but it does not show up as expected. 
It is probably because you specified a incorrect path.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;R: update Renviron.site, not Renviron!!!&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="R"></category><category term="CRAN"></category><category term="configuration"></category><category term="settings"></category></entry><entry><title>Some Questions About R</title><link href="http://www.legendu.net/misc/blog/rcpp-questions/" rel="alternate"></link><published>2016-06-11T17:37:32-07:00</published><updated>2016-06-11T17:37:32-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-11:/misc/blog/rcpp-questions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;rstudio server, read.table('clipboard') does not work (clipboard not due to server ...)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to perserve C++ object after C …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;rstudio server, read.table('clipboard') does not work (clipboard not due to server ...)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to perserve C++ object after C++ function terminates when using Rcpp?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;is it possible to capture c++ output in rcpp?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;is RNGScope thread safe?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;because with RcppArmadillo, subview, matrix ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;is there a way to check whether an Rcpp compiled object is valid?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rcpp Module mustStart=T?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to keep an C++ object after c++ function is terminated? use pointer?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;uniform_real_distribution, etc., 
do they change internal state after generating a random number?
you can check this using 2 different objects with the same parameters.
see whether you get the same sequence of numbers using 1 instance and using 2 instances in turn.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;R里面的特殊数据, e.g.,  NA, NaN, Inf, etc. pass to C++, what happens?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="questions"></category><category term="Rcpp"></category><category term="programming"></category><category term="C++"></category></entry><entry><title>Data Manipulation Tools in R</title><link href="http://www.legendu.net/misc/blog/data-manipulation-tools-in-r/" rel="alternate"></link><published>2016-06-11T17:13:18-07:00</published><updated>2016-06-11T17:13:18-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-11:/misc/blog/data-manipulation-tools-in-r/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RJDBC&lt;/p&gt;
&lt;p&gt;data.table
do not mix using of data.table and data.frame (too much). &lt;/p&gt;
&lt;p&gt;plyr&lt;/p&gt;
&lt;p&gt;sets&lt;/p&gt;
&lt;h2 id="set-operations"&gt;set operations,&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;no …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RJDBC&lt;/p&gt;
&lt;p&gt;data.table
do not mix using of data.table and data.frame (too much). &lt;/p&gt;
&lt;p&gt;plyr&lt;/p&gt;
&lt;p&gt;sets&lt;/p&gt;
&lt;h2 id="set-operations"&gt;set operations,&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;no need to sort and unique, R do this automatically
in C++, you need to sort, 
and possibly unique if that's what you need&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="CRAN"></category><category term="data manipulation"></category><category term="data.table"></category><category term="plyr"></category><category term="sets"></category><category term="SQL"></category></entry><entry><title>Format Numbers in R</title><link href="http://www.legendu.net/misc/blog/format-numbers-in-R/" rel="alternate"></link><published>2016-06-11T16:55:27-07:00</published><updated>2016-06-11T16:55:27-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-11:/misc/blog/format-numbers-in-R/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When working with dates, 
it is desirable to format months and days as 2 digits numbers with a leading 0 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When working with dates, 
it is desirable to format months and days as 2 digits numbers with a leading 0.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;sprintf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%02d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# or &lt;/span&gt;
&lt;span class="nf"&gt;formatC&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;flag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note: I encounter a bug in formatC before. 
Instead of produce an output like &lt;code&gt;04&lt;/code&gt;, 
it produced &lt;code&gt;4&lt;/code&gt;. 
Unfortunately, 
I had to deliver the project, 
so I quickly fix the problem by substituting spaces with &lt;code&gt;0's&lt;/code&gt;
instead of figuring out what really happen.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Comma delimited numbers.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nf"&gt;formatC&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="m"&gt;100000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;big.mark&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
 &lt;span class="n"&gt;[1]&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;100,000&amp;quot;&lt;/span&gt;   &lt;span class="s"&gt;&amp;quot;200,000&amp;quot;&lt;/span&gt;   &lt;span class="s"&gt;&amp;quot;300,000&amp;quot;&lt;/span&gt;   &lt;span class="s"&gt;&amp;quot;400,000&amp;quot;&lt;/span&gt;   &lt;span class="s"&gt;&amp;quot;500,000&amp;quot;&lt;/span&gt;   &lt;span class="s"&gt;&amp;quot;600,000&amp;quot;&lt;/span&gt;  
 &lt;span class="n"&gt;[7]&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;700,000&amp;quot;&lt;/span&gt;   &lt;span class="s"&gt;&amp;quot;800,000&amp;quot;&lt;/span&gt;   &lt;span class="s"&gt;&amp;quot;900,000&amp;quot;&lt;/span&gt;   &lt;span class="s"&gt;&amp;quot;1,000,000&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="R"></category><category term="CRAN"></category><category term="formatting"></category><category term="numbers"></category></entry><entry><title>Find Elements That Appear Multiple Times in R</title><link href="http://www.legendu.net/misc/blog/find-elements-that-appear-multiple-times-in-R/" rel="alternate"></link><published>2016-06-11T15:31:16-07:00</published><updated>2016-06-11T15:31:16-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-11:/misc/blog/find-elements-that-appear-multiple-times-in-R/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;freq&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;tapply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FUN&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;simplify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;freq[freq&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="n"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# or you can use&lt;/span&gt;
&lt;span class="n"&gt;freq&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;useNA&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;always …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;freq&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;tapply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FUN&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;simplify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;freq[freq&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="n"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# or you can use&lt;/span&gt;
&lt;span class="n"&gt;freq&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;useNA&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;always&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;freq[freq&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="n"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="CRAN"></category><category term="R"></category><category term="frequency"></category><category term="table"></category><category term="multiple times"></category><category term="unique"></category></entry><entry><title>Frequently Used Time Format</title><link href="http://www.legendu.net/misc/blog/frequently-used-time-format/" rel="alternate"></link><published>2016-06-10T11:21:25-07:00</published><updated>2016-06-10T11:21:25-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2016-06-10:/misc/blog/frequently-used-time-format/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;Format&lt;/th&gt;
&lt;th align="center"&gt;Example&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;%Y-%m-%d %H:%M:%S.%f&lt;/td&gt;
&lt;td align="center"&gt;2015-08-23 23:12:47.123456&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;Format&lt;/th&gt;
&lt;th align="center"&gt;Example&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;%Y-%m-%d %H:%M:%S.%f&lt;/td&gt;
&lt;td align="center"&gt;2015-08-23 23:12:47.123456&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content><category term="programming"></category><category term="time"></category><category term="date"></category><category term="format"></category></entry><entry><title>Sorting Functions in C++</title><link href="http://www.legendu.net/misc/blog/sorting-functions-in-c++/" rel="alternate"></link><published>2015-12-16T00:05:32-08:00</published><updated>2015-12-16T00:05:32-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-12-16:/misc/blog/sorting-functions-in-c++/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;std::sort&lt;/code&gt;
&lt;code&gt;std::stable_sort&lt;/code&gt;
&lt;code&gt;std::partial_sort&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Notice that only &lt;code&gt;std::stable_sort&lt;/code&gt; is stable sort (at the cost of additional time …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;std::sort&lt;/code&gt;
&lt;code&gt;std::stable_sort&lt;/code&gt;
&lt;code&gt;std::partial_sort&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Notice that only &lt;code&gt;std::stable_sort&lt;/code&gt; is stable sort (at the cost of additional time/space complexity).
It is easy to achive stable sort using &lt;code&gt;std::sort&lt;/code&gt; or &lt;code&gt;std::qsort&lt;/code&gt; by add extra criterias for sorting. 
For example, if you have to sort some nodes by size and want to have stable results, 
you want use the index/name of the nodes as a secondary sorting criteria. 
You can do this by comparing &lt;code&gt;std::pair&lt;/code&gt; of node size and node index/name. &lt;/p&gt;</content><category term="programming"></category><category term="C++"></category><category term="sort"></category></entry><entry><title>Good C++ Libraries</title><link href="http://www.legendu.net/misc/blog/good-cpp-libraries/" rel="alternate"></link><published>2015-10-18T11:46:12-07:00</published><updated>2015-10-18T11:46:12-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-10-18:/misc/blog/good-cpp-libraries/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="good-c-libraries"&gt;Good C++ Libraries&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Armadillo: linear algebra&lt;/li&gt;
&lt;li&gt;it++: signal processing&lt;/li&gt;
&lt;li&gt;shogun: a large scale machine learning toolbox&lt;/li&gt;
&lt;li&gt;boost: an advanced general …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="good-c-libraries"&gt;Good C++ Libraries&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Armadillo: linear algebra&lt;/li&gt;
&lt;li&gt;it++: signal processing&lt;/li&gt;
&lt;li&gt;shogun: a large scale machine learning toolbox&lt;/li&gt;
&lt;li&gt;boost: an advanced general purpose C++ library &lt;/li&gt;
&lt;li&gt;dlib: a general purpose cross-platform C++ library designed using contract programming and modern C++ techniques.&lt;/li&gt;
&lt;li&gt;R: a popular statistic software. &lt;/li&gt;
&lt;li&gt;Blitz++: linear algebra and random number generator &lt;/li&gt;
&lt;li&gt;GMP: the GNU Multiple Precision Arithmetic Library&lt;/li&gt;
&lt;li&gt;NTL: a library for doing number theory &lt;/li&gt;
&lt;li&gt;HPX: high performance parallel library&lt;/li&gt;
&lt;li&gt;Cinder (graphics, audio, video, networking, image processing and computational geometry)&lt;/li&gt;
&lt;li&gt;libcurl: a free and easy-to-use client-side URL transfer library&lt;/li&gt;
&lt;li&gt;GSL: a comprehensive C/C++ scientific library&lt;/li&gt;
&lt;li&gt;ODB: an object-relational mapping (ORM) system for the C++ language.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="database"&gt;Database&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;sqlpp11&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="scitific-computing"&gt;Scitific Computing&lt;/h2&gt;
&lt;h3 id="armadillo"&gt;Armadillo&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The C++ standard library supports methods &lt;code&gt;at&lt;/code&gt; and &lt;code&gt;operator[]&lt;/code&gt; for accessing elements of containers. 
Armadillo supports these two methods as no-bound-checking versions. 
&lt;code&gt;operator()&lt;/code&gt; is the bound-checking (and thus preferred) version for accessing elements of matrices and arrays.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Armadillo use &lt;code&gt;*&lt;/code&gt; for matrix multiplication and &lt;code&gt;%&lt;/code&gt; element-wise multiplication,
which is different from R and MATLAB.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="gsl"&gt;GSL&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The GSL library implements popular special functions many of which 
are not implemented in other libraries 
(e.g., the Lambert-W function is not implemented in Boost).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The distribution related functions (quantile, cdf, PDF, etc) in 
GSL is more convenient to use than the Boost library. 
You can define macros to match the GSL version of distribution functions with 
R version of distribution functions.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="r"&gt;R&lt;/h3&gt;
&lt;p&gt;There are some useful distribution related C functions in R.h.
You can use these C functions which do not require an session of R 
(random number generating functions require a session of R and thus cannot be used in C/C++ code directly) 
in your C/C++ code.
A more general and powerful way to call R related functions is via the "Rinside" package. 
Using the "Rinside" package, 
you can call any R function not just C functions in R header files.
On the contrary, "Rcpp" is a way to extened R via C++. 
The most convenient way to use "Rcpp" is to expose C++ classes/methods/functions to R via &lt;code&gt;RCPP_MODULE&lt;/code&gt;.
Note that "Rcpp" is for R users not C/C++ users,
i.e., you must come back to R. 
Tring to compile C/C++ based on "Rcpp" and the binary code will result in segmentation fault. &lt;/p&gt;
&lt;h2 id="unit-testing"&gt;Unit Testing&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Catch&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="other-general-purpose-libraries"&gt;Other General Purpose Libraries&lt;/h2&gt;
&lt;h2 id="boost"&gt;Boost&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The boost random library (and thus the standard library of C++11) does not have a way to generate 
random numbers from the beta distribution directly, 
however, you use &lt;span class="math"&gt;\(X/(X+Y)\)&lt;/span&gt; where &lt;span class="math"&gt;\(X\)&lt;/span&gt; and &lt;span class="math"&gt;\(Y\)&lt;/span&gt; are independent 
random variables from the gamma distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;boost::accumulator is good for incremental calculations,
especially when several quantities having dependent relationships need 
be calculated. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="debugging-tools"&gt;Debugging Tools&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.gnu.org/software/gdb/"&gt;gdb&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://valgrind.org/"&gt;Valgrind&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://cppcheck.sourceforge.net/"&gt;CppCheck&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="compilers"&gt;Compilers&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;gcc/g++&lt;/li&gt;
&lt;li&gt;clang/clang++&lt;/li&gt;
&lt;li&gt;xlc (for IBM AIX)&lt;/li&gt;
&lt;/ol&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="library"></category><category term="programming"></category><category term="gsl"></category><category term="package"></category><category term="GMP"></category><category term="boost"></category><category term="it++"></category><category term="C++"></category><category term="armadillo"></category><category term="NTL"></category></entry><entry><title>The PUT/INPUT Functions in SAS</title><link href="http://www.legendu.net/misc/blog/the%20put%20and%20input%20functions%20in%20sas/" rel="alternate"></link><published>2015-08-28T17:11:56-07:00</published><updated>2015-08-28T17:11:56-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-08-28:/misc/blog/the put and input functions in sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="the-putinput-functions"&gt;The put/input Functions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;put&lt;/code&gt; function is similar to the &lt;code&gt;putn&lt;/code&gt; function. 
&lt;code&gt;$&lt;/code&gt; is not required in the format of …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="the-putinput-functions"&gt;The put/input Functions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;put&lt;/code&gt; function is similar to the &lt;code&gt;putn&lt;/code&gt; function. 
&lt;code&gt;$&lt;/code&gt; is not required in the format of &lt;code&gt;put&lt;/code&gt; and the format must not be quoted.
&lt;code&gt;$&lt;/code&gt; is not required in the format of &lt;code&gt;putn&lt;/code&gt; either,
however, the format for &lt;code&gt;putn&lt;/code&gt; must be quoted. 
It is easier to understand that &lt;code&gt;$&lt;/code&gt; is not required for the format of &lt;code&gt;put&lt;/code&gt; or &lt;code&gt;putn&lt;/code&gt;.
Both of them return character values, 
so there is no necessary to indicate that the output is character 
by using &lt;code&gt;$&lt;/code&gt; in the format.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;putn&lt;/code&gt; converts a numeric value to a string value.
Though you can pass a string value 
(which will be implicitly converted to a numeric value) to the function &lt;code&gt;putn&lt;/code&gt;,
you should never do this.
Since the return value of &lt;code&gt;putn&lt;/code&gt; is always character,
you should not put dollar signs in formats.
That is you should use &lt;span class="math"&gt;\(w\)&lt;/span&gt;. (or &lt;span class="math"&gt;\(w.d\)&lt;/span&gt;) instead of \&lt;div class="math"&gt;$$w$. (or \$$&lt;/div&gt;w.d&lt;span class="math"&gt;\()
and char\)&lt;/span&gt;w&lt;span class="math"&gt;\(. (or char\)&lt;/span&gt;w&lt;span class="math"&gt;\(.d) instead of \\)&lt;/span&gt;char&lt;span class="math"&gt;\(w\)&lt;/span&gt;. (or char&lt;span class="math"&gt;\(w\)&lt;/span&gt;.&lt;span class="math"&gt;\(d\)&lt;/span&gt;),
where &lt;span class="math"&gt;\(w\)&lt;/span&gt; and &lt;span class="math"&gt;\(d\)&lt;/span&gt; are integers.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;putc&lt;/code&gt; format a character (as a character value).
You have to create formats using the procedure format.
See the example below.
Even if it seems that you format the variable word to be numbers,
it is actually a character variable.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;proc&lt;/span&gt; &lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="n"&gt;typefmt&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$groupx&amp;#39;&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$groupy&amp;#39;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$groupz&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;groupx&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;positive&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;negative&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;neutral&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;groupy&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;positive&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;negative&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;neutral&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;groupz&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;positive&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;negative&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;neutral&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3000&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;answers&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;length&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;input&lt;/span&gt; &lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;respfmt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;put&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;type&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;typefmt&lt;/span&gt;&lt;span class="p"&gt;.);&lt;/span&gt;
    &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;putc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;respfmt&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;datalines&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;positive&lt;/span&gt;
    &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;negative&lt;/span&gt;
    &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;neutral&lt;/span&gt;
    &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;positive&lt;/span&gt;
    &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;negative&lt;/span&gt;
    &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;neutral&lt;/span&gt;
    &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="n"&gt;positive&lt;/span&gt;
    &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="n"&gt;negative&lt;/span&gt;
    &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="n"&gt;neutral&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The tricky thing is that when you functions in macro, 
then the return does not matter,
as everything is text to macro. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You should not use &lt;code&gt;%put&lt;/code&gt; in a data step, 
instead you should use &lt;code&gt;put&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use the function &lt;code&gt;input&lt;/code&gt; 
to change a character variable to a numeic one when applicable.
In the contrary, 
you can use the function &lt;code&gt;put&lt;/code&gt; to change a numeric variable to a character one.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="nb"&gt;char&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;input&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="nb"&gt;date&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;.;&lt;/span&gt;
    &lt;span class="nb"&gt;numeric&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;.);&lt;/span&gt;
    &lt;span class="n"&gt;sasdate&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;date&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mmddyy6&lt;/span&gt;&lt;span class="p"&gt;.);&lt;/span&gt;
    &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="n"&gt;sasdate&lt;/span&gt; &lt;span class="n"&gt;mmddyy10&lt;/span&gt;&lt;span class="p"&gt;.;&lt;/span&gt; 
    &lt;span class="n"&gt;datalines&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="mi"&gt;1234&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt; &lt;span class="mi"&gt;031704&lt;/span&gt;
    &lt;span class="mi"&gt;3920&lt;/span&gt; &lt;span class="mi"&gt;123104&lt;/span&gt;
    &lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;Expression&lt;/th&gt;
&lt;th align="center"&gt;Output&lt;/th&gt;
&lt;th align="center"&gt;Expression&lt;/th&gt;
&lt;th align="center"&gt;Output&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "2.");&lt;/td&gt;
&lt;td align="center"&gt;**&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "2.2");&lt;/td&gt;
&lt;td align="center"&gt;**&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "3.");&lt;/td&gt;
&lt;td align="center"&gt;1E4&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "3.2");&lt;/td&gt;
&lt;td align="center"&gt;1E4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "4.");&lt;/td&gt;
&lt;td align="center"&gt;12E3&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "4.2");&lt;/td&gt;
&lt;td align="center"&gt;12E3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "5.");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "5.2");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "6.");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "6.2");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "7.");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "7.2");&lt;/td&gt;
&lt;td align="center"&gt;12345.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "8.");&lt;/td&gt;
&lt;td align="center"&gt;12346&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "8.2");&lt;/td&gt;
&lt;td align="center"&gt;12345.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "9.");&lt;/td&gt;
&lt;td align="center"&gt;12347&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "9.2");&lt;/td&gt;
&lt;td align="center"&gt;12345.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "z2.");&lt;/td&gt;
&lt;td align="center"&gt;**&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "z2.2");&lt;/td&gt;
&lt;td align="center"&gt;**&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "z3.");&lt;/td&gt;
&lt;td align="center"&gt;1E4&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "z3.2");&lt;/td&gt;
&lt;td align="center"&gt;1E4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "z4.");&lt;/td&gt;
&lt;td align="center"&gt;12E3&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "z4.2");&lt;/td&gt;
&lt;td align="center"&gt;12E3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "z5.");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "z5.2");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "z6.");&lt;/td&gt;
&lt;td align="center"&gt;012345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "z6.2");&lt;/td&gt;
&lt;td align="center"&gt;012345&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "z7.");&lt;/td&gt;
&lt;td align="center"&gt;0012345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "z7.2");&lt;/td&gt;
&lt;td align="center"&gt;12345.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "z8.");&lt;/td&gt;
&lt;td align="center"&gt;00012345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "z8.2");&lt;/td&gt;
&lt;td align="center"&gt;12345.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "z9.");&lt;/td&gt;
&lt;td align="center"&gt;000012345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "z9.2");&lt;/td&gt;
&lt;td align="center"&gt;012345.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "comma2.");&lt;/td&gt;
&lt;td align="center"&gt;**&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "comma2.2");&lt;/td&gt;
&lt;td align="center"&gt;**&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "comma3.");&lt;/td&gt;
&lt;td align="center"&gt;1E4&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "comma3.2");&lt;/td&gt;
&lt;td align="center"&gt;1E4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "comma4.");&lt;/td&gt;
&lt;td align="center"&gt;12E3&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "comma4.2");&lt;/td&gt;
&lt;td align="center"&gt;12E3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "comma5.");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "comma5.2");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "comma6.");&lt;/td&gt;
&lt;td align="center"&gt;12,345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "comma6.2");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "comma7.");&lt;/td&gt;
&lt;td align="center"&gt;12,345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "comma7.2");&lt;/td&gt;
&lt;td align="center"&gt;12345.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "comma8.");&lt;/td&gt;
&lt;td align="center"&gt;12,346&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "comma8.2");&lt;/td&gt;
&lt;td align="center"&gt;12345.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "comma9.");&lt;/td&gt;
&lt;td align="center"&gt;12,347&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "comma9.2");&lt;/td&gt;
&lt;td align="center"&gt;12,345.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "dollar2.");&lt;/td&gt;
&lt;td align="center"&gt;**&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "dollar2.2");&lt;/td&gt;
&lt;td align="center"&gt;**&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "dollar3.");&lt;/td&gt;
&lt;td align="center"&gt;1E4&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "dollar3.2");&lt;/td&gt;
&lt;td align="center"&gt;1E4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "dollar4.");&lt;/td&gt;
&lt;td align="center"&gt;12E3&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "dollar4.2");&lt;/td&gt;
&lt;td align="center"&gt;12E3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "dollar5.");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "dollar5.2");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "dollar6.");&lt;/td&gt;
&lt;td align="center"&gt;$12345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "dollar6.2");&lt;/td&gt;
&lt;td align="center"&gt;12345&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "dollar7.");&lt;/td&gt;
&lt;td align="center"&gt;$12,345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "dollar7.2");&lt;/td&gt;
&lt;td align="center"&gt;12345.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "dollar8.");&lt;/td&gt;
&lt;td align="center"&gt;$12,345&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "dollar8.2");&lt;/td&gt;
&lt;td align="center"&gt;12345.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "dollar9.");&lt;/td&gt;
&lt;td align="center"&gt;$12,346&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "dollar9.2");&lt;/td&gt;
&lt;td align="center"&gt;$12345.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "dollar10.");&lt;/td&gt;
&lt;td align="center"&gt;$12,347&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "dollar10.2");&lt;/td&gt;
&lt;td align="center"&gt;$12,345.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;putn(12345, "dollar11.");&lt;/td&gt;
&lt;td align="center"&gt;$12,348&lt;/td&gt;
&lt;td align="center"&gt;putn(12345, "dollar11.2");&lt;/td&gt;
&lt;td align="center"&gt;$12,345.00&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="programming"></category><category term="SAS"></category><category term="put"></category><category term="input"></category><category term="putn"></category><category term="putc"></category><category term="inputn"></category><category term="inputc"></category></entry><entry><title>Write User-defined Functions in SAS</title><link href="http://www.legendu.net/misc/blog/write%20user-defined%20functions%20in%20sas/" rel="alternate"></link><published>2015-08-28T16:57:06-07:00</published><updated>2015-08-28T16:57:06-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-08-28:/misc/blog/write user-defined functions in sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="fcmp-procedure"&gt;FCMP Procedure&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The maximum length of string allowed in 7911 
in functions defined in the FCMP procedure in SAS 9 …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="fcmp-procedure"&gt;FCMP Procedure&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The maximum length of string allowed in 7911 
in functions defined in the FCMP procedure in SAS 9.2.
This can probably be control by parameters ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Arguments of functions and call routines defined in this procedure 
are constant (read-only) and you cannot change their values.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Functions and call routines defined in the &lt;code&gt;FCMP&lt;/code&gt; procedure
can be used in the data step and most procedures (e.g., &lt;code&gt;SQL&lt;/code&gt;, &lt;code&gt;FCMP&lt;/code&gt;, etc.) in SAS.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;functions and call routines defined in the &lt;code&gt;FCMP&lt;/code&gt; procedure 
can only take scalor or an array as arguments.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you define a function returning a string value 
(using the &lt;code&gt;FCMP&lt;/code&gt; procedure), 
make sure the return value has a long enough length!
Otherwise, 
the return value might get truncated.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can read a data set into an array/matrix in the fcmp proc 
or write an array/matrix from the fcmp proc to a data set.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;only good for simple functions,
event though you can pass arrays to a function/subroutine in fcmp, it is tedious to do so
the iml procedure is more programming friendly but is only targeted for matrix calculation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use the functions and subroutines that you create in PROC FCMP with the DATA step, the WHERE statement, the Output Delivery System (ODS), and with the following procedures:
PROC CALIS
PROC COMPILE
PROC COMPUTAB
PROC GA
PROC GENMOD
PROC MCMC
PROC MODEL
PROC NLIN
PROC NLMIXED
PROC NLP
PROC PHREG
PROC REPORT COMPUTE blocks
Risk Dimensions procedures
PROC SIMILARITY
PROC SQL (functions with array arguments are not supported)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="function"&gt;Function&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Call routines are declared within routine-declarations 
using the &lt;code&gt;subroutine&lt;/code&gt; keyword instead of the &lt;code&gt;function&lt;/code&gt; keyword. 
Functions and call routines have the same form, 
except call routines do not return a value, 
and call routines can modify their parameters.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A function (e.g., &lt;code&gt;symget&lt;/code&gt;) in SAS returns a value while a routinue (e.g., &lt;code&gt;symput&lt;/code&gt;) in SAS has no return value. 
You must prefix a routine with call to use it,
For example,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;symget&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;macro_variable&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;call&lt;/span&gt; &lt;span class="n"&gt;symput&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;macro_variable&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;today&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For this reason, 
routines are also called call routines in SAS.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A character variables in the fcmp procedure has a fixed length. 
It is truncated if you assigned a longer string to it.
To avoid the problem, 
you can define the character variable to have a long enough length.
For exampel,&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;length&lt;/span&gt; rv $&lt;span class="m"&gt;32&lt;/span&gt;; 
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="SAS"></category><category term="user-defined function"></category><category term="`FCMP`"></category></entry><entry><title>The Confusing String in SAS</title><link href="http://www.legendu.net/misc/blog/the%20confusing%20string%20in%20sas/" rel="alternate"></link><published>2015-08-28T16:55:06-07:00</published><updated>2015-08-28T16:55:06-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-08-28:/misc/blog/the confusing string in sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;the &lt;code&gt;min&lt;/code&gt; function also works on string variables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A missing character in SAS is represented by any number of white …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;the &lt;code&gt;min&lt;/code&gt; function also works on string variables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A missing character in SAS is represented by any number of white spaces. 
To see more detailed discussion on missing values, 
please refer to the post 
&lt;a href="http://www.legendu.net/en/blog/missing-values-in-sas/"&gt;Missing Values in SAS&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the data step characters and number are implicitly converted to each other when necessary.
However, 
this is not the case in &lt;code&gt;proc iml&lt;/code&gt;.
You have to use the &lt;code&gt;char&lt;/code&gt; function to convert number to string in the &lt;code&gt;iml&lt;/code&gt; procedure.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;the convert of dot and blank values? ...
if I remember correctly,
A missing character value (any number of white spaces) becomes a missing numeric value (&lt;code&gt;.&lt;/code&gt;) 
when converted to numeric. 
However,
a missing numeric value (&lt;code&gt;.&lt;/code&gt;) becomes &lt;code&gt;"."&lt;/code&gt; when converted to character.
The inconsistent behavior here is annoying.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;When you define a variable in SAS, 
it has a fixed length (no matter it is numeric or character). 
Things can be really tricky for (fixed length) character variables.
Suppose we have a string variable &lt;code&gt;s&lt;/code&gt;. 
If you concatenate &lt;code&gt;s&lt;/code&gt; (using &lt;code&gt;||&lt;/code&gt; or &lt;code&gt;cat&lt;/code&gt;) with another string 
and assign it back to &lt;code&gt;s&lt;/code&gt; as illustrated below&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;s = cat(s, &lt;span class="s"&gt;&amp;quot;another string&amp;quot;&lt;/span&gt;);
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;you will find that the value of &lt;code&gt;s&lt;/code&gt; is not changed. 
This is caused by the fact that a string in SAS has a fixed length. 
The value of a string variable is always truncated/padded to meet the length requirement.
When you assign 
&lt;code&gt;cat(s, "another string")&lt;/code&gt; 
to &lt;code&gt;s&lt;/code&gt; the concatenated part is truncated, 
so the value &lt;code&gt;s&lt;/code&gt; stays the same.
To avoid this problem, 
you should always remove leading and trailing white spaces (using &lt;code&gt;strip&lt;/code&gt;)in string variables 
before concatenating them unless you know what you are doing.
There is a function &lt;code&gt;catx&lt;/code&gt; in SAS, 
which automatically strips string variables before concatenating them.
Another tricky issue caused by this is when you convert between numeric and character values. 
Always strip a value/variable before you convert it to the other type. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The use of string in SAS is a little bit confusing. 
Some rules of them are summarized below.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You should not use single/double quotation marks in macro 
(i.e., outside the data step and procedures) 
except for numbers represented using string (e.g., '01aug11'd) 
or literal quotations marks. 
This is because that macros are essentially string.
For example, 
you should not quote &lt;code&gt;month&lt;/code&gt; in the following code, 
however, 
you must quote &lt;code&gt;08aug2013&lt;/code&gt;.  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;%let&lt;/span&gt; alertdatestr= &lt;span class="nb"&gt;%sysfunc&lt;/span&gt;(&lt;span class="nb"&gt;compress(%sysfunc&lt;/span&gt;(&lt;span class="nb"&gt;putn(%eval&lt;/span&gt;(&lt;span class="nb"&gt;%sysfunc&lt;/span&gt;(&lt;span class="nb"&gt;intnx(&lt;/span&gt;month, &lt;span class="s"&gt;&amp;#39;08aug2013&amp;#39;&lt;/span&gt;d, &lt;span class="m"&gt;0&lt;/span&gt;))), YYMMDD10.)),&lt;span class="s"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;));&lt;span class="k"&gt;&lt;/span&gt;
&lt;span class="k"&gt;%put &lt;/span&gt;&lt;span class="nv"&gt;&amp;amp;alertdatestr&lt;/span&gt;&lt;span class="err"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="nv"&gt;You&lt;/span&gt; &lt;span class="nv"&gt;have&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;single&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;double&lt;/span&gt; &lt;span class="nv"&gt;quotation&lt;/span&gt; &lt;span class="nv"&gt;marks&lt;/span&gt; 
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;strings&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;including&lt;/span&gt; &lt;span class="nv"&gt;informat&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;outformat&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;inside&lt;/span&gt; &lt;span class="nv"&gt;data&lt;/span&gt; &lt;span class="nv"&gt;steps&lt;/span&gt; &lt;span class="nv"&gt;or&lt;/span&gt; &lt;span class="nv"&gt;procedures&lt;/span&gt;.
&lt;span class="nv"&gt;However&lt;/span&gt;, &lt;span class="nv"&gt;informat&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;outformat&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;e&lt;/span&gt;.&lt;span class="nv"&gt;g&lt;/span&gt;., `&lt;span class="nv"&gt;date9&lt;/span&gt;.`, `&lt;span class="nv"&gt;datetime19&lt;/span&gt;.`, &lt;span class="nv"&gt;etc&lt;/span&gt;.&lt;span class="ss"&gt;)&lt;/span&gt; 
&lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; `&lt;span class="nv"&gt;put&lt;/span&gt;`, `&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="nv"&gt;put&lt;/span&gt;` &lt;span class="nv"&gt;statement&lt;/span&gt; &lt;span class="nv"&gt;should&lt;/span&gt; &lt;span class="nv"&gt;not&lt;/span&gt; &lt;span class="nv"&gt;be&lt;/span&gt; &lt;span class="nv"&gt;quoted&lt;/span&gt;.
&lt;span class="k"&gt;For&lt;/span&gt; &lt;span class="nv"&gt;example&lt;/span&gt;, 
&lt;span class="nv"&gt;you&lt;/span&gt; &lt;span class="nv"&gt;must&lt;/span&gt; &lt;span class="nv"&gt;quote&lt;/span&gt; `&lt;span class="nv"&gt;week&lt;/span&gt;` &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;following&lt;/span&gt; &lt;span class="nv"&gt;code&lt;/span&gt;. 
&lt;span class="nv"&gt;However&lt;/span&gt;, &lt;span class="nv"&gt;pay&lt;/span&gt; &lt;span class="nv"&gt;attention&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;when&lt;/span&gt; `&lt;span class="nv"&gt;date9&lt;/span&gt;.` &lt;span class="nv"&gt;should&lt;/span&gt; &lt;span class="nv"&gt;be&lt;/span&gt; &lt;span class="nv"&gt;quoted&lt;/span&gt; &lt;span class="nv"&gt;and&lt;/span&gt; &lt;span class="nv"&gt;when&lt;/span&gt; &lt;span class="nv"&gt;not&lt;/span&gt;.
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;data &lt;/span&gt;&lt;span class="kc"&gt;_null_&lt;/span&gt;;
    &lt;span class="k"&gt;x&lt;/span&gt; = &lt;span class="nb"&gt;intnx(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;week&amp;#39;&lt;/span&gt;, &lt;span class="s"&gt;&amp;#39;17oct03&amp;#39;&lt;/span&gt;d, &lt;span class="m"&gt;6&lt;/span&gt;);
    y = &lt;span class="nb"&gt;putn(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;17Oct2013&amp;#39;&lt;/span&gt;d, &lt;span class="s"&gt;&amp;quot;date9.&amp;quot;&lt;/span&gt;);&lt;span class="k"&gt;&lt;/span&gt;
&lt;span class="k"&gt;    put x&lt;/span&gt;&lt;span class="err"&gt; date9.;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;compress&lt;/code&gt; removes specified characters from a string.
If the character list is not specified, 
then spaces are removed.
It is functionally equivalent to replace the specified characters with blank strings.
It is similar to &lt;code&gt;std::remove_if&lt;/code&gt; on &lt;code&gt;std::string&lt;/code&gt; in C++. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;tranwrd&lt;/code&gt; replaces a substring with another one.
It is similar to &lt;code&gt;sub/gsub&lt;/code&gt; in R and &lt;code&gt;str.replace&lt;/code&gt; in Python.
It takes 3 arguments; 
first is source string; 
second is string to be replaced and last one is string to be replaced by. 
&lt;code&gt;tranwrd&lt;/code&gt; will find out every occurrence of the second argument 
in the first argument and will replace it with the third argument.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do not pass numerical arguments to functions taking string arguments,
and vice versa.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Generally speaking, 
you do not have to quote macros.
However, 
when you use a macro variable in a string,
you must quote it in double quotes 
(A macro variable in single quotes does not expand.)
For example, 
you have to quote &lt;code&gt;&amp;amp;dir.&lt;/code&gt; in the following SAS statement.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;libname&lt;/span&gt; N3D &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;&amp;amp;dir.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;lowcase&lt;/code&gt; converts all letters in a string to lower case. 
It is similar to the function tolower in R and str.lower in Python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;upcase&lt;/code&gt; converts all letters in a string to upper case.
It is similar to the functions &lt;code&gt;toupper&lt;/code&gt; in R and &lt;code&gt;str.upper&lt;/code&gt; in Python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;substr&lt;/code&gt; extracts a sub string from a string.
The length of the sub string cannot exceedes the maximum possible length.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;scan&lt;/code&gt; is somewhat similar to 
the function &lt;code&gt;split&lt;/code&gt; in R and &lt;code&gt;str.split&lt;/code&gt; in Python.
However ,
it is different in the sense 
that it returns the nth word (from a string) instead of return a vector/list of words. 
You can use multiple delimiters for scan.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;left&lt;/code&gt;/&lt;code&gt;%left&lt;/code&gt; is equivalent to the function &lt;code&gt;ltrim&lt;/code&gt; in VBA.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In most programming languages,
you have to escape the backslash (&lt;code&gt;\&lt;/code&gt;) in Windows paths.
In SAS, 
it does not matter whether you escape it or not. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To escape the double/single quotation mark, 
you can double it. 
For example,&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;data &lt;/span&gt;&lt;span class="kc"&gt;_null_&lt;/span&gt;;
    &lt;span class="k"&gt;x&lt;/span&gt; = &lt;span class="s"&gt;&amp;#39;How&amp;#39;&amp;#39;s everything going?&amp;#39;&lt;/span&gt;;&lt;span class="k"&gt;&lt;/span&gt;
&lt;span class="k"&gt;    put x&lt;/span&gt;&lt;span class="err"&gt;;&lt;/span&gt;
    y = &lt;span class="s"&gt;&amp;quot;What do you mean by &amp;quot;&amp;quot;BTW&amp;quot;&amp;quot;?&amp;quot;&lt;/span&gt;;&lt;span class="k"&gt;&lt;/span&gt;
&lt;span class="k"&gt;    put &lt;/span&gt;&lt;span class="err"&gt;y;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="tricks-and-traps"&gt;Tricks and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;trim&lt;/code&gt; is a different from &lt;code&gt;trim&lt;/code&gt; functions in other programming languages.
While in most programming languages 
&lt;code&gt;trim&lt;/code&gt; removes both leading and trailing blanks,
the &lt;code&gt;trim&lt;/code&gt; function in SAS removes only trailing blanks.
To remove both leading and trailing blanks in SAS,
you have to use the function &lt;code&gt;strip&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You cannot set the delimiter to be blank in catx.
If you specify &lt;code&gt;""&lt;/code&gt; as the delimiter, 
then &lt;code&gt;" "&lt;/code&gt; will be used.
This is really really stupid.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="striptrimcompress"&gt;strip/trim/compress&lt;/h2&gt;
&lt;p&gt;strip removes both trailing and leading white spaces
TRIM Function
Removes trailing blanks from a character string, 
and returns one blank if the string is missing.
this is ugly as most languages, trim is strip&lt;/p&gt;
&lt;p&gt;however, compress is much more diffrent!!!
Returns a character string with specified characters removed from the original string.&lt;/p&gt;
&lt;p&gt;you will use strip to remove .. most of the time.&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="String"></category><category term="data type"></category></entry><entry><title>Macro in SAS</title><link href="http://www.legendu.net/misc/blog/macro-in-sas/" rel="alternate"></link><published>2015-08-28T16:43:05-07:00</published><updated>2015-08-28T16:43:05-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-08-28:/misc/blog/macro-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://bitbucket.org/dclong/sas_learn/src/"&gt;Here&lt;/a&gt; are some examples for SAS macro.&lt;/p&gt;
&lt;p&gt;http://www.devenezia.com/downloads/sas/macros/?m=array&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;for macros, passing in …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://bitbucket.org/dclong/sas_learn/src/"&gt;Here&lt;/a&gt; are some examples for SAS macro.&lt;/p&gt;
&lt;p&gt;http://www.devenezia.com/downloads/sas/macros/?m=array&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;for macros, passing in a data set and operate on the data set sounds like a better way to do 
rather than passing plain text especially when there are lots of things to pass to a macro function 
and better to write outputs into datasets or macro variables rather than doing text substitute.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you select values into macro variables using a sql procedure in a macro function, 
the macro varibles created are local to the macro function.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;avoid return a value from macro, this gives you more trouble than convenience, 
just assign the value to macro or write results into a data set ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Macros are substituted with their definition before SAS code is run,
which is similar to macros in other programming languages such as C/C++.
The essence of macro is text substitution.
Macro (text substitution) in SAS is tricky and error prone. 
It is suggested that you do not overuse user-defined macros in SAS.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Macro variable values have a maximum length of 65,534 characters. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Arguments of a macro are local to the macro.
However, passing macro variable name can sort give you a taste of passing by reference.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is recommended that 
you define macro variables as local in user-defined macro functions using &lt;code&gt;%local&lt;/code&gt;,
especially if you use simple short macro variable names such as &lt;code&gt;i&lt;/code&gt;, &lt;code&gt;n&lt;/code&gt;, etc. 
Otherwise, you will end up using GLOBAL macro variables which is error-prone.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do not define macro variables starting with "sys", 
otherwise, 
you confuse yours with system's macro variables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Macro variable in the smallest scope is used if not defined.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="important-and-useful-macro-variables"&gt;Important and Useful Macro Variables&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&amp;amp;sysuserid&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sysver: SAS version&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;%symexists&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use command &lt;code&gt;%put _ALL_;&lt;/code&gt; to show all macro variables in SAS log.
In addition to &lt;code&gt;_ALL_&lt;/code&gt; you could use any of the following.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="ss"&gt;`_USER_`&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt; &lt;span class="n"&gt;only&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="n"&gt;defined&lt;/span&gt; &lt;span class="n"&gt;macro&lt;/span&gt; &lt;span class="n"&gt;variables&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="ss"&gt;`_AUTOMATIC_`&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt; &lt;span class="n"&gt;those&lt;/span&gt; &lt;span class="n"&gt;defined&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;SAS&lt;/span&gt; &lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="ss"&gt;`_GLOBAL_`&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt; &lt;span class="k"&gt;all&lt;/span&gt; &lt;span class="n"&gt;session&lt;/span&gt; &lt;span class="n"&gt;wide&lt;/span&gt; &lt;span class="n"&gt;macro&lt;/span&gt; &lt;span class="nf"&gt;variables&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;global&lt;/span&gt; &lt;span class="n"&gt;symbol&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="ss"&gt;`_LOCAL_`&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt; &lt;span class="n"&gt;those&lt;/span&gt; &lt;span class="n"&gt;macro&lt;/span&gt; &lt;span class="n"&gt;variables&lt;/span&gt; &lt;span class="n"&gt;local&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;executing&lt;/span&gt; &lt;span class="n"&gt;macro&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Macros in double quotation marks are expanded 
while macros in single quotation marks are not expnaded.
For example,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%let&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Hello, &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;amp;amp;mWorld!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;generates &lt;code&gt;Hello, World!&lt;/code&gt; while&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%let&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Hello, &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;mWorld&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;generates &lt;code&gt;&amp;amp;mWorld!&lt;/code&gt;.
This is similar to the behavior of Bash variables in strings.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be careful when you use macro in SAS especially when you deal with &lt;code&gt;%if&lt;/code&gt;. 
My suggestion is that avoid using &lt;code&gt;%if&lt;/code&gt; if you can. 
You can use &lt;code&gt;%select&lt;/code&gt; instead. 
If you have to use &lt;code&gt;%if&lt;/code&gt;, 
you must be aware that the macro is expanded before it is run,
i.e. there is no branching going on when running the code. 
(Confused, I think %select will have same problem here,
put the probelamtic example here ...)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use dot (".") to connect a macro variable and usual characters. 
For example,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%let&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;is expanded to &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;set1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;before running.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;amp;&amp;amp;ms&amp;amp;i. cannot use &amp;amp;&amp;amp;ms.&amp;amp;i. the reason is that ms is not a macro.
there's good reason to end macros with ., becuase database.table ... actually, wait, try only one dot instead ...&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;%sysfunc&lt;/code&gt; execute SAS or user-defined functions. 
You must embed every expression 
envolving SAS or user-defined functions (not pure macros) in a %sysfunc statement.
For example,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;%eval&lt;/code&gt; is similar to &lt;code&gt;%sysfunc&lt;/code&gt; for only for simple arithmatic calculations in macro environment.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can show SAS version information by running &lt;code&gt;%put _automatic_;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;%sysuserid&lt;/code&gt; represent the user id of the current SAS process. 
It is similar to the &lt;code&gt;whoami&lt;/code&gt; command in Linux 
(of course &lt;code&gt;whoami&lt;/code&gt; is a command not a environment variable, macro equivalent).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you always use dot after macro variables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;%array&lt;/code&gt; is a useful (non-built-in) macro for creating macro arrays quickly.
And &lt;code&gt;%do_over&lt;/code&gt; (non-built-in) can be used to iterate through macro arrays.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is not very convenient to use %do_over to apply a macro 
with multiple arguments to an array.
It is recommended that you use the &lt;code&gt;%do&lt;/code&gt; loop manually 
inside a temorary macro. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;%if&lt;/code&gt;, &lt;code&gt;%do ... %end&lt;/code&gt;, etc. can only be used in a SAS macro.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There is no concept of annonymous macro functions in SAS.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The option &lt;code&gt;phrase&lt;/code&gt; in the &lt;code&gt;%do_over&lt;/code&gt; macro cannot contain commas.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use the macro &lt;code&gt;%SYMDEL macro-variables(s);&lt;/code&gt; to delete macro variables.
To delete all, e.g.,  global macro variables, 
you can use the the following code.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;gmv&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;keep&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="n"&gt;sashelp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vmacro&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="k"&gt;scope&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;GLOBAL&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;_null_&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="n"&gt;gmv&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;call&lt;/span&gt; &lt;span class="n"&gt;symdel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;symget&lt;/code&gt; gets the value of a macro variable 
into a variable in a data step.
It is similar to the function &lt;code&gt;getenv&lt;/code&gt; in R 
and &lt;code&gt;os.getenv&lt;/code&gt; in Python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;symput&lt;/code&gt; puts the value of a variable in a data step 
into a macro variable.
&lt;code&gt;symput&lt;/code&gt; can also export a variable (inside a data step) to a local macro variable
inside a user-defined macro function.
It is ugly and error-prone to manipulate macro variables directly,
thus it is suggested that you define and manipulate (regular) variables 
in a &lt;code&gt;_null_&lt;/code&gt; data step,
and exported (regular) variables to macro variables using &lt;code&gt;symput&lt;/code&gt; when needed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The macro &lt;code&gt;%sysget&lt;/code&gt; function gets the value 
of the specified operating environment variable.
It is similar to the function &lt;code&gt;getenv&lt;/code&gt; in R and &lt;code&gt;os.getenv&lt;/code&gt; in Python.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can nest definitions of macros,
however, 
it is suggested that you never do this
as it is very inefficient to do so.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When a macro functions takes no argument,
you can omit the parentheses in the definition 
and when you call it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be careful about the restriction of length of macro variables.
This can cause problems when you concatenate a input macro variable and a string
to create a new macro variable name.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Generally speaking, 
you do not want to overwrite a macro variable with a value that has a different meaning.
This is the same in many other programming languages (unless for serious performance concerning).
A rule of thumb in scripting language programming is not to change type of variables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Macro variables and data sets (essentially files) are 2 ways 
for procedures in SAS to communicate with each other.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There is no limit on the maximum number of macro variables
that can be used in a SAS program besides memory limit.
However, the SAS symbol table exhibits a quadratic behavior,
which means that there is a performance issue 
when too many SAS macro variables are created.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAS macro functions support 2 types of arguments,
positional arguments and keyword arguments.
A keyword argument has a default value,
which makes it similar to a default argument in other programming languages.
The difference is that a keyword argument in a SAS macro function 
can only be resolved relying on keyword not by its positions.
That is when you want to use a different value 
rather than the default value for a keyword argument, 
you must pass the keyword argument with the &lt;code&gt;keyword_argument = value&lt;/code&gt; style.
When you define or call a macro function,
all positional arguments must preceede keyword arguments.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pay attention to (implicitly created) macro variables.
Generally speaking,
you don't want to create global macro variables in your macro 
(especially, i, j, n, etc.).
And generally speaking, 
you don't want to use a use-defined macro function
which creates global macro variables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;%eval&lt;/code&gt; function evaluates expressions using integer arithmetic 
while the &lt;code&gt;%sysevalf&lt;/code&gt; function evaluates expressions using floating point arithmetic.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Whenever you use a non-macro function 
in an open macro statement 
(i.e., macro statement outside a data step or procedure),
you have to embed it in a &lt;code&gt;%sysfunc&lt;/code&gt; call. 
For example, 
you cannot use&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%let&lt;/span&gt; &lt;span class="n"&gt;run_date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;intnx&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;month&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;init_date&lt;/span&gt;&lt;span class="p"&gt;.,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;but instead you should use&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%let&lt;/span&gt; &lt;span class="n"&gt;RUN_DATE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;%sysfunc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;intnx&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;month&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;INITL_DATE&lt;/span&gt;&lt;span class="p"&gt;.,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If there are multi-levels of nested non-macro functions in an open macro statement,
you have to embed each level of non-macro functions in a &lt;code&gt;%sysfun&lt;/code&gt; call.
An illustrative example is given below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%let&lt;/span&gt; &lt;span class="n"&gt;m2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;%sysfunc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;putn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;%sysfunc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;intnx&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;month&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;run_date&lt;/span&gt;&lt;span class="p"&gt;.,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;date9&lt;/span&gt;&lt;span class="p"&gt;.));&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Macro variables and data sets (essentially files) are 2 ways 
for procedures in SAS to communicate with each other.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;mlogic&lt;/code&gt; specifies that the macro processor should traces its execution,
which is helpful for debugging.
&lt;code&gt;nomlogic&lt;/code&gt; disables tracing of macro processor. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Non-macro functions and call routines can only be used 
in a data step or procedure.
If you want to use it in a macro,
you have to embed it in the macro function &lt;code&gt;%sysfunc&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you develop a macro,
you should do a clean-up by default.
And give user the option to keep temporary files for debugging purposes.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be a little bit flexible on these commonly used macro function argument values 
(e.g., Yes/No).
Generally speaking,
it is good to allow case-insensitive inputs. 
You should think about how to make your code more robust (tolerrent to user input).
And terminate program when user type in invalid argument values.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In my mind, 
macro variables (outside the definition of a macro) 
should be only for sharing and passing values among procedures.
We should do things as much as possible in a &lt;code&gt;_null_&lt;/code&gt; data step 
and then expose necessary macro variables to other procedures.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it is suggested that you always end a macro variable with ".",
i.e., use &lt;code&gt;&amp;amp;x.&lt;/code&gt; instead of &lt;code&gt;&amp;amp;x&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I think keyword arguments for macro functions are cleaer ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="dot"></category><category term="SAS"></category><category term="macro"></category><category term="branch"></category><category term="programming"></category></entry><entry><title>The Trap of Duplicated Columns in the SQL Procedure of SAS</title><link href="http://www.legendu.net/misc/blog/trap-duplicated-columns-sql-procedure-sas/" rel="alternate"></link><published>2015-08-28T13:02:17-07:00</published><updated>2015-08-28T13:02:17-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-08-28:/misc/blog/trap-duplicated-columns-sql-procedure-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;If 2 columns with the same names are selected from 2 tables when joining them,
the first selected column is …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;If 2 columns with the same names are selected from 2 tables when joining them,
the first selected column is kept and the other one is dropped.
If you don't like this behavior, you can rename and drop columns.&lt;/p&gt;
&lt;p&gt;This potentially invite some very dangerous errors!!! you know that in sas sql cannot update using join,
so you might want to join to get the create .... when there are many columns, people just use *, the order matters!!!
you must be very carefule !!!!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;data &lt;/span&gt;s1;
    &lt;span class="k"&gt;input&lt;/span&gt; &lt;span class="k"&gt;x&lt;/span&gt; y;
&lt;span class="k"&gt;    datalines;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;span class="x"&gt;1 2&lt;/span&gt;
&lt;span class="x"&gt;3 7&lt;/span&gt;
&lt;span class="x"&gt;4 5&lt;/span&gt;
&lt;span class="x"&gt;;&lt;/span&gt;
&lt;span class="x"&gt;run;&lt;/span&gt;


&lt;span class="x"&gt;data s2;&lt;/span&gt;
&lt;span class="x"&gt;    input x z;&lt;/span&gt;
&lt;span class="x"&gt;    datalines;&lt;/span&gt;
&lt;span class="x"&gt;1 0&lt;/span&gt;
&lt;span class="x"&gt;3 9&lt;/span&gt;
&lt;span class="x"&gt;9 7&lt;/span&gt;
&lt;span class="x"&gt;;&lt;/span&gt;
&lt;span class="x"&gt;run;&lt;/span&gt;

&lt;span class="x"&gt;/*&lt;/span&gt;
&lt;span class="x"&gt;1   2   0&lt;/span&gt;
&lt;span class="x"&gt;3   7   9&lt;/span&gt;
&lt;span class="x"&gt;*/&lt;/span&gt;
&lt;span class="x"&gt;proc sql;&lt;/span&gt;
&lt;span class="x"&gt;    create table s3 as&lt;/span&gt;
&lt;span class="x"&gt;    select&lt;/span&gt;
&lt;span class="x"&gt;        s1.*,&lt;/span&gt;
&lt;span class="x"&gt;        s2.*&lt;/span&gt;
&lt;span class="x"&gt;    from &lt;/span&gt;
&lt;span class="x"&gt;        s1&lt;/span&gt;
&lt;span class="x"&gt;    inner join&lt;/span&gt;
&lt;span class="x"&gt;        s2&lt;/span&gt;
&lt;span class="x"&gt;    on&lt;/span&gt;
&lt;span class="x"&gt;        s1.x = s2.x&lt;/span&gt;
&lt;span class="x"&gt;    ;&lt;/span&gt;
&lt;span class="x"&gt;quit;&lt;/span&gt;

&lt;span class="x"&gt;/*&lt;/span&gt;
&lt;span class="x"&gt;1   0   2&lt;/span&gt;
&lt;span class="x"&gt;3   9   7&lt;/span&gt;
&lt;span class="x"&gt;.   .   5&lt;/span&gt;
&lt;span class="x"&gt;*/&lt;/span&gt;
&lt;span class="x"&gt;proc sql;&lt;/span&gt;
&lt;span class="x"&gt;    create table s3 as&lt;/span&gt;
&lt;span class="x"&gt;    select&lt;/span&gt;
&lt;span class="x"&gt;        s1.*,&lt;/span&gt;
&lt;span class="x"&gt;        s2.*&lt;/span&gt;
&lt;span class="x"&gt;    from &lt;/span&gt;
&lt;span class="x"&gt;        s1&lt;/span&gt;
&lt;span class="x"&gt;    left join&lt;/span&gt;
&lt;span class="x"&gt;        s2&lt;/span&gt;
&lt;span class="x"&gt;    on&lt;/span&gt;
&lt;span class="x"&gt;        s1.x = s2.x&lt;/span&gt;
&lt;span class="x"&gt;    ;&lt;/span&gt;
&lt;span class="x"&gt;quit;&lt;/span&gt;

&lt;span class="x"&gt;/*&lt;/span&gt;
&lt;span class="x"&gt;1   0   2&lt;/span&gt;
&lt;span class="x"&gt;3   9   7&lt;/span&gt;
&lt;span class="x"&gt;.   .   5&lt;/span&gt;
&lt;span class="x"&gt;*/&lt;/span&gt;
&lt;span class="x"&gt;proc sql;&lt;/span&gt;
&lt;span class="x"&gt;    create table s3 as&lt;/span&gt;
&lt;span class="x"&gt;    select&lt;/span&gt;
&lt;span class="x"&gt;        s2.*,&lt;/span&gt;
&lt;span class="x"&gt;        s1.*&lt;/span&gt;
&lt;span class="x"&gt;    from &lt;/span&gt;
&lt;span class="x"&gt;        s1&lt;/span&gt;
&lt;span class="x"&gt;    left join&lt;/span&gt;
&lt;span class="x"&gt;        s2&lt;/span&gt;
&lt;span class="x"&gt;    on&lt;/span&gt;
&lt;span class="x"&gt;        s1.x = s2.x&lt;/span&gt;
&lt;span class="x"&gt;    ;&lt;/span&gt;
&lt;span class="x"&gt;quit;&lt;/span&gt;

&lt;span class="x"&gt;/*&lt;/span&gt;
&lt;span class="x"&gt;1   2   0&lt;/span&gt;
&lt;span class="x"&gt;3   7   9&lt;/span&gt;
&lt;span class="x"&gt;.   .   7&lt;/span&gt;
&lt;span class="x"&gt;*/&lt;/span&gt;
&lt;span class="x"&gt;proc sql;&lt;/span&gt;
&lt;span class="x"&gt;    create table s3 as&lt;/span&gt;
&lt;span class="x"&gt;    select&lt;/span&gt;
&lt;span class="x"&gt;        s1.*,&lt;/span&gt;
&lt;span class="x"&gt;        s2.*&lt;/span&gt;
&lt;span class="x"&gt;    from &lt;/span&gt;
&lt;span class="x"&gt;        s1&lt;/span&gt;
&lt;span class="x"&gt;    right join&lt;/span&gt;
&lt;span class="x"&gt;        s2&lt;/span&gt;
&lt;span class="x"&gt;    on&lt;/span&gt;
&lt;span class="x"&gt;        s1.x = s2.x&lt;/span&gt;
&lt;span class="x"&gt;    ;&lt;/span&gt;
&lt;span class="x"&gt;quit;&lt;/span&gt;

&lt;span class="x"&gt;/*&lt;/span&gt;
&lt;span class="x"&gt;1   0   2&lt;/span&gt;
&lt;span class="x"&gt;3   9   7&lt;/span&gt;
&lt;span class="x"&gt;9   7   .&lt;/span&gt;
&lt;span class="x"&gt;*/&lt;/span&gt;
&lt;span class="x"&gt;proc sql;&lt;/span&gt;
&lt;span class="x"&gt;    create table s3 as&lt;/span&gt;
&lt;span class="x"&gt;    select&lt;/span&gt;
&lt;span class="x"&gt;        s2.*,&lt;/span&gt;
&lt;span class="x"&gt;        s1.*&lt;/span&gt;
&lt;span class="x"&gt;    from &lt;/span&gt;
&lt;span class="x"&gt;        s1&lt;/span&gt;
&lt;span class="x"&gt;    right join&lt;/span&gt;
&lt;span class="x"&gt;        s2&lt;/span&gt;
&lt;span class="x"&gt;    on&lt;/span&gt;
&lt;span class="x"&gt;        s1.x = s2.x&lt;/span&gt;
&lt;span class="x"&gt;    ;&lt;/span&gt;
&lt;span class="kr"&gt;quit;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="same-column-appear-twice"&gt;same column appear twice&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;data &lt;/span&gt;s;
    &lt;span class="k"&gt;input&lt;/span&gt; &lt;span class="k"&gt;x&lt;/span&gt; $&lt;span class="m"&gt;10&lt;/span&gt;. y;
&lt;span class="k"&gt;    datalines;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;span class="x"&gt;1234567890 2 &lt;/span&gt;
&lt;span class="x"&gt;3          4&lt;/span&gt;
&lt;span class="x"&gt;5          6&lt;/span&gt;
&lt;span class="x"&gt;;&lt;/span&gt;
&lt;span class="x"&gt;run;&lt;/span&gt;

&lt;span class="x"&gt;proc sql;&lt;/span&gt;
&lt;span class="x"&gt;    select &lt;/span&gt;
&lt;span class="x"&gt;        y,&lt;/span&gt;
&lt;span class="x"&gt;        y&lt;/span&gt;
&lt;span class="x"&gt;    from    &lt;/span&gt;
&lt;span class="x"&gt;        s&lt;/span&gt;
&lt;span class="x"&gt;    ;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;this actually works in sas ... there will be 2 columns with the same name&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="SQL"></category></entry><entry><title>SAS SQL Tips</title><link href="http://www.legendu.net/misc/blog/sas-sql-tips/" rel="alternate"></link><published>2015-08-28T12:58:18-07:00</published><updated>2015-08-28T12:58:18-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-08-28:/misc/blog/sas-sql-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A const column does not work if no row is selected. 
This becomes trickier if you use &lt;code&gt;count(*)&lt;/code&gt; in your …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A const column does not work if no row is selected. 
This becomes trickier if you use &lt;code&gt;count(*)&lt;/code&gt; in your query.
For example, 
if the returned value of &lt;code&gt;n&lt;/code&gt; in the following query is 0, 
then &lt;code&gt;yyyymm&lt;/code&gt; is missing instead of the value &lt;code&gt;201311&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;proc sql;&lt;/span&gt;
    &lt;span class="k"&gt;select&lt;/span&gt; 
        &lt;span class="s"&gt;&amp;#39;201311&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; yyyymm, 
        count(*) &lt;span class="k"&gt;as&lt;/span&gt; n 
    &lt;span class="k"&gt;from&lt;/span&gt; 
        lib&lt;span class="m"&gt;.&lt;/span&gt;tran_201311 
    &lt;span class="k"&gt;where&lt;/span&gt; tran_date &amp;gt;= &lt;span class="s"&gt;&amp;#39;1Jan2014&amp;#39;&lt;/span&gt;d&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;quit;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;SAS can map a database on a data platform (e.g., Teradata) as a library. 
This is only suggested when you want to download data from or upload data to the database.
Don't manipulate data directly in library mapping to a database. 
Also you cannot save a sorted data set in the library,
as SQL stories data differently than SAS. 
If you use the print procedure to print a previously sorted data in the database, 
you will probably still get an unsorted data set.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use multiple SQL statements in one sql procedure (before the quite statement).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;While records in a relational database management system (RDMS) does not perserve
the order that they were created 
(i.e., 
the order of records returned by a query (without sorting) 
is not necessarily the same as the order of them being created),
a dataset in SAS preserves the order of records created.
Even if you use a SQL procedure to insert records into a dataset in SAS,
the order of records is preserved.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Most SAS functions can be used in the SQL procedure,
e.g., &lt;code&gt;intnx&lt;/code&gt;, etc. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;pctl&lt;/code&gt; function in SAS cannot be used in the SQL procedure.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;select into, sql. great!
and can be one variable &lt;code&gt;separated by " "&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The noprint option of the SQL procedure supress displaying of results returned by select clauses.
However, if you create a table SAS Enterprise Guide will still show the dataset created.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you select values into macro variables using a sql procedure in a macro function, 
the macro varibles created are local to the macro function.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In many procedures of SAS,
you can use the option &lt;code&gt;obs&lt;/code&gt; (together with &lt;code&gt;firstObs&lt;/code&gt;) to select/limit records to work on or return.
For &lt;code&gt;proc sql&lt;/code&gt;, 
you can use the option &lt;code&gt;outObs&lt;/code&gt; to limit the number of records to display/return. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;proc sql &lt;/span&gt;outobs=&lt;span class="m"&gt;12&lt;/span&gt;;
    &lt;span class="k"&gt;select&lt;/span&gt; 
        city, 
        (avgHigh - &lt;span class="m"&gt;32&lt;/span&gt;) * &lt;span class="m"&gt;5&lt;/span&gt;/&lt;span class="m"&gt;9&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; highC &lt;span class="k"&gt;format&lt;/span&gt;=&lt;span class="m"&gt;5.1&lt;/span&gt;, 
        (avgLow - &lt;span class="m"&gt;32&lt;/span&gt;) * &lt;span class="m"&gt;5&lt;/span&gt;/&lt;span class="m"&gt;9&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; lowC &lt;span class="k"&gt;format&lt;/span&gt;=&lt;span class="m"&gt;5.1&lt;/span&gt;,
        (CALCULATED HighC - CALCULATED lowC) &lt;span class="k"&gt;as&lt;/span&gt; range &lt;span class="k"&gt;format&lt;/span&gt;=&lt;span class="m"&gt;4.1&lt;/span&gt;
    &lt;span class="k"&gt;from&lt;/span&gt; 
        worldTemps
    &lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;quit;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;You can use an column alias in &lt;code&gt;where&lt;/code&gt;, &lt;code&gt;having&lt;/code&gt;, &lt;code&gt;on&lt;/code&gt; clauses directly. 
However, if you want to use an column alias to create another column in a &lt;code&gt;select&lt;/code&gt; statement,
you have to use the &lt;code&gt;CALCULATED&lt;/code&gt; keywords to let &lt;code&gt;proc sql&lt;/code&gt; know that it is an alias.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;proc sql;&lt;/span&gt;
    &lt;span class="k"&gt;select&lt;/span&gt; 
        city, 
        (avgHigh - &lt;span class="m"&gt;32&lt;/span&gt;) * &lt;span class="m"&gt;5&lt;/span&gt;/&lt;span class="m"&gt;9&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; highC &lt;span class="k"&gt;format&lt;/span&gt;=&lt;span class="m"&gt;5.1&lt;/span&gt;, 
        (avgLow - &lt;span class="m"&gt;32&lt;/span&gt;) * &lt;span class="m"&gt;5&lt;/span&gt;/&lt;span class="m"&gt;9&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; lowC &lt;span class="k"&gt;format&lt;/span&gt;=&lt;span class="m"&gt;5.1&lt;/span&gt;,
        (CALCULATED highC - CALCULATED lowC) &lt;span class="k"&gt;as&lt;/span&gt; range &lt;span class="k"&gt;format&lt;/span&gt;=&lt;span class="m"&gt;4.1&lt;/span&gt;
    &lt;span class="k"&gt;from&lt;/span&gt; 
        worldTemps
    &lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;quit;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;union all (keep all rows) vs union (distinct/unique) 
prefer to use union all
union and union all relies on column positions
another way is to use proc append which appends data by matching column names&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;append as advantages over sql union
append tries to match column names while sql union relies on the column orders. &lt;/p&gt;
&lt;p&gt;be careful when you use append, be sure to remove previous data sets ...
as you might run the same piece of code multiple times&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you sort observations using the &lt;code&gt;order by&lt;/code&gt; clause
when creating a table (using the &lt;code&gt;create table&lt;/code&gt; stateemnt), 
then observations in the created table is sorted.
It is equivalent to sort a table using the &lt;code&gt;proc sort&lt;/code&gt; procedure.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Even if observations in a table is sorted, 
you have to rely on the &lt;code&gt;order by&lt;/code&gt; clause to get sorted observations.
That is the &lt;code&gt;select&lt;/code&gt; statement without &lt;code&gt;order by&lt;/code&gt; guarantees no specific order of observations.
This is true for all versions of SQLs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When creating a new table/view using the SQL procedure,
you can specify columns to keep/drop similarly as you can do in other procedures.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;data &lt;/span&gt;s;
    &lt;span class="k"&gt;input&lt;/span&gt; &lt;span class="k"&gt;x&lt;/span&gt; $&lt;span class="m"&gt;10&lt;/span&gt;. y;
&lt;span class="k"&gt;    datalines;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;span class="x"&gt;1234567890 2 &lt;/span&gt;
&lt;span class="x"&gt;3          4&lt;/span&gt;
&lt;span class="x"&gt;5          6&lt;/span&gt;
&lt;span class="x"&gt;;&lt;/span&gt;
&lt;span class="x"&gt;run;&lt;/span&gt;

&lt;span class="x"&gt;proc sql;&lt;/span&gt;
&lt;span class="x"&gt;    create table s2 (keep=y) as&lt;/span&gt;
&lt;span class="x"&gt;    select&lt;/span&gt;
&lt;span class="x"&gt;        *&lt;/span&gt;
&lt;span class="x"&gt;    from &lt;/span&gt;
&lt;span class="x"&gt;        s&lt;/span&gt;
&lt;span class="x"&gt;    ;&lt;/span&gt;
&lt;span class="x"&gt;quit;&lt;/span&gt;

&lt;span class="x"&gt;proc sql;&lt;/span&gt;
&lt;span class="x"&gt;    create table s3 (drop=x) as&lt;/span&gt;
&lt;span class="x"&gt;    select&lt;/span&gt;
&lt;span class="x"&gt;        *&lt;/span&gt;
&lt;span class="x"&gt;    from &lt;/span&gt;
&lt;span class="x"&gt;        s&lt;/span&gt;
&lt;span class="x"&gt;    ;&lt;/span&gt;
&lt;span class="kr"&gt;quit;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="SAS"></category><category term="tips"></category><category term="SQL"></category></entry><entry><title>Limiting/Filtering Results in SAS</title><link href="http://www.legendu.net/misc/blog/limiting-filtering-results-in-sas/" rel="alternate"></link><published>2015-08-28T12:54:45-07:00</published><updated>2015-08-28T12:54:45-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-08-28:/misc/blog/limiting-filtering-results-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In the data step you can use the hidden variable &lt;code&gt;_n_&lt;/code&gt; to select records based on observation id.&lt;/p&gt;
&lt;p&gt;In &lt;code&gt;proc …&lt;/code&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In the data step you can use the hidden variable &lt;code&gt;_n_&lt;/code&gt; to select records based on observation id.&lt;/p&gt;
&lt;p&gt;In &lt;code&gt;proc sql&lt;/code&gt;,
you can use the &lt;code&gt;outobs&lt;/code&gt; option.
In other procedures,
you can use &lt;code&gt;firstobs&lt;/code&gt; together with &lt;code&gt;obs&lt;/code&gt; to limit records based observation id.
Again, this is ugly as you have to much to remember when using SAS.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;proc sql;&lt;/span&gt;
    &lt;span class="k"&gt;select&lt;/span&gt; *
    &lt;span class="k"&gt;from&lt;/span&gt; sasHelp&lt;span class="m"&gt;.&lt;/span&gt;cars
    &lt;span class="k"&gt;where&lt;/span&gt; monotonic() &amp;lt;= &lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;quit;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;monotonic&lt;/code&gt; function is similar to the &lt;code&gt;row_number&lt;/code&gt; function in Oracle SQL.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;proc sql &lt;/span&gt;outobs=&lt;span class="m"&gt;10&lt;/span&gt;;
    &lt;span class="k"&gt;select&lt;/span&gt;
&lt;span class="cm"&gt;        *&lt;/span&gt;
&lt;span class="cm"&gt;    from &lt;/span&gt;
&lt;span class="cm"&gt;        ia.ia_lgd_final_macro_mdl_v2&lt;/span&gt;
&lt;span class="cm"&gt;    ;&lt;/span&gt;
&lt;span class="kr"&gt;quit;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For other steps, you can use firstObs and obs to limit the number of observations.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;proc print &lt;/span&gt;data=s (obs=&lt;span class="m"&gt;5&lt;/span&gt;)&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="SAS"></category><category term="limiting"></category><category term="filtering"></category></entry><entry><title>Copy Data in SAS</title><link href="http://www.legendu.net/misc/blog/copy-data-in-sas/" rel="alternate"></link><published>2015-08-28T12:50:40-07:00</published><updated>2015-08-28T12:50:40-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-08-28:/misc/blog/copy-data-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;/* copy data using the datasets procedure */&lt;/span&gt;
&lt;span class="kr"&gt;proc datasets;&lt;/span&gt;
    copy &lt;span class="k"&gt;in&lt;/span&gt;=src_lib &lt;span class="k"&gt;out&lt;/span&gt;=des_lib &lt;span class="k"&gt;index&lt;/span&gt;=yes;
    &lt;span class="k"&gt;select&lt;/span&gt; data_set_1 data_set_2&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;quit;&lt;/span&gt;

&lt;span class="c"&gt;/* copy …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;/* copy data using the datasets procedure */&lt;/span&gt;
&lt;span class="kr"&gt;proc datasets;&lt;/span&gt;
    copy &lt;span class="k"&gt;in&lt;/span&gt;=src_lib &lt;span class="k"&gt;out&lt;/span&gt;=des_lib &lt;span class="k"&gt;index&lt;/span&gt;=yes;
    &lt;span class="k"&gt;select&lt;/span&gt; data_set_1 data_set_2&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;quit;&lt;/span&gt;

&lt;span class="c"&gt;/* copy data using the copy procedure */&lt;/span&gt;
&lt;span class="kr"&gt;proc copy &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;=source &lt;span class="k"&gt;out&lt;/span&gt;=xptout memtype=data;
    &lt;span class="k"&gt;select&lt;/span&gt; bonus budget salary&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;

&lt;span class="c"&gt;/* copy using a data step */&lt;/span&gt;
&lt;span class="kr"&gt;data &lt;/span&gt;copy;
    &lt;span class="k"&gt;set&lt;/span&gt; raw&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;

&lt;span class="c"&gt;/* copy data using a SQL procedure */&lt;/span&gt;
&lt;span class="kr"&gt;proc sql;&lt;/span&gt;
    &lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; t &lt;span class="k"&gt;as&lt;/span&gt;
    &lt;span class="k"&gt;select&lt;/span&gt; * &lt;span class="k"&gt;from&lt;/span&gt; s&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;quit;&lt;/span&gt;

&lt;span class="c"&gt;/* copying directly using command line */&lt;/span&gt;
&lt;span class="k"&gt;x&lt;/span&gt; cp src_file des_file;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;datasets and copy are essentially the same&lt;/li&gt;
&lt;li&gt;datasets and copy can copy the index as well&lt;/li&gt;
&lt;li&gt;generally speaking, the datasets procedure is preferred
actually datasets is recommended for not only copying but also deleting, renaming datasets, etc.&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SAS"></category><category term="copy"></category><category term="dataset"></category><category term="datasets"></category><category term="data step"></category></entry><entry><title>Some Questions About C++</title><link href="http://www.legendu.net/misc/blog/cpp-questions/" rel="alternate"></link><published>2015-08-28T12:43:15-07:00</published><updated>2015-08-28T12:43:15-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-08-28:/misc/blog/cpp-questions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;in C++, vector is the fastest, is the same for Java and other programming languages, 
I think the concept of …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;in C++, vector is the fastest, is the same for Java and other programming languages, 
I think the concept of cache applies, but what about deep copy, etc.?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;what's the difference between a vector of pointers and a vector of objects?
if class object, how does it store them in memory ...? 
does it save address or reference? and all objects (all contents) continus? &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;when does one have to provide copy/move constructors and operator=?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;different ways to pass a function/functor as argument? 
It seems that to me that there are many diffrent ways. 
For example, one can use function pointers,
functional argument, or use template ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;in the standard library, the template way is used a lot.
which of them is recommended? &lt;/p&gt;
&lt;p&gt;My opinion:
function pointer is more C style,
functon object is C++ style and cleaner. 
Both of them requires you to specify the signature of the function.
However, template is more flexible which doesn't require you to specify the signature. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;about "{}" initializing list? what's wrong? Do I misunderstand it?
Just avoid using "auto" together with "{}".&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;multiple std::tolower function, how to resolve overload problem when using it as a function in algorithm functions?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;what's the difference between std::min and std::fmin? 
std::min is more general
std::fmin is specifically for floating point numbers&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;the static_cast from integer/double to unsigned integer is very tricky. 
be sure you understand how it works. -2 will be casted to a large number. 
I think some bits are discarded ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it seems to me that when using integers, 
it's easy to get an overflow bug, especially when you use unsigned integers ...
see whether there's a good practice to avoid this.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;what happens if you use a reference to a reference? do we get a rvalue reference or what?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;a question about boost::graph, vertex iterator and other iterator, sorted or not?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;what happens if the arguments of make_pair is rvalues and a value 
also does it get ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;when is recursive definition possible? in your HMM case, it seems that the components must be separated ...
because it relies on defintion of ... and thus cannot be put into the definition ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;can we use g++ with libc++?
g++ -nostdlib -lc++ -lc++abi -std=c++11 -o plop /usr/lib/x86_64-linux-gnu/crt1.o /usr/lib/x86_64-linux-gnu/crti.o foo.cpp /usr/lib/x86_64-linux-gnu/crtn.o -isystem/usr/include/c++/v1 -lc -lgcc_s&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;why C/C++ library offeres only shared memory model?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="template-meta-programming"&gt;Template Meta Programming&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;can a template class be defined in a non-template class?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how to define a hash function for a user defined class?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="file-system"&gt;File System&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;how to get the current working directory?&lt;/li&gt;
&lt;/ol&gt;</content><category term="questions"></category><category term="C++"></category><category term="programming"></category></entry><entry><title>Manipulate Data in SAS</title><link href="http://www.legendu.net/misc/blog/sas-data-manipulation/" rel="alternate"></link><published>2015-08-02T12:40:28-07:00</published><updated>2015-08-02T12:40:28-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-08-02:/misc/blog/sas-data-manipulation/</id><summary type="html">&lt;p&gt;&lt;img src="http://dclong.github.io/media/sas/sas.jpg" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;h2 id="data-manipulation"&gt;Data Manipulation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create a user library if you want your SAS data sets to persist.
For example,
the following code creates a library named &lt;code&gt;lib&lt;/code&gt; 
which points to the directory &lt;code&gt;~/sas/lib&lt;/code&gt;,
and creates a data set named &lt;code&gt;s1&lt;/code&gt; in this library in the data step.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;libname&lt;/span&gt; &lt;span class="n"&gt;lib&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;~/sas/lib …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;img src="http://dclong.github.io/media/sas/sas.jpg" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;h2 id="data-manipulation"&gt;Data Manipulation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create a user library if you want your SAS data sets to persist.
For example,
the following code creates a library named &lt;code&gt;lib&lt;/code&gt; 
which points to the directory &lt;code&gt;~/sas/lib&lt;/code&gt;,
and creates a data set named &lt;code&gt;s1&lt;/code&gt; in this library in the data step.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;libname&lt;/span&gt; &lt;span class="n"&gt;lib&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;~/sas/lib&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;lib&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;s1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The data set &lt;code&gt;s1&lt;/code&gt; will persist after you quit SAS,
and you can still access it next time you use SAS.
Surely you have to define a library (e.g., &lt;code&gt;lib&lt;/code&gt;) pointing the diretory &lt;code&gt;~/sas/lib&lt;/code&gt; again,
and use the library to reference the data set &lt;code&gt;s1&lt;/code&gt; (e.g., &lt;code&gt;lib.s1&lt;/code&gt;). &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can specify several different directories as a single library in SAS. 
For example,
the following code creates a library named &lt;code&gt;mlib&lt;/code&gt; pointing to 
a previously created library &lt;code&gt;lib&lt;/code&gt; and 
directories &lt;code&gt;~/sas/lib2&lt;/code&gt; and &lt;code&gt;~/sas/lib3&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;libname&lt;/span&gt; &lt;span class="n"&gt;mlib&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lib&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;~/sas/lib2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;~/sas/lib3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This is convenient if you previous created SAS data sets in different directories
and want to use all of them without moving these data sets.
Note that when you create data sets in &lt;code&gt;mlib&lt;/code&gt;, 
SAS will use these directories/libraries in the order you specified.
That is SAS will put the data set into &lt;code&gt;lib&lt;/code&gt; if there's space,
otherwise it looks for the next directory with enough space.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use create shortcuts for files in SAS.
For example,
the following code creates a file shortcut &lt;code&gt;f&lt;/code&gt; pointing to a local file,
and use it in data step.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;~/sas/examples/data/fake1.txt&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;s1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;infile&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To point a file online, 
you can the following code.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;http://dclong.github.io/fake1.txt&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;s1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;infile&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This allows you to read files online in SAS.
You can also create a a file shortcut point to a directory. 
For example, the following is equivalent code to the first example.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;~/sas/examples/data/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;s1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;infile&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fake1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;txt&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This is convenient if you have to read in many files from the same directory.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When a matrix has many columns (variables), 
it is not very convenient to specify variables to read in 
(if you want to read in almost all of them). 
A good alternative is to read in all numeric/character columns into IML procedure i
and then drop unnecessary columns.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use proc import or proc access to read data from different
kinds of files and this enable us to read data without specify
variable names.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;There are two popular ways to manipulate data sets in SAS, 
the data step and the SQL procedure. 
The data step is often used to read in data. 
It can also perform some simple data manipulation jobs, 
for example, selecting variables and merge data sets. 
The SQL procedure is an advanced way for 
manipulating data sets. 
Besides these two ways, 
there are also other SAS procedures for manipulating data sets. 
For example, the &lt;code&gt;transpose&lt;/code&gt; procedure can transpose a data set. 
Almost all SAS procedures can filter observations and variables before using a data set. 
For example, you can use &lt;code&gt;where&lt;/code&gt; statement to filter observations, 
and you can use &lt;code&gt;keep&lt;/code&gt; and &lt;code&gt;drop&lt;/code&gt; after &lt;code&gt;data=data_set_name&lt;/code&gt; 
to select variables in the input and output data set. 
In many SAS procedures, you can use the &lt;code&gt;var&lt;/code&gt; statment to declare the variable(s) to work on.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You must sort data sets first before you merge them together.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;All temporary variables are kept in the data set by default in the data step. 
If not overwritten, 
the next value (value in next observation) of a variable is its value in last observation. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use &lt;code&gt;set&lt;/code&gt; in a data step 
to combine data both vertically (by row) and horizontally (by column).
When combining two data sets d1 and d2 vertically (using set d1 d2;),
records are combined by column names,
i.e., columns with the same name are concatenated.
For a column in d1/d2 but not in d2/d1,
it is recorded as missing.
For example,
suppose we have data set d1 &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;x1&lt;/th&gt;
&lt;th align="center"&gt;x2&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;and d2&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;x1&lt;/th&gt;
&lt;th align="center"&gt;x3&lt;/th&gt;
&lt;th align="center"&gt;x4&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;1000&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;-1000&lt;/td&gt;
&lt;td align="center"&gt;300&lt;/td&gt;
&lt;td align="center"&gt;400&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;d3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="n"&gt;d1&lt;/span&gt; &lt;span class="n"&gt;d2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;returns&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;x1&lt;/th&gt;
&lt;th align="center"&gt;x2&lt;/th&gt;
&lt;th align="center"&gt;x3&lt;/th&gt;
&lt;th align="center"&gt;x4&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;2&lt;/td&gt;
&lt;td align="center"&gt;.&lt;/td&gt;
&lt;td align="center"&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;td align="center"&gt;.&lt;/td&gt;
&lt;td align="center"&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;1000&lt;/td&gt;
&lt;td align="center"&gt;.&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;-1000&lt;/td&gt;
&lt;td align="center"&gt;.&lt;/td&gt;
&lt;td align="center"&gt;300&lt;/td&gt;
&lt;td align="center"&gt;400&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;When combining two data sets horizontally,
columns in the first data sets are overwritten
if they also exists in the second data set.
For example,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;d4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="n"&gt;d1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="n"&gt;d2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;returns&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;x1&lt;/th&gt;
&lt;th align="center"&gt;x2&lt;/th&gt;
&lt;th align="center"&gt;x3&lt;/th&gt;
&lt;th align="center"&gt;x4&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;1000&lt;/td&gt;
&lt;td align="center"&gt;2&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;-1000&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;td align="center"&gt;300&lt;/td&gt;
&lt;td align="center"&gt;400&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;However,
columns that appear in both datasets (d1 and d2) must have the same data type 
(either numeric or character).&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;merge&lt;/code&gt; to combine data horizontally (by column) in a data step. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;return&lt;/code&gt; statement in the data step tell SAS 
that the reading/manipulation of current observation is done 
and it should continues to read/manipulate the next observation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use variables in the data step without initialize them. 
The default value for numerical variables is 0,
and the default value for character variables is the empty string. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When we read in data in data step we can treat "txt" file as "dat" file sometimes, 
which means that we can use file extension "dat".
(actually, I don't file extension matters)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PROC SQL is a very powerful procedure to deal with data set, 
but still data step have some advantages over SQL procedure.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When we print out a data set, 
the label(s) we have defined in data step will not appear in the output 
unless we define lable(s) again in print procedure. 
However if we use PROC SQL to get a report of the data set, 
the label(s) will appear in the output.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You often use statement &lt;code&gt;filename&lt;/code&gt; to make shortcut, 
so that we can read in data easily either from a website or a local disk. 
You often define a shortcut as the whole path of a file. 
Actually, we can just specify part of the path as the shortcut.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sometime times problems might occur when we read data into SAS from a file. 
This might be because that there are too many columns in a row. 
You use option &lt;code&gt;lrecl=n&lt;/code&gt; to change the configuration. 
However the biggest value for &lt;code&gt;lrecl&lt;/code&gt; is 32767, 
which means that there cannot be unlimited columns in a row.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;if&lt;/code&gt; statment for extracting a sub set from a data set
can be substituted by &lt;code&gt;where&lt;/code&gt; statement 
given that you only keep the condition in the &lt;code&gt;if&lt;/code&gt; statement.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;lag and dif functions very useful ...
can we combine lag and diff? yes
lag doesn't work on variables that don't exist in the table
so you cannot use lag on new variables
instead, you should use retain
a friend of me asked a good question about lag, opposite, doesn't exists, 
between read in data line by line ....
such a function requires second scan ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;However, a lagged variable in the data step cannot be used by itself.
That is y = f(lag_y) will not work as you expected.
If lag1, you can use reatain. otherwise, it is very hard to do in SAS. 
see the example on another post ...&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;scan ... similar to split in other programming languages&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is recommended to use x1 x2 and so on as variable names in the data step. 
this makes manipulating data much easier.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;termstr, according to files created on different operating systems ...
use different termstr&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;goto&lt;/code&gt; (or &lt;code&gt;go to&lt;/code&gt;) is supported in SAS.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use "||" or "!!" to concatenate characters horizontally and "//" 
to concatenate matrices vertically.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Using multiple &lt;code&gt;input&lt;/code&gt; statement in a data step allows you
to read a single record from multiple lines
and the double trailing at sign (&lt;code&gt;@@&lt;/code&gt;) allows you to read in data in flexible way&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In many procedures, 
you can filter data that you want to work on in parentheses following the dataset name.
For example, 
you can use the following code to print out the first 10 observations/rows/records of the data set &lt;code&gt;fit&lt;/code&gt;.
        proc print data = fit (obs = 10);
            title 'Data set "fit".'
        run;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In a data step, 
you can overwrite an existing data set&lt;br&gt;
even if it is used in the data step.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;d1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="n"&gt;d1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="n"&gt;d2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you do not specify an output data set in the sort proc,
the original data set will be overwritten by the result (sorted data set).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Unlike many other programming languages,
SAS math functions cannot handle singular point,
e.g., log(0) is invalid in SAS.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it is recommended to use x1 x2 and so on as variable names in the data step. this makes manipulating data much easier.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the data step, 
you can assign values to a variable multiple times 
and the last assigned value will be kept.
However, 
tricky things can happen if you do this.
Please refer to the post about confusing string in sas.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When using datalines in a sas data step, tab (instead of space) can causes troubles. 
There might be options to get rid of the problem, but I forget which option to use ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The datasets procedure is recommended for copying, deleting and renaming datasets, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SAS"></category><category term="SQL"></category><category term="data step"></category><category term="data manipulation"></category></entry><entry><title>General Tips for SAS</title><link href="http://www.legendu.net/misc/blog/general-tips-for-sas/" rel="alternate"></link><published>2015-08-02T12:05:07-07:00</published><updated>2015-08-02T12:05:07-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-08-02:/misc/blog/general-tips-for-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement. 
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Do not go crazy in encapsulating/reusing code in SAS.
SAS is too stupid on this.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;proc univariate&lt;/code&gt; only works …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement. 
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Do not go crazy in encapsulating/reusing code in SAS.
SAS is too stupid on this.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;proc univariate&lt;/code&gt; only works on numerical variables.
You can use &lt;code&gt;proc freq&lt;/code&gt; or &lt;code&gt;proc sql&lt;/code&gt; to summary statistics of character variables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sometimes, you need to use plain password to access some database (due to stupid steup ...)
one way to make things a little bit secure is to define you username 
and password as macros in a sas file 
and put them into your home directory 
and do not any other people read access ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can run &lt;code&gt;dm 'clear log';&lt;/code&gt; to clear log information.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are two kinds of modules in SAS.
One is data step, 
the other is procedure.
The data steps read in, create and modify data sets.
The procedures are mainly used to analyze data sets and display results.
However, 
procedures can also manipulate data, 
e.g., the &lt;code&gt;SQL&lt;/code&gt;, &lt;code&gt;SORT&lt;/code&gt;, &lt;code&gt;TRANSPOSE&lt;/code&gt; procedures and so on.
Every procedure in SAS has tons of options 
that help you accomplish different tasks. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are 2 ways (&lt;code&gt;*...;&lt;/code&gt; and &lt;code&gt;/*...*/&lt;/code&gt;) to make comment in SAS. 
It is recommended that you always use the &lt;code&gt;/*...*/&lt;/code&gt; comment style.
The reason is that &lt;code&gt;*...;&lt;/code&gt; might cause problems in user-defined macro functions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In SAS, 
a key word can have different means in different context. 
For example, 
a key word can be an option, 
a function or a procedure. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAS is a very stupid language. 
It is very annoying in the sense 
that the identical code might not work in a different environment.
And even if it works, 
it might give you different results.
For example,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;intnx&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;week&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;17oct03&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;put&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="n"&gt;date9&lt;/span&gt;&lt;span class="p"&gt;.;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;prints &lt;code&gt;16032&lt;/code&gt; while&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="n"&gt;_null_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;intnx&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;week&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;17oct03&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;put&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="n"&gt;date9&lt;/span&gt;&lt;span class="p"&gt;.;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;prints &lt;code&gt;23NOV2003&lt;/code&gt; in the log 
(Note that you should not put &lt;code&gt;date9.&lt;/code&gt; in single/double quotations. 
Please refer to Confusing string in SAS for more on this).&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;_null_&lt;/code&gt; date step is good environment for testing SAS code.
Neither macro (outside data steps or procedures) 
nor the &lt;code&gt;IML&lt;/code&gt; procedure is as convenient.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;intnx&lt;/code&gt; function returns the SAS date value 
for the &lt;strong&gt;beginning&lt;/strong&gt; date, time, 
or datetime value of the interval that you specify in the start-from argument. 
For example, 
&lt;code&gt;intnx('month', '08aug2013'd, 0);&lt;/code&gt; 
returns a value that represent Aug 1, 2013.
To convert the SAS date value to a calendar date, 
use any valid SAS date format (such as the &lt;code&gt;date9.&lt;/code&gt; format).
The following example shows 
how to determine the date of the start of the week 
that is six weeks from the week of October 17, 2003.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;intnx&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;week&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;17oct03&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;put&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="n"&gt;date9&lt;/span&gt;&lt;span class="p"&gt;.;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Every SAS command must be ended with a semicolon (&lt;code&gt;;&lt;/code&gt;).
If you miss a semicolon in SAS,
code following might turn red in SAS enhanced editor.
And you will get wild error messages if you run the code.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Most procedures in SAS take data sets 
(with rows stand for observations and columns stand for variables) as input. 
However, 
some procedures also accept other special types of data (e.g., covariance matrix) as input.
When you want to use a special type of data as input, 
you must explicit specify its type (use &lt;code&gt;type=data_type&lt;/code&gt;).  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you keep variable names in SAS short 
(best not to exceed 8 characters),
because you cannot use names with more than 8 characters in some situations,&lt;br&gt;
e.g., when you create shortcut using &lt;code&gt;filename&lt;/code&gt; 
(not sure whether this has been changed in new versions of SAS).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="output"&gt;Output&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;It is very slow to display results in HTML format 
when there are massive results. 
Instead of using the &lt;code&gt;print&lt;/code&gt; procedure, 
it might be much faster to just rerun the code. &lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="linear-models"&gt;Linear Models&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Prefer nested than distinct (many) levels,
for example, instead of 1-9, 
prefer 1-3 inside another factor of 3 levels. 
This is a performance concern. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Prefer numerical values to character values: 
first, character variables has a default length of 8 which is usually too short
while numerical values are 64 bits. 
Second, the &lt;code&gt;IML&lt;/code&gt; procedure accepts matrices only, 
so you cannot mix numeric and character values in the &lt;code&gt;IML&lt;/code&gt; procedure.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use the &lt;code&gt;SetInit&lt;/code&gt; procedure (see code below) 
to list SAS expiration date, licensed components, etc.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;proc&lt;/span&gt; &lt;span class="n"&gt;setinit&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can include a SAS file using the &lt;code&gt;%include&lt;/code&gt; macro.
To include a single file, 
use &lt;code&gt;%include path_to_file;&lt;/code&gt;.
You can also include multiple SAS files at a time using the following statement&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%include&lt;/span&gt; &lt;span class="n"&gt;mylib&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;c1.sas&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;c2.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;where &lt;code&gt;mylib&lt;/code&gt; is SAS library.
You can ignore the extention and quotations marks for "c1.sas" 
as it has an SAS file extension. 
However,
it is recommended that you always use quotation marks and full file names.
You can also include an SAS file interactively using &lt;code&gt;%include *;&lt;/code&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;A &lt;code&gt;filename&lt;/code&gt; shortcut points to a location on the machine that runs SAS.
For example, 
if you run SAS on a server using SAS Enterprise Guide, 
a &lt;code&gt;filename&lt;/code&gt; shortcut should point to a location 
on the server not a location on your local computer.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The maximum length for numeric variables is 8. 
SAS has only 2 types of data: numeric and character.
The SQL procedure supports more numeric data types,
but they are just alias to numeric (type).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="character"></category><category term="programming"></category><category term="SAS"></category><category term="procedure"></category><category term="data step"></category><category term="tip"></category></entry><entry><title>Profile C++ Code</title><link href="http://www.legendu.net/misc/blog/profile-c++-code/" rel="alternate"></link><published>2015-06-22T22:01:47-07:00</published><updated>2015-06-22T22:01:47-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-06-22:/misc/blog/profile-c++-code/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You can use valgrind with the following options&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;valgrind --tool&lt;span class="o"&gt;=&lt;/span&gt;callgrind ./&lt;span class="o"&gt;(&lt;/span&gt;Your binary&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It will generate a file called callgrind …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You can use valgrind with the following options&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;valgrind --tool&lt;span class="o"&gt;=&lt;/span&gt;callgrind ./&lt;span class="o"&gt;(&lt;/span&gt;Your binary&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It will generate a file called callgrind.out.x. 
You can then use kcachegrind tool to read this file. 
It will give you a graphical analysis of things with results like which lines cost how much.&lt;/p&gt;</content><category term="programming"></category><category term="C++"></category><category term="profile"></category><category term="profiling"></category><category term="speed"></category><category term="performance"></category><category term="Valgrind"></category><category term="kcachegrind"></category></entry><entry><title>Add Sequential ID for Observations in SAS</title><link href="http://www.legendu.net/misc/blog/add-sequential-id-for-observations-in-sas/" rel="alternate"></link><published>2015-06-20T23:25:05-07:00</published><updated>2015-06-20T23:25:05-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-06-20:/misc/blog/add-sequential-id-for-observations-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;data s1;
    set s;
    obs_id = &lt;em&gt;n&lt;/em&gt;;
run;&lt;/p&gt;
&lt;p&gt;proc sql;
    create table s1 as
    select 
        monotonic() as obs_id,
        *
    from
        s
    ;
run …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;data s1;
    set s;
    obs_id = &lt;em&gt;n&lt;/em&gt;;
run;&lt;/p&gt;
&lt;p&gt;proc sql;
    create table s1 as
    select 
        monotonic() as obs_id,
        *
    from
        s
    ;
run;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The &lt;code&gt;monotonic&lt;/code&gt; function runs before &lt;code&gt;sort&lt;/code&gt; and &lt;code&gt;group by&lt;/code&gt;.
So even if it gives distinct observation ID,
it guarantees no specific order of observations.
It is suggested that you use the data step approach 
rather than the &lt;code&gt;nonotonic&lt;/code&gt; way in SQL
if you want the generated observation IDs to preserve some kind of order of observations.&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SAS"></category><category term="SQL"></category><category term="sequential"></category><category term="ID"></category><category term="observation"></category></entry><entry><title>MS SQL Server Tips</title><link href="http://www.legendu.net/misc/blog/ms-sql-server-tips/" rel="alternate"></link><published>2015-06-20T21:36:25-07:00</published><updated>2015-06-20T21:36:25-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-06-20:/misc/blog/ms-sql-server-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;convert: 106 - dd mon yyyy, 101 - mm/dd/yyyy&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;convert: 106 - dd mon yyyy, 101 - mm/dd/yyyy&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SQL"></category><category term="tips"></category><category term="MS SQL Server"></category></entry><entry><title>SAS Enterprise Guide Tips</title><link href="http://www.legendu.net/misc/blog/sas%20enterprise%20guide%20tips/" rel="alternate"></link><published>2015-06-14T18:44:56-07:00</published><updated>2015-06-14T18:44:56-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-06-14:/misc/blog/sas enterprise guide tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can open multiple SAS Enterprise Guide instances.
This allows you to work on another project if your SAS code …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can open multiple SAS Enterprise Guide instances.
This allows you to work on another project if your SAS code takes a long time to run.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can set the workplace layout to be "side by side" or "stacked".
This makes things convenient as you can see both your code and the execuation results at the same time.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;"Selected Server: ..."&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;"Profile" at right bottom corner&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CTRL +SHIFT + s WITH/WITHOUT SHIFT
save/save as&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;select then tab or shift + tab &amp;gt;&amp;gt; &amp;lt;&amp;lt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAS Enterprise Guide does not auto load changed code 
if it is updated in another place/editor.
You have to close the file and reopen it to get the updated version. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;show line number 
Menu -&amp;gt; Program -&amp;gt; Editor Options... -&amp;gt; General Tab -&amp;gt; check "Show line numbers"&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="shotcurts"&gt;Shotcurts&lt;/h2&gt;
&lt;p&gt;Convert case
Convert selected text to upper case: Ctrl + Shift + U
Convert selected text to lower case: Ctrl + Shift + L&lt;/p&gt;
&lt;p&gt;Quick commenting
Wrap selection (or current line) in a comment: Ctrl + /
Unwrap selection (or current line) from a comment: Ctrl + Shift + /&lt;/p&gt;
&lt;p&gt;Hyperjump to a line
Go to line: Ctrl + G (prompts for a line number)
Be sure to turn on Show line numbers in Program-&amp;gt;Editor Options, or you'll be navigating blind!&lt;/p&gt;
&lt;p&gt;Jump to the "end of scope"
Move caret to matching parenthesis/brace: Ctrl + [, Ctrl + ]
Move caret to matching DO/END keyword: Alt + [, Alt + ]&lt;/p&gt;
&lt;p&gt;There are dozens of other shortcut keys and commands available in the program editor. In SAS Enterprise Guide, you can view them all by selecting Program-&amp;gt;Enhanced Editor Keys. From this window you can customize the keypress behaviors to your liking, and you can also combine commands and assign them to new keys. If you're a "keyboard person", then you'll want to visit this window and explore. Be sure to click "Include commands without key assignments" to see the full list of available commands.&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="SAS Enterprise Guide"></category><category term="GUI"></category><category term="SEG"></category></entry><entry><title>Operators in Different Programming Languages</title><link href="http://www.legendu.net/misc/blog/operators-popular-language/" rel="alternate"></link><published>2015-05-30T14:38:25-07:00</published><updated>2015-05-30T14:38:25-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-30:/misc/blog/operators-popular-language/</id><summary type="html">&lt;table border="1" align="center"&gt;
    &lt;tr&gt;
        &lt;th&gt; &lt;/th&gt;
        &lt;th&gt;Bash&lt;/th&gt;
        &lt;th&gt;C/C++&lt;/th&gt;
        &lt;th&gt;D&lt;/th&gt;
        &lt;th&gt;Java&lt;/th&gt;
        &lt;th&gt;Julia&lt;/th&gt;
        &lt;th&gt;Mathematica&lt;/th&gt;
        &lt;th&gt;MATLAB&lt;/th&gt;
        &lt;th&gt;Python&lt;/th&gt;
        &lt;th&gt;R&lt;/th&gt;
        &lt;th&gt;Ruby&lt;/th&gt;
        &lt;th&gt;VB/VB.net&lt;/th&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; and &lt;/td&gt;
        &lt;td&gt; -a &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; and &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp;, and &lt;/td&gt;
        &lt;td&gt; and &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; or &lt;/td&gt;
        &lt;td&gt; -o &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; or &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; ||, or &lt;/td&gt;
        &lt;td&gt; or &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; not &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; not &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; !, not  &lt;/td&gt;
        &lt;td&gt; not &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; bit and &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; BitAnd &lt;/td&gt;
        &lt;td&gt; bitand &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; bitops::bitAnd &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; bit or &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; BitOr &lt;/td&gt;
        &lt;td&gt; bitor &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; bitops:bitOr &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; bit not &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; BitNot &lt;/td&gt;
        &lt;td&gt; bitnot &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; bitops:bitNot &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; bit xor &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; BitXor &lt;/td&gt;
        &lt;td&gt; bitxor …&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><content type="html">&lt;table border="1" align="center"&gt;
    &lt;tr&gt;
        &lt;th&gt; &lt;/th&gt;
        &lt;th&gt;Bash&lt;/th&gt;
        &lt;th&gt;C/C++&lt;/th&gt;
        &lt;th&gt;D&lt;/th&gt;
        &lt;th&gt;Java&lt;/th&gt;
        &lt;th&gt;Julia&lt;/th&gt;
        &lt;th&gt;Mathematica&lt;/th&gt;
        &lt;th&gt;MATLAB&lt;/th&gt;
        &lt;th&gt;Python&lt;/th&gt;
        &lt;th&gt;R&lt;/th&gt;
        &lt;th&gt;Ruby&lt;/th&gt;
        &lt;th&gt;VB/VB.net&lt;/th&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; and &lt;/td&gt;
        &lt;td&gt; -a &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; and &lt;/td&gt;
        &lt;td&gt; &amp;&amp; &lt;/td&gt;
        &lt;td&gt; &amp;&amp;, and &lt;/td&gt;
        &lt;td&gt; and &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; or &lt;/td&gt;
        &lt;td&gt; -o &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; or &lt;/td&gt;
        &lt;td&gt; || &lt;/td&gt;
        &lt;td&gt; ||, or &lt;/td&gt;
        &lt;td&gt; or &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; not &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; not &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; !, not  &lt;/td&gt;
        &lt;td&gt; not &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; bit and &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; BitAnd &lt;/td&gt;
        &lt;td&gt; bitand &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; bitops::bitAnd &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; bit or &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; BitOr &lt;/td&gt;
        &lt;td&gt; bitor &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; bitops:bitOr &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; bit not &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; BitNot &lt;/td&gt;
        &lt;td&gt; bitnot &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; bitops:bitNot &lt;/td&gt;
        &lt;td&gt; ~ &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; bit xor &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; BitXor &lt;/td&gt;
        &lt;td&gt; bitxor &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; bitops::bitxor &lt;/td&gt;
        &lt;td&gt; ^ &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; vector and &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &amp; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; vector or &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; | &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; vector not &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; ! &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; equals &lt;/td&gt;
        &lt;td&gt; -eq &lt;/td&gt;
        &lt;td&gt; == &lt;/td&gt;
        &lt;td&gt; == &lt;/td&gt;
        &lt;td&gt; == &lt;/td&gt;
        &lt;td&gt; == &lt;/td&gt;
        &lt;td&gt; == &lt;/td&gt;
        &lt;td&gt; == &lt;/td&gt;
        &lt;td&gt; == &lt;/td&gt;
        &lt;td&gt; == &lt;/td&gt;
        &lt;td&gt; == &lt;/td&gt;
        &lt;td&gt; = &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; not equal &lt;/td&gt;
        &lt;td&gt; -ne &lt;/td&gt;
        &lt;td&gt; != &lt;/td&gt;
        &lt;td&gt; != &lt;/td&gt;
        &lt;td&gt; != &lt;/td&gt;
        &lt;td&gt; != &lt;/td&gt;
        &lt;td&gt; != &lt;/td&gt;
        &lt;td&gt; ~= &lt;/td&gt;
        &lt;td&gt; != &lt;/td&gt;
        &lt;td&gt; != &lt;/td&gt;
        &lt;td&gt; != &lt;/td&gt;
        &lt;td&gt; not a=b &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; greater than &lt;/td&gt;
        &lt;td&gt; -gt &lt;/td&gt;
        &lt;td&gt; &gt; &lt;/td&gt;
        &lt;td&gt; &gt; &lt;/td&gt;
        &lt;td&gt; &gt; &lt;/td&gt;
        &lt;td&gt; &gt; &lt;/td&gt;
        &lt;td&gt; &gt; &lt;/td&gt;
        &lt;td&gt; &gt; &lt;/td&gt;
        &lt;td&gt; &gt; &lt;/td&gt;
        &lt;td&gt; &gt; &lt;/td&gt;
        &lt;td&gt; &gt; &lt;/td&gt;
        &lt;td&gt; &gt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; less than &lt;/td&gt;
        &lt;td&gt; -lt &lt;/td&gt;
        &lt;td&gt; &lt; &lt;/td&gt;
        &lt;td&gt; &lt; &lt;/td&gt;
        &lt;td&gt; &lt; &lt;/td&gt;
        &lt;td&gt; &lt; &lt;/td&gt;
        &lt;td&gt; &lt; &lt;/td&gt;
        &lt;td&gt; &lt; &lt;/td&gt;
        &lt;td&gt; &lt; &lt;/td&gt;
        &lt;td&gt; &lt; &lt;/td&gt;
        &lt;td&gt; &lt; &lt;/td&gt;
        &lt;td&gt; &lt; &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; greater than or equal to &lt;/td&gt;
        &lt;td&gt; -ge &lt;/td&gt;
        &lt;td&gt; &gt;= &lt;/td&gt;
        &lt;td&gt; &gt;= &lt;/td&gt;
        &lt;td&gt; &gt;= &lt;/td&gt;
        &lt;td&gt; &gt;= &lt;/td&gt;
        &lt;td&gt; &gt;= &lt;/td&gt;
        &lt;td&gt; &gt;= &lt;/td&gt;
        &lt;td&gt; &gt;= &lt;/td&gt;
        &lt;td&gt; &gt;= &lt;/td&gt;
        &lt;td&gt; &gt;= &lt;/td&gt;
        &lt;td&gt; &gt;= &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt;
        &lt;td&gt; less than or equal to &lt;/td&gt;
        &lt;td&gt; -le &lt;/td&gt;
        &lt;td&gt; &lt;= &lt;/td&gt;
        &lt;td&gt; &lt;= &lt;/td&gt;
        &lt;td&gt; &lt;= &lt;/td&gt;
        &lt;td&gt; &lt;= &lt;/td&gt;
        &lt;td&gt; &lt;= &lt;/td&gt;
        &lt;td&gt; &lt;= &lt;/td&gt;
        &lt;td&gt; &lt;= &lt;/td&gt;
        &lt;td&gt; &lt;= &lt;/td&gt;
        &lt;td&gt; &lt;= &lt;/td&gt;
        &lt;td&gt; &lt;= &lt;/td&gt;
    &lt;/tr&gt;   

    &lt;tr&gt;
        &lt;td&gt; next loop &lt;/td&gt;
        &lt;td&gt; continue &lt;/td&gt;
        &lt;td&gt; continue &lt;/td&gt;
        &lt;td&gt; continue &lt;/td&gt;
        &lt;td&gt; continue &lt;/td&gt;
        &lt;td&gt; continue &lt;/td&gt;
        &lt;td&gt; Continue[] &lt;/td&gt;
        &lt;td&gt; continue &lt;/td&gt;
        &lt;td&gt; continue &lt;/td&gt;
        &lt;td&gt; next &lt;/td&gt;
        &lt;td&gt; next &lt;/td&gt;
        &lt;td&gt; continue &lt;/td&gt;
    &lt;/tr&gt;

    &lt;tr&gt; 
        &lt;td&gt; stop loop &lt;/td&gt;
        &lt;td&gt; break &lt;/td&gt;
        &lt;td&gt; break &lt;/td&gt;
        &lt;td&gt; break &lt;/td&gt;
        &lt;td&gt; break &lt;/td&gt;
        &lt;td&gt; break &lt;/td&gt;
        &lt;td&gt; break &lt;/td&gt;
        &lt;td&gt; break &lt;/td&gt;
        &lt;td&gt; break &lt;/td&gt;
        &lt;td&gt; break &lt;/td&gt;
        &lt;td&gt; break &lt;/td&gt;
        &lt;td&gt; break &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt; print &lt;/td&gt;
        &lt;td&gt; echo &lt;/td&gt;
        &lt;td&gt; printf/std::cout &lt;/td&gt;
        &lt;td&gt; write, writeln &lt;/td&gt;
        &lt;td&gt; System.out.print, System.out.println &lt;/td&gt;
        &lt;td&gt; print, println &lt;/td&gt;
        &lt;td&gt; Print &lt;/td&gt;
        &lt;td&gt; disp &lt;/td&gt;
        &lt;td&gt;  &lt;/td&gt;
        &lt;td&gt; cat, print &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
        &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;


&lt;/table&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="n"&gt;Python&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="n"&gt;SAS&lt;/span&gt; &lt;span class="n"&gt;support&lt;/span&gt;
    &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;
    &lt;span class="n"&gt;equivalent&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="Mathematica"></category><category term="Python"></category><category term="Julia"></category><category term="programming"></category><category term="C/C++"></category><category term="Java"></category><category term="D"></category><category term="operator"></category><category term="Bash"></category><category term="Ruby"></category><category term="R"></category><category term="VB/VB.net"></category><category term="MATLAB"></category></entry><entry><title>Tuple in SAS</title><link href="http://www.legendu.net/misc/blog/tuple-in-sas/" rel="alternate"></link><published>2015-05-26T02:34:45-07:00</published><updated>2015-05-26T02:34:45-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-26:/misc/blog/tuple-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A tuple can be used both in a sql procedure or a data step.
Values are usually separated by commas …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A tuple can be used both in a sql procedure or a data step.
Values are usually separated by commas, 
e.g., &lt;code&gt;(v1, v2, v3)&lt;/code&gt;.
However, commas are not necessary.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="k"&gt;x&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; (v1, v2, v3) 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;can also be&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="k"&gt;x&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; (v1 v2 v3) 
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="SAS"></category><category term="tuple"></category><category term="comma"></category><category term="space"></category></entry><entry><title>Language Equivalents</title><link href="http://www.legendu.net/misc/blog/language-equivalents/" rel="alternate"></link><published>2015-05-22T01:05:04-07:00</published><updated>2015-05-22T01:05:04-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-22:/misc/blog/language-equivalents/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page arefragmentary and immature notes/thoughts of the author.
It is not meant to readersbut rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;Description&lt;/th&gt;
&lt;th align="center"&gt;R&lt;/th&gt;
&lt;th align="center"&gt;SAS Function&lt;/th&gt;
&lt;th align="center"&gt;SAS Macro Function&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;Convert letters in a string to lower case&lt;/td&gt;
&lt;td align="center"&gt;tolower(s)&lt;/td&gt;
&lt;td align="center"&gt;lowcase(s)&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;upper case&lt;/td&gt;
&lt;td align="center"&gt;toupper …&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page arefragmentary and immature notes/thoughts of the author.
It is not meant to readersbut rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;Description&lt;/th&gt;
&lt;th align="center"&gt;R&lt;/th&gt;
&lt;th align="center"&gt;SAS Function&lt;/th&gt;
&lt;th align="center"&gt;SAS Macro Function&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;Convert letters in a string to lower case&lt;/td&gt;
&lt;td align="center"&gt;tolower(s)&lt;/td&gt;
&lt;td align="center"&gt;lowcase(s)&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;upper case&lt;/td&gt;
&lt;td align="center"&gt;toupper(s)&lt;/td&gt;
&lt;td align="center"&gt;upcase(s)&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;replace&lt;/td&gt;
&lt;td align="center"&gt;replace&lt;/td&gt;
&lt;td align="center"&gt;tranwrd&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;uniform random numbers&lt;/td&gt;
&lt;td align="center"&gt;runif&lt;/td&gt;
&lt;td align="center"&gt;randurn&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;sub string&lt;/td&gt;
&lt;td align="center"&gt;substr&lt;/td&gt;
&lt;td align="center"&gt;substr&lt;/td&gt;
&lt;td align="center"&gt;%substr&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;get rid of leading and trailing white spaces&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;strip&lt;/td&gt;
&lt;td align="center"&gt;%trim&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;location of non-zero/true elements&lt;/td&gt;
&lt;td align="center"&gt;which&lt;/td&gt;
&lt;td align="center"&gt;loc (can we use it in a data step rather than in the IML procedure?)&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="get-current-working-directory"&gt;Get Current Working Directory&lt;/h2&gt;
&lt;h3 id="bash"&gt;Bash&lt;/h3&gt;
&lt;p&gt;pwd&lt;/p&gt;
&lt;h3 id="c"&gt;C&lt;/h3&gt;
&lt;h3 id="c_1"&gt;C++&lt;/h3&gt;
&lt;h3 id="d"&gt;D&lt;/h3&gt;
&lt;h3 id="java"&gt;Java&lt;/h3&gt;
&lt;h3 id="matlab"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;pwd&lt;/p&gt;
&lt;h3 id="r"&gt;R&lt;/h3&gt;
&lt;p&gt;getwd &lt;/p&gt;
&lt;h3 id="python"&gt;Python&lt;/h3&gt;
&lt;p&gt;os.getcwd&lt;/p&gt;
&lt;h2 id="change-working-directory"&gt;Change Working Directory&lt;/h2&gt;
&lt;p&gt;cd
setwd
os.chdir&lt;/p&gt;
&lt;h2 id="list-contents-of-a-directory"&gt;List Contents of a Directory&lt;/h2&gt;
&lt;h3 id="bash_1"&gt;Bash&lt;/h3&gt;
&lt;p&gt;ls&lt;/p&gt;
&lt;h3 id="matlab_1"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;ls&lt;/p&gt;
&lt;h3 id="r_1"&gt;R&lt;/h3&gt;
&lt;p&gt;dir &lt;/p&gt;
&lt;h3 id="python_1"&gt;Python&lt;/h3&gt;
&lt;p&gt;os.listdir&lt;/p&gt;
&lt;h2 id="edit-a-script-file"&gt;Edit a (script) File&lt;/h2&gt;
&lt;h3 id="julia"&gt;Julia&lt;/h3&gt;
&lt;p&gt;edit        &lt;/p&gt;
&lt;h3 id="r_2"&gt;R&lt;/h3&gt;
&lt;p&gt;file.edit &lt;/p&gt;
&lt;h2 id="install-packages"&gt;Install Packages&lt;/h2&gt;
&lt;h3 id="julia_1"&gt;Julia&lt;/h3&gt;
&lt;p&gt;Pkg.add         &lt;/p&gt;
&lt;h3 id="r_3"&gt;R&lt;/h3&gt;
&lt;p&gt;install.packages&lt;/p&gt;
&lt;h2 id="run-system-commands"&gt;Run System Commands&lt;/h2&gt;
&lt;h3 id="julia_2"&gt;Julia&lt;/h3&gt;
&lt;p&gt;run     &lt;/p&gt;
&lt;h3 id="matlab_2"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;system  &lt;/p&gt;
&lt;h3 id="r_4"&gt;R&lt;/h3&gt;
&lt;p&gt;system&lt;/p&gt;
&lt;h2 id="read-a-table-of-data"&gt;Read a Table (of Data)&lt;/h2&gt;
&lt;h3 id="julia_3"&gt;Julia&lt;/h3&gt;
&lt;p&gt;read_table  &lt;/p&gt;
&lt;h3 id="matlab_3"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;dlmread     &lt;/p&gt;
&lt;h3 id="r_5"&gt;R&lt;/h3&gt;
&lt;p&gt;read.table&lt;/p&gt;
&lt;h2 id="concatenatejoin-strings"&gt;Concatenate/Join Strings&lt;/h2&gt;
&lt;h3 id="julia_4"&gt;Julia&lt;/h3&gt;
&lt;p&gt;join        &lt;/p&gt;
&lt;h3 id="r_6"&gt;R&lt;/h3&gt;
&lt;p&gt;paste&lt;/p&gt;
&lt;h2 id="join-file-paths"&gt;Join File Paths&lt;/h2&gt;
&lt;h3 id="julia_5"&gt;Julia&lt;/h3&gt;
&lt;p&gt;joinpath    &lt;/p&gt;
&lt;h3 id="matlab_4"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;strcat  &lt;/p&gt;
&lt;h3 id="r_7"&gt;R&lt;/h3&gt;
&lt;p&gt;paste&lt;/p&gt;
&lt;h2 id="combine-tables-horizontally"&gt;Combine Tables Horizontally&lt;/h2&gt;
&lt;h3 id="julia_6"&gt;Julia&lt;/h3&gt;
&lt;p&gt;cbind/hcat  &lt;/p&gt;
&lt;h3 id="matlab_5"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;[]  &lt;/p&gt;
&lt;h3 id="r_8"&gt;R&lt;/h3&gt;
&lt;p&gt;cbind&lt;/p&gt;
&lt;h2 id="combine-tables-vertically"&gt;Combine Tables Vertically&lt;/h2&gt;
&lt;h3 id="julia_7"&gt;Julia&lt;/h3&gt;
&lt;p&gt;rbind/vcat  &lt;/p&gt;
&lt;h3 id="matlab_6"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;[]  &lt;/p&gt;
&lt;h3 id="_1"&gt;&lt;/h3&gt;
&lt;p&gt;rbind&lt;/p&gt;
&lt;h2 id="colume-names-of-a-table"&gt;Colume Names (of a Table)&lt;/h2&gt;
&lt;h3 id="julia_8"&gt;Julia&lt;/h3&gt;
&lt;p&gt;colnames        &lt;/p&gt;
&lt;h3 id="r_9"&gt;R&lt;/h3&gt;
&lt;p&gt;colnames&lt;/p&gt;
&lt;h2 id="number-of-rows-in-a-table"&gt;Number of Rows (in a Table)&lt;/h2&gt;
&lt;h3 id="julia_9"&gt;Julia&lt;/h3&gt;
&lt;p&gt;nrow    &lt;/p&gt;
&lt;h3 id="matlab_7"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;size    &lt;/p&gt;
&lt;h3 id="r_10"&gt;R&lt;/h3&gt;
&lt;p&gt;nrow&lt;/p&gt;
&lt;h2 id="number-of-columes-in-a-table"&gt;Number of Columes (in a Table)&lt;/h2&gt;
&lt;h3 id="julia_10"&gt;Julia&lt;/h3&gt;
&lt;p&gt;ncol    &lt;/p&gt;
&lt;h3 id="matlab_8"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;size    &lt;/p&gt;
&lt;h3 id="r_11"&gt;R&lt;/h3&gt;
&lt;p&gt;ncol&lt;/p&gt;
&lt;h2 id="dimension-of-matrixtable"&gt;Dimension of Matrix/Table&lt;/h2&gt;
&lt;h3 id="julia_11"&gt;Julia&lt;/h3&gt;
&lt;p&gt;size    &lt;/p&gt;
&lt;h3 id="matlab_9"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;size    &lt;/p&gt;
&lt;h3 id="r_12"&gt;R&lt;/h3&gt;
&lt;p&gt;dim&lt;/p&gt;
&lt;h2 id="number-of-elements-in-a-vectormatrixtable"&gt;Number of Elements in a Vector/Matrix/Table&lt;/h2&gt;
&lt;h3 id="julia_12"&gt;Julia&lt;/h3&gt;
&lt;p&gt;length  &lt;/p&gt;
&lt;h3 id="matlab_10"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;numel   &lt;/p&gt;
&lt;h3 id="r_13"&gt;R&lt;/h3&gt;
&lt;p&gt;length&lt;/p&gt;
&lt;h2 id="with-block"&gt;With Block&lt;/h2&gt;
&lt;h3 id="julia_13"&gt;Julia&lt;/h3&gt;
&lt;p&gt;with/within!         &lt;/p&gt;
&lt;h3 id="r_14"&gt;R&lt;/h3&gt;
&lt;p&gt;with/within&lt;/p&gt;
&lt;h2 id="apply-a-function-to-element-of-a-vectorfactormatrixtable"&gt;Apply a Function to Element of a Vector/Factor/Matrix/Table&lt;/h2&gt;
&lt;h3 id="julia_14"&gt;Julia&lt;/h3&gt;
&lt;p&gt;by  &lt;/p&gt;
&lt;h3 id="matlab_11"&gt;MATLAB&lt;/h3&gt;
&lt;p&gt;arrayfun    &lt;/p&gt;
&lt;h3 id="r_15"&gt;R&lt;/h3&gt;
&lt;p&gt;apply/lapply/sapply/tapply &lt;/p&gt;
&lt;h2 id="frequency-of-values"&gt;Frequency of Values&lt;/h2&gt;
&lt;h3 id="r_16"&gt;R&lt;/h3&gt;
&lt;p&gt;table&lt;/p&gt;
&lt;h3 id="python_2"&gt;Python&lt;/h3&gt;
&lt;p&gt;pandas.Series.value_counts&lt;/p&gt;
&lt;h2 id="missing-values"&gt;Missing Values&lt;/h2&gt;
&lt;h3 id="r_17"&gt;R&lt;/h3&gt;
&lt;p&gt;NA&lt;/p&gt;
&lt;h3 id="python_3"&gt;Python&lt;/h3&gt;
&lt;p&gt;numpy.nan&lt;/p&gt;
&lt;h2 id="check-is-missing"&gt;Check Is Missing&lt;/h2&gt;
&lt;h3 id="python_4"&gt;Python&lt;/h3&gt;
&lt;p&gt;pandas.Series.isnull&lt;/p&gt;
&lt;p&gt;country_freq.isnull()&lt;/p&gt;
&lt;p&gt;numpy.isnan&lt;/p&gt;
&lt;h3 id="r_18"&gt;R&lt;/h3&gt;
&lt;p&gt;is.na&lt;/p&gt;
&lt;h2 id="apply-function-by-groups"&gt;Apply Function by Groups&lt;/h2&gt;
&lt;h3 id="r_19"&gt;R&lt;/h3&gt;
&lt;p&gt;tapply&lt;/p&gt;
&lt;h3 id="python_5"&gt;Python&lt;/h3&gt;
&lt;p&gt;pandas.pivot_table&lt;/p&gt;</content><category term="programming language"></category><category term="equivalent"></category><category term="C"></category><category term="C++"></category><category term="D"></category><category term="Java"></category><category term="R"></category><category term="Python"></category><category term="MATLAB"></category><category term="Julia"></category></entry><entry><title>Number of Observations in a SAS Dataset</title><link href="http://www.legendu.net/misc/blog/number-of-observations-in-a-sas-dataset/" rel="alternate"></link><published>2015-05-17T18:57:48-07:00</published><updated>2015-05-17T18:57:48-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/number-of-observations-in-a-sas-dataset/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;proc sql;&lt;/span&gt;
    &lt;span class="k"&gt;select&lt;/span&gt; count(*) &lt;span class="k"&gt;from&lt;/span&gt; lib&lt;span class="m"&gt;.&lt;/span&gt;dataset&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Proc sql is not efficient when we have large dataset. 
Though using …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;proc sql;&lt;/span&gt;
    &lt;span class="k"&gt;select&lt;/span&gt; count(*) &lt;span class="k"&gt;from&lt;/span&gt; lib&lt;span class="m"&gt;.&lt;/span&gt;dataset&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Proc sql is not efficient when we have large dataset. 
Though using ATTRN is good method but this can accomplish within base sas, 
here is the efficient solution that can give number of obs of even billions of rows just by reading one row:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;data &lt;/span&gt;DS1;
    &lt;span class="k"&gt;set&lt;/span&gt; DS nobs=i;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="kc"&gt;_N_&lt;/span&gt; =&lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt; &lt;span class="k"&gt;stop&lt;/span&gt;;
    No_of_obs=i&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;data &lt;/span&gt;&lt;span class="kc"&gt;_null_&lt;/span&gt;;
    &lt;span class="k"&gt;set&lt;/span&gt; yourdataset nobs=number;&lt;span class="k"&gt;&lt;/span&gt;
&lt;span class="k"&gt;    put &lt;/span&gt;&lt;span class="err"&gt;number= ;&lt;/span&gt;
    &lt;span class="k"&gt;stop&lt;/span&gt;&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="SAS"></category><category term="observation"></category><category term="number"></category><category term="dataset"></category></entry><entry><title>Create a Directory Using SAS</title><link href="http://www.legendu.net/misc/blog/create-a-directory-using-sas/" rel="alternate"></link><published>2015-05-17T18:54:39-07:00</published><updated>2015-05-17T18:54:39-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/create-a-directory-using-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;you can use the function dcreate to create a directory in sas
sas: created don't use "~" in the path, can …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;you can use the function dcreate to create a directory in sas
sas: created don't use "~" in the path, can cause problems&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;x&lt;/span&gt; mkdir path;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;new-directory=DCREATE(dir-name&amp;lt;,parent-dir&amp;gt;);
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;too stupid, cannot use dcreate(...); must assigned the return results to another variable.
This applies to other function/calls in sas ...
x mkdir ...; in much more convenient to create directory in sas
dcreate does not recognize "~" while the unix/linux command way can recognize it!!!&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="directory"></category><category term="file system"></category><category term="filesystem"></category><category term="create"></category><category term="dcreate"></category></entry><entry><title>Formatting Data in SAS</title><link href="http://www.legendu.net/misc/blog/format-data-in-sas/" rel="alternate"></link><published>2015-05-17T18:52:19-07:00</published><updated>2015-05-17T18:52:19-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/format-data-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="data-formatting"&gt;Data Formatting&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;To add labels to a variable, 
You can use the statement &lt;code&gt;label&lt;/code&gt; to add labels to a variable …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="data-formatting"&gt;Data Formatting&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;To add labels to a variable, 
You can use the statement &lt;code&gt;label&lt;/code&gt; to add labels to a variable in SAS.
And it doesn't matter whether you use the quotation marks for the label string or not.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;label&lt;/code&gt; statement in SAS is somehow similar to the &lt;code&gt;format&lt;/code&gt; procedure. 
The difference is that &lt;code&gt;label&lt;/code&gt; explains the name of variables while 
&lt;code&gt;format&lt;/code&gt; explains the value of variables. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To quickly remove all labels &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;proc datasets &lt;/span&gt;library=mylib nolist;
    &lt;span class="k"&gt;modify&lt;/span&gt; mydataset;
    &lt;span class="k"&gt;attrib&lt;/span&gt; &lt;span class="kc"&gt;_all_&lt;/span&gt; &lt;span class="k"&gt;label&lt;/span&gt;=&lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;quit;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;There are times in SAS when you simply want to remove all the formats from a dataset. 
This can be done in one line in a data step.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;data &lt;/span&gt;unformatted;
    &lt;span class="k"&gt;set&lt;/span&gt; formatted;
    &lt;span class="k"&gt;format&lt;/span&gt; &lt;span class="kc"&gt;_all_&lt;/span&gt;&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="SAS"></category><category term="formatting data"></category><category term="programming"></category><category term="label"></category></entry><entry><title>SAS Loop</title><link href="http://www.legendu.net/misc/blog/sas-loop/" rel="alternate"></link><published>2015-05-17T18:47:56-07:00</published><updated>2015-05-17T18:47:56-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/sas-loop/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;y = &lt;span class="m"&gt;0&lt;/span&gt;;
&lt;span class="k"&gt;do&lt;/span&gt; i = &lt;span class="m"&gt;1&lt;/span&gt; to &lt;span class="m"&gt;10&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;;
   y = y + i;
&lt;span class="k"&gt;end&lt;/span&gt;;

count = &lt;span class="m"&gt;1&lt;/span&gt;;
&lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="k"&gt;while&lt;/span&gt;(count&amp;lt;&lt;span class="m"&gt;5&lt;/span&gt;);
   count …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;y = &lt;span class="m"&gt;0&lt;/span&gt;;
&lt;span class="k"&gt;do&lt;/span&gt; i = &lt;span class="m"&gt;1&lt;/span&gt; to &lt;span class="m"&gt;10&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;;
   y = y + i;
&lt;span class="k"&gt;end&lt;/span&gt;;

count = &lt;span class="m"&gt;1&lt;/span&gt;;
&lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="k"&gt;while&lt;/span&gt;(count&amp;lt;&lt;span class="m"&gt;5&lt;/span&gt;);
   count = count&lt;span class="m"&gt;+1&lt;/span&gt;;
&lt;span class="k"&gt;end&lt;/span&gt;;

count = &lt;span class="m"&gt;1&lt;/span&gt;;
&lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="k"&gt;until&lt;/span&gt;(count&amp;gt;&lt;span class="m"&gt;5&lt;/span&gt;);
   count = count&lt;span class="m"&gt;+1&lt;/span&gt;;
&lt;span class="k"&gt;end&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;data &lt;/span&gt;&lt;span class="kc"&gt;_null_&lt;/span&gt;;
    &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="k"&gt;x&lt;/span&gt;=&lt;span class="s"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;, &lt;span class="s"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;, &lt;span class="s"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;;&lt;span class="k"&gt;&lt;/span&gt;
&lt;span class="k"&gt;        put x&lt;/span&gt;&lt;span class="err"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;comma cannot be omitted.&lt;/p&gt;
&lt;p&gt;However, 
you cannot do this directly in macro loops.
A way to close assembly this to use the trick of &lt;code&gt;%scan&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;%let&lt;/span&gt; months = &lt;span class="m"&gt;200201&lt;/span&gt; &lt;span class="m"&gt;200202&lt;/span&gt; &lt;span class="m"&gt;200203&lt;/span&gt;;
&lt;span class="nb"&gt;%macro&lt;/span&gt; f;
    &lt;span class="nb"&gt;%local&lt;/span&gt; i m;
    &lt;span class="nb"&gt;%let&lt;/span&gt; i = &lt;span class="m"&gt;1&lt;/span&gt;;
    &lt;span class="nb"&gt;%let&lt;/span&gt; m = &lt;span class="nb"&gt;%scan&lt;/span&gt;(&lt;span class="nv"&gt;&amp;amp;months&lt;/span&gt;, &lt;span class="nv"&gt;&amp;amp;i&lt;/span&gt;);
    &lt;span class="nb"&gt;%do&lt;/span&gt; &lt;span class="nb"&gt;%while&lt;/span&gt;(&lt;span class="nv"&gt;&amp;amp;m&lt;/span&gt; ^= );&lt;span class="k"&gt;&lt;/span&gt;
&lt;span class="k"&gt;        %put &lt;/span&gt;&lt;span class="nv"&gt;&amp;amp;m&lt;/span&gt;&lt;span class="err"&gt;;&lt;/span&gt;
        &lt;span class="nb"&gt;%let&lt;/span&gt; i = &lt;span class="nb"&gt;%eval&lt;/span&gt;(&lt;span class="nv"&gt;&amp;amp;i&lt;/span&gt; + &lt;span class="m"&gt;1&lt;/span&gt;);
        &lt;span class="nb"&gt;%let&lt;/span&gt; m = &lt;span class="nb"&gt;%scan&lt;/span&gt;(&lt;span class="nv"&gt;&amp;amp;months&lt;/span&gt;, &lt;span class="nv"&gt;&amp;amp;i&lt;/span&gt;);
    &lt;span class="nb"&gt;%end&lt;/span&gt;;
&lt;span class="nb"&gt;%mend&lt;/span&gt;;
&lt;span class="nf"&gt;%f&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="SAS"></category><category term="loop"></category></entry><entry><title>Combine Data Vertically in SAS</title><link href="http://www.legendu.net/misc/blog/combine-data-vertically-in-sas/" rel="alternate"></link><published>2015-05-17T18:38:29-07:00</published><updated>2015-05-17T18:38:29-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/combine-data-vertically-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;union all (keep all rows) vs union (distinct/unique) 
prefer to use union all
union and union all relies on …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;union all (keep all rows) vs union (distinct/unique) 
prefer to use union all
union and union all relies on column positions
another way is to use proc append which appends data by matching column names&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;append as advantages over sql union
append tries to match column names while sql union relies on the column orders. &lt;/p&gt;
&lt;p&gt;be careful when you use append, be sure to remove previous data sets ...
as you might run the same piece of code multiple times&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="combine"></category><category term="concatenate"></category><category term="vertically"></category><category term="rbind"></category></entry><entry><title>Rounding Related Functions in SAS</title><link href="http://www.legendu.net/misc/blog/rounding-related-functions-in-sas/" rel="alternate"></link><published>2015-05-17T18:35:52-07:00</published><updated>2015-05-17T18:35:52-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/rounding-related-functions-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;To avoid numerical issues,
you should use the ceil function instead of the ceilz function
for rounding up generally speaking …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;To avoid numerical issues,
you should use the ceil function instead of the ceilz function
for rounding up generally speaking.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Notice that the round function in SAS rounds away from zero to break ties (i.e., at x.5). &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;data &lt;/span&gt;&lt;span class="kc"&gt;_null_&lt;/span&gt;;
    x1 = &lt;span class="nb"&gt;round(&lt;/span&gt;&lt;span class="m"&gt;1.5&lt;/span&gt;);&lt;span class="k"&gt;&lt;/span&gt;
&lt;span class="k"&gt;    put &lt;/span&gt;&lt;span class="err"&gt;x1;&lt;/span&gt;
    x2 = &lt;span class="nb"&gt;round(&lt;/span&gt;&lt;span class="m"&gt;2.5&lt;/span&gt;);&lt;span class="k"&gt;&lt;/span&gt;
&lt;span class="k"&gt;    put &lt;/span&gt;&lt;span class="err"&gt;x2;&lt;/span&gt;
    x3 = &lt;span class="nb"&gt;round(&lt;/span&gt;-&lt;span class="m"&gt;1.5&lt;/span&gt;);&lt;span class="k"&gt;&lt;/span&gt;
&lt;span class="k"&gt;    put &lt;/span&gt;&lt;span class="err"&gt;x3;&lt;/span&gt;
    x4 = &lt;span class="nb"&gt;round(&lt;/span&gt;-&lt;span class="m"&gt;2.5&lt;/span&gt;);&lt;span class="k"&gt;&lt;/span&gt;
&lt;span class="k"&gt;    put &lt;/span&gt;&lt;span class="err"&gt;x4;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Truncation Functions
CEIL
returns the smallest integer  the argument
CEILZ
returns the smallest integer that is greater than or equal to the argument, using zero fuzzing
FLOOR
returns the largest integer  the argument
FLOORZ
returns the largest integer that is less than or equal to the argument, using zero fuzzing
FUZZ
returns the nearest integer if the argument is within 1E-12
INT
returns the integer portion of a value
INTZ
returns the integer portion of the argument, using zero fuzzing
MODZ
returns the remainder from the division of the first argument by the second argument, using zero fuzzing
ROUND
rounds a value to the nearest round-off unit
ROUNDE
rounds the first argument to the nearest multiple of the second argument, and returns an even multiple when the first argument is halfway between the two nearest multiples
ROUNDZ
rounds the first argument to the nearest multiple of the second argument, with zero fuzzing
TRUNC
returns a truncated numeric value of a specified length&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="rounding"></category></entry><entry><title>SAS IML Tips</title><link href="http://www.legendu.net/misc/blog/sas-IML-tips/" rel="alternate"></link><published>2015-05-17T18:24:11-07:00</published><updated>2015-05-17T18:24:11-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/sas-IML-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;SAS/IML 9.3 (and later) supports the SUBMIT and ENDSUBMIT statements. 
These statements delimit a block of statements that …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;SAS/IML 9.3 (and later) supports the SUBMIT and ENDSUBMIT statements. 
These statements delimit a block of statements that are sent to another language for processing.
The SUBMIT and ENDSUBMIT statements enable you
to call SAS procedures and DATA steps without leaving the IML procedure.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1:3 is a row vector, i.e., a matrix with 1 row&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;even if you can use a matrix like a vector, don't do it!!! use matrix format instead!!!
it seems that if you use a matrix like a vector, then you get a column vector (i.e., a matrix with 1 column).
So my suggestion is that avoid treating a matrix like a vector!!!&lt;/p&gt;
&lt;p&gt;the sum function reduce a matrix to a scalar. There's not rowSums or colSums in the IML procedure (as in R).
You need use row/column reductions instead, e.g., m[+, ], m[, +].&lt;/p&gt;
&lt;p&gt;similar to R, index start from 1 instead of 0&lt;/p&gt;
&lt;p&gt;= similar to R, depends on the object exists or not, ...&lt;/p&gt;
&lt;p&gt;when the dimension of 2 matrices does not match, 
the auto fill (expanding) is very tricky. My suggestion is that you should avoid using this. 
it seems that it expand the unmatched dimension ...
never do operations on matrices whose dimention does not match for element-wise operations!!!!&lt;/p&gt;
&lt;p&gt;make it convention to return column vectors if doesn't make difference&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;unlike R, a row/column of matrix won't automatically turn into a vector&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;you cannot have empty vector/matrix in iml?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="iml"&gt;IML&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;i identity j constant matrices ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;when a matrix has many columns (variables), 
it is not very convenient to specify variables to read in (if you want to read in almost all of them). 
A good alternative is to read in all numeric/character columns into IML procedure and then drop unnecessary columns.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sas, shape to reshape matrix, by row ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;delimiter (dlm=...) you have done this before, not sure why you cannot find it ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;dm statement is the display manager ...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In most programming languges, 
(sequential) code is run sequentailly. 
In SAS, 
modules (data steps and procedures) are run sequentially. 
However, code in data steps and procedures are not necessarily run sequentially.
There is a invisible loop in 
This means sometimes the order of some statments in procedures are not important. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SAS"></category><category term="IML"></category><category term="matrix"></category></entry><entry><title>SAS Error Messages</title><link href="http://www.legendu.net/misc/blog/sas-error-messages/" rel="alternate"></link><published>2015-05-17T17:26:53-07:00</published><updated>2015-05-17T17:26:53-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/sas-error-messages/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers 
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="error-messages"&gt;Error Messages&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;NOTE 484-185: Format $DATE was not found or could not be loaded.
This is probably because the variable …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers 
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="error-messages"&gt;Error Messages&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;NOTE 484-185: Format $DATE was not found or could not be loaded.
This is probably because the variable 
that you try to format to date is a character variable 
while you need a numeric variable. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ERROR 180-322: Statement is not valid or it is used out of proper order.
If this error is macro related, 
then it is probably because the macro is not defined&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;NOTE 49-169: 
This is a warning not an error. It is caused by quotation marks followed by semicolon. 
The recommended way to fix this warning is to restart SAS (Enterprise Guide).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Usage Note 49014: 
This is probably because there are no space on the disk 
or you have reached the limit of number of opened files. 
If the latter, restart SAS can often solve the problem.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The following error might due to no permission the databases.
Make you have access to the database
and have updated your password on the SAS Grid server.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="mi"&gt;17&lt;/span&gt;                              &lt;span class="k"&gt;CONNECT&lt;/span&gt; &lt;span class="nv"&gt;TO&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nv"&gt;amp&lt;/span&gt;&lt;span class="c1"&gt;;AMLPTERA.;&lt;/span&gt;
                                                     &lt;span class="nv"&gt;_&lt;/span&gt;
                                                     &lt;span class="mi"&gt;22&lt;/span&gt;
&lt;span class="nv"&gt;ERROR&lt;/span&gt; &lt;span class="mi"&gt;22&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;322&lt;/span&gt;: &lt;span class="nv"&gt;Expecting&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;name&lt;/span&gt;.
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Error Message:
ERROR: Cannot open %INCLUDE file GOPTIONS.
Possible Reason:
The ending ";" is missing.&lt;/p&gt;
&lt;p&gt;Error Message:
ERROR: Matrix has not been assigned a value.
Possible Reason
it is possible that you passed an invalid parameter&lt;/p&gt;
&lt;p&gt;ERROR: (execution) Invalid subscript or subscript out of range.&lt;/p&gt;
&lt;p&gt;SAS submatrix, slicing, if loc returns no element then problemamtic&lt;/p&gt;
&lt;p&gt;assign a matrix to an incompatible matrix might not cause any error but stops the program, very tricky!!!&lt;/p&gt;
&lt;p&gt;ERROR: (execution) Matrix has not been set to a value.
probably due to miss used argument, e.g., typo, etc.&lt;/p&gt;
&lt;p&gt;Unable to read the SAS report file
Change the result format to HTML by selecting Tools ► Options ► Results, deselecting SAS Report, and selecting HTML.&lt;/p&gt;
&lt;p&gt;ERROR: There are no valid observations.
Reason: All values of a column are missing.&lt;/p&gt;</content><category term="SAS"></category><category term="programming"></category><category term="error"></category><category term="tips"></category></entry><entry><title>Lasso in SAS</title><link href="http://www.legendu.net/misc/blog/lasso-in-sas/" rel="alternate"></link><published>2015-05-17T17:21:02-07:00</published><updated>2015-05-17T17:21:02-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/lasso-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You can do this in two steps:
1) Use GLMSELECT as if you had an OLS model, and get several …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You can do this in two steps:
1) Use GLMSELECT as if you had an OLS model, and get several sensible models
2) Try those models in LOGISTIC or whichever PROC you like for logistic regression.
This isn't formally "right" but I've had good success with it.&lt;/p&gt;
&lt;p&gt;GLMSELECT is designed, as the name suggests, for GLM type models. 
But it implements LASSO and LAR, and there are indications that these work well for binary outcomes as well. 
Thus, I've use GLMSELECT when the DV is 0-1, and it hasn't bombed.&lt;/p&gt;
&lt;p&gt;This is a hot area.&lt;/p&gt;
&lt;p&gt;Some references (not all of which I've read):&lt;/p&gt;
&lt;p&gt;Tutz and Leistenstorfer (2006). Response shrinkage estimators in binary regression. Computational Statistics and Data Analysis, 50, 2878-2901&lt;/p&gt;
&lt;p&gt;Caster (2007) Mining the WHO drug safety database using lasso logistic regression.&lt;/p&gt;
&lt;p&gt;Meier, van de Geer, Buhlman (2008) The group lasso for logistic regression. JRSS, series B, 70, 53-71&lt;/p&gt;
&lt;p&gt;Roth, V. (2004) The generalized Lasso. IEEE transactions&lt;/p&gt;
&lt;p&gt;also I think van de Geer had a recent article in Annals of Statistics&lt;/p&gt;
&lt;p&gt;There is no LAR or LASSO selection options for generalized linear models, such as logistic regression. 
There is the new HPGENSELECT procedure for distributions in the exponential family (such as binomial, binary), 
but this only has the more traditional stepwise selection methods (which I do not recommend). 
As an ad hoc method, 
you could take your first approach (direct analysis on the binary observations) 
using GLMSELECT, with LASSO or LAR. 
Then you could refit the model in GENMOD just using the LASSO/LAR selected variables from GLMSELECT. 
I am sure there are all kinds of theoretical issues with this, 
but I have others recommend this in talks. 
I would not do your second suggestion (based on residuals).&lt;/p&gt;
&lt;p&gt;code 1/-1 or 1/0? especially for lasso?
I don't think this should matter ...&lt;/p&gt;
&lt;p&gt;HPGENSELECT proc !!!&lt;/p&gt;
&lt;p&gt;There is no LAR or LASSO selection options for generalized linear models, 
such as logistic regression. 
There is the new HPGENSELECT procedure for distributions in the exponential family (such as binomial, binary), 
but this only has the more traditional stepwise selection methods (which I do not recommend). 
As an ad hoc method, you could take your first approach (direct analysis on the binary observations) 
using GLMSELECT, with LASSO or LAR. 
Then you could refit the model in GENMOD just using the LASSO/LAR selected variables from GLMSELECT. 
I am sure there are all kinds of theoretical issues with this, 
but I have others recommend this in talks. 
I would not do your second suggestion (based on residuals). &lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="LASSO"></category><category term="feature selection"></category><category term="variable selection"></category><category term="regularization"></category></entry><entry><title>Sharing Data in SAS</title><link href="http://www.legendu.net/misc/blog/sharing-data-in-sas/" rel="alternate"></link><published>2015-05-17T17:09:52-07:00</published><updated>2015-05-17T17:09:52-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/sharing-data-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There are bascially 2 ways to share data among procedures 
and data steps in SAS.
The first way is to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There are bascially 2 ways to share data among procedures 
and data steps in SAS.
The first way is to use datasets (or SQL table/views),
and the second way is to use global macro variables.
None of the solutions are elegant in my opinion 
as both datasets and global variables are "global",
however, 
that is you what you can do in SAS.&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="data"></category><category term="dataset"></category><category term="macro"></category></entry><entry><title>Run Unix/Linux Commands in SAS</title><link href="http://www.legendu.net/misc/blog/run-unix-linux-commands-in-sas/" rel="alternate"></link><published>2015-05-17T16:36:48-07:00</published><updated>2015-05-17T16:36:48-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/run-unix-linux-commands-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;SAS can run Unix/Linux commands everywhere using&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;x&lt;/span&gt; command;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For exampel,
to create a directory named "abc" in your …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;SAS can run Unix/Linux commands everywhere using&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;x&lt;/span&gt; command;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For exampel,
to create a directory named "abc" in your home directory.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;x&lt;/span&gt; mkdir ~/abc;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It can even run user-defined shell scripts, 
which is great. 
even though you can use unix/linux command in sas, 
it seems that it is not robust and it is often hard 
to test whether the command has run successfully.
It is suggested that you avoid using unix/linux commands in sas.&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="Unix"></category><category term="Linux"></category><category term="command"></category></entry><entry><title>SAS Coding Style</title><link href="http://www.legendu.net/misc/blog/sas-coding-style/" rel="alternate"></link><published>2015-05-17T16:21:10-07:00</published><updated>2015-05-17T16:21:10-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-17:/misc/blog/sas-coding-style/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CamelCase for procedure names&lt;/li&gt;
&lt;li&gt;camelCase for other keywords &lt;/li&gt;
&lt;li&gt;end procedures with run or quit &lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CamelCase for procedure names&lt;/li&gt;
&lt;li&gt;camelCase for other keywords &lt;/li&gt;
&lt;li&gt;end procedures with run or quit &lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SAS"></category><category term="coding style"></category></entry><entry><title>Some Links for R</title><link href="http://www.legendu.net/misc/blog/rcpp-links/" rel="alternate"></link><published>2015-05-14T22:26:16-07:00</published><updated>2015-05-14T22:26:16-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-14:/misc/blog/rcpp-links/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://statisticsr.blogspot.com/"&gt;Experience with R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://cran.r-project.org/web/views/"&gt;CRAN Task Views&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.statmethods.net/index.html"&gt;Quick R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rdatamining.com/"&gt;RDataMining&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.talkstats.com/forumdisplay.php/14-R"&gt;Talk Stats&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rbresearch"&gt;rbresearch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dirk.eddelbuettel.com/code/rcpp.html"&gt;Rcpp Homepage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dirk.eddelbuettel.com/code/rcpp/html/index.html"&gt;Rcpp Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hadley/devtools/wiki/Rcpp"&gt;Rcpp Hadley&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rbresearch/LearningRcpp"&gt;LearningRcpp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://statisticsr.blogspot.com/"&gt;Experience with R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://cran.r-project.org/web/views/"&gt;CRAN Task Views&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.statmethods.net/index.html"&gt;Quick R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rdatamining.com/"&gt;RDataMining&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.talkstats.com/forumdisplay.php/14-R"&gt;Talk Stats&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rbresearch"&gt;rbresearch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dirk.eddelbuettel.com/code/rcpp.html"&gt;Rcpp Homepage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dirk.eddelbuettel.com/code/rcpp/html/index.html"&gt;Rcpp Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hadley/devtools/wiki/Rcpp"&gt;Rcpp Hadley&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rbresearch/LearningRcpp"&gt;LearningRcpp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="programming"></category><category term="links"></category><category term="Rcpp"></category><category term="C++"></category><category term="CRAN"></category></entry><entry><title>R for Internet/Web Applications</title><link href="http://www.legendu.net/misc/blog/r-for-internet-web-applications/" rel="alternate"></link><published>2015-05-14T22:22:58-07:00</published><updated>2015-05-14T22:22:58-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-14:/misc/blog/r-for-internet-web-applications/</id><summary type="html">&lt;p&gt;&lt;img src="http://dclong.github.io/media/r/r.png" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;h2 id="sendingreceiving-emails"&gt;Sending/Receiving Emails&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There are many ways to send email in R.
    First, you can use &lt;code&gt;sendmail{sendmailR}&lt;/code&gt;.
    The following code is a simple test email.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sendmail&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;from&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;firedragon.du@gmail.com&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;dclong@iastate.edu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;subject&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;Sending Email from R&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;msg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;It works&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;control&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;smtpServer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;mailhub.iastate.edu …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;img src="http://dclong.github.io/media/r/r.png" height="200" width="240" align="right"/&gt;&lt;/p&gt;
&lt;h2 id="sendingreceiving-emails"&gt;Sending/Receiving Emails&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;There are many ways to send email in R.
    First, you can use &lt;code&gt;sendmail{sendmailR}&lt;/code&gt;.
    The following code is a simple test email.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sendmail&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;from&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;firedragon.du@gmail.com&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;dclong@iastate.edu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;subject&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;Sending Email from R&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;msg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;It works&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;control&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;smtpServer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;mailhub.iastate.edu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In this way, you can attach objects in R directly to the email,
but it does not support email authentication,
and it does not support multiple recipients very well.
Second, you can call code written in other languages in R to send emails.
For example,
you can use &lt;code&gt;rJava&lt;/code&gt; to call Java code to send emails in R.
I have written an R package &lt;a href="https://github.com/dclong/dclong.spt"&gt;dclong.jmail&lt;/a&gt;
based on Java Mail API
which can be used to send/receive emails.
It supports email authentication.
Another way is to use &lt;code&gt;system&lt;/code&gt; or &lt;code&gt;shell&lt;/code&gt;
to call executable applications to send emails.
There are many such email applications in Linux system.
For Windows system,
the application &lt;code&gt;sendEmail&lt;/code&gt; written by Brandon zehm is good one,
which support Gmail, multiple recipients and multiple attachments.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="automated-web-browsing"&gt;Automated Web Browsing&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;RCurl/httr/XML&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;download.file&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="email"></category><category term="R"></category><category term="Web"></category><category term="programming"></category><category term="network"></category><category term="internet"></category><category term="CRAN"></category></entry><entry><title>Python Numpy Tips</title><link href="http://www.legendu.net/misc/blog/numpy-tips/" rel="alternate"></link><published>2015-05-13T01:30:45-07:00</published><updated>2015-05-13T01:30:45-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-13:/misc/blog/numpy-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;NaN NAN nan in numpy are all the same&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;numpy.sum, numpy.prod&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="matrix"&gt;matrix&lt;/h2&gt;
&lt;p&gt;numpy.Matrix.diagonal&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;NaN NAN nan in numpy are all the same&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;numpy.sum, numpy.prod&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="matrix"&gt;matrix&lt;/h2&gt;
&lt;p&gt;numpy.Matrix.diagonal&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="numpy"></category><category term="tips"></category><category term="scientific computing"></category><category term="scipy"></category></entry><entry><title>Generating Random Numbers in SAS</title><link href="http://www.legendu.net/misc/blog/generating-random-numbers-in-sas/" rel="alternate"></link><published>2015-05-10T22:05:12-07:00</published><updated>2015-05-10T22:05:12-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-10:/misc/blog/generating-random-numbers-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;CALL RANDGEN( result, distname&amp;lt;, parm1&amp;gt;&amp;lt;, parm2&amp;gt;&amp;lt;, parm3&amp;gt;);
or
   u = rand("Uniform"); /&lt;em&gt; u ~ U[0,1] &lt;/em&gt;/ based on Mersenne-Twister
in a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;CALL RANDGEN( result, distname&amp;lt;, parm1&amp;gt;&amp;lt;, parm2&amp;gt;&amp;lt;, parm3&amp;gt;);
or
   u = rand("Uniform"); /&lt;em&gt; u ~ U[0,1] &lt;/em&gt;/ based on Mersenne-Twister
in a data step&lt;/p&gt;
&lt;p&gt;forget about other random number genrating functions&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;data &lt;/span&gt;random;
    &lt;span class="k"&gt;call&lt;/span&gt; streamInit(&lt;span class="m"&gt;123&lt;/span&gt;);
    &lt;span class="k"&gt;do&lt;/span&gt; i = &lt;span class="m"&gt;1&lt;/span&gt; to &lt;span class="m"&gt;10&lt;/span&gt;;
        x1 = rand(&lt;span class="s"&gt;&amp;#39;Cauchy&amp;#39;&lt;/span&gt;);
        &lt;span class="k"&gt;output&lt;/span&gt;;
    &lt;span class="k"&gt;end&lt;/span&gt;&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;run;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;rand can also be used in the IML procedure, 
same method as RANDGEN, the differeence is that rand generate 1 at a time while randgen can generate multiple ones (optimized for IML)&lt;/p&gt;
&lt;p&gt;RANDGEN Call
in iml procedures&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;NORMAL (seed) ; only for N(0, 1) distribution, 
UNIFORM (seed) ; U(0, 1)&lt;/p&gt;
&lt;p&gt;not suggested as RANDGEN generate better quality random numbers&lt;/p&gt;
&lt;p&gt;The following functions ranDist are not good!!!&lt;/p&gt;
&lt;p&gt;Functions for Generating Random Numbers and Simulations
NORMAL function
generates a pseudorandom normal deviate&lt;/p&gt;
&lt;p&gt;RANDGEN call
generates random numbers from specified distributions&lt;/p&gt;
&lt;p&gt;RANDSEED call
initializes seed for subsequent RANDGEN calls&lt;/p&gt;
&lt;p&gt;SAMPLE function
generates a random sample of a finite set&lt;/p&gt;
&lt;p&gt;UNIFORM function
generates pseudorandom uniform deviates&lt;/p&gt;
&lt;p&gt;You can also call functions in Base SAS software such as those documented in the section Random Number Functions and Subroutines.
For sampling from multivariate distributions, you can use the following functions:
RANDDIRICHLET
generates a random sample from a Dirichlet distribution&lt;/p&gt;
&lt;p&gt;RANDMULTINOMIAL
generates a random sample from a multinomial distribution&lt;/p&gt;
&lt;p&gt;RANDMVT
generates a random sample from a multivariate Student’s &lt;span class="math"&gt;\(t\)&lt;/span&gt; distribution&lt;/p&gt;
&lt;p&gt;RANDNORMAL
generates a random sample from a multivariate normal distribution&lt;/p&gt;
&lt;p&gt;RANDWISHART
generates a random sample from a Wishart distribution&lt;/p&gt;
&lt;p&gt;Random Number Functions and Subroutines
NORMAL
returns a random variate from a normal distribution
RANBIN
returns a random variate from a binomial distribution
RANCAU
returns a random variate from a Cauchy distribution
RAND
returns a random variate from a specified distribution. (See the RANDGEN subroutine.)
RANEXP
returns a random variate from an exponential distribution
RANGAM
returns a random variate from a gamma distribution
RANNOR
returns a random variate from a normal distribution
RANPOI
returns a random variate from a Poisson distribution
RANTBL
returns a random variate from a tabled probability
RANTRI
returns a random variate from a triangular distribution
RANUNI
returns a random variate from a uniform distribution
CALL STREAMINIT
specifies a seed value to use for subsequent random number generation by the RAND function. (See the RANDSEED subroutine.)
UNIFORM
returns a random variate from a uniform distribution&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="programming"></category><category term="SAS"></category><category term="random number generating"></category><category term="RANDGEN"></category><category term="rand"></category></entry><entry><title>Choose a Procedure for Modeling in SAS</title><link href="http://www.legendu.net/misc/blog/choose-a-procedure-for-modeling-in-sas/" rel="alternate"></link><published>2015-05-10T21:12:54-07:00</published><updated>2015-05-10T21:12:54-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-05-10:/misc/blog/choose-a-procedure-for-modeling-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;proc glm&lt;/code&gt; has many adavantages over &lt;code&gt;proc reg&lt;/code&gt; and &lt;code&gt;proc anova&lt;/code&gt;. 
For example, 
&lt;code&gt;proc glm&lt;/code&gt; supports categorical variables while &lt;code&gt;proc …&lt;/code&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;proc glm&lt;/code&gt; has many adavantages over &lt;code&gt;proc reg&lt;/code&gt; and &lt;code&gt;proc anova&lt;/code&gt;. 
For example, 
&lt;code&gt;proc glm&lt;/code&gt; supports categorical variables while &lt;code&gt;proc reg&lt;/code&gt; does not.
It is suggested that that you use &lt;code&gt;poc glm&lt;/code&gt; in place of &lt;code&gt;proc reg&lt;/code&gt; and &lt;code&gt;proc anova&lt;/code&gt;.
The only disadvantage of &lt;code&gt;proc glm&lt;/code&gt; is that it is computationally heavier
compared to &lt;code&gt;proc reg&lt;/code&gt; and &lt;code&gt;proc anova&lt;/code&gt;,
but this is usually not a concern at all. &lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SAS"></category><category term="procedure"></category><category term="proc"></category></entry><entry><title>GDB Tips</title><link href="http://www.legendu.net/misc/blog/gdb-tips/" rel="alternate"></link><published>2015-04-19T19:04:14-07:00</published><updated>2015-04-19T19:04:14-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-04-19:/misc/blog/gdb-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;lines use : while functions use ::&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use relative path from the executable to implementation files!!!&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;b&lt;/span&gt; ..&lt;span class="o"&gt;/&lt;/span&gt;..&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;tree&lt;/span&gt;.&lt;span class="nv"&gt;cpp&lt;/span&gt;:&lt;span class="mi"&gt;31&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;knot …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;lines use : while functions use ::&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use relative path from the executable to implementation files!!!&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;b&lt;/span&gt; ..&lt;span class="o"&gt;/&lt;/span&gt;..&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;tree&lt;/span&gt;.&lt;span class="nv"&gt;cpp&lt;/span&gt;:&lt;span class="mi"&gt;31&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;knot&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;name&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;GO:0006139&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;it seems that there is a bug in GDB? 
Sometimes the results of running an executable directly and within GDB are different!&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="C++"></category><category term="C"></category><category term="debug"></category><category term="GDB"></category></entry><entry><title>MATLAB Tips</title><link href="http://www.legendu.net/misc/blog/matlab-tips/" rel="alternate"></link><published>2015-04-07T20:35:33-07:00</published><updated>2015-04-07T20:35:33-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-04-07:/misc/blog/matlab-tips/</id><summary type="html">&lt;p&gt;Things on this page are 
fragmentary and immature notes/thoughts of the author.
It is not meant to readers 
but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;MATLAB uses float computing by default. 
&lt;code&gt;3/5&lt;/code&gt; return 0.6 in MATLAB instead of 0 
as will be returned …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;Things on this page are 
fragmentary and immature notes/thoughts of the author.
It is not meant to readers 
but rather for convenient reference of the author and future improvement.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;MATLAB uses float computing by default. 
&lt;code&gt;3/5&lt;/code&gt; return 0.6 in MATLAB instead of 0 
as will be returned in some other programming languages (e.g., Python).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;to get size of an object, md = whos(obj); md.bytes&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;do we have &lt;code&gt;x *= 2&lt;/code&gt; in matlab, if not, use ultisnips to do it!!! and python, R, Mathematica, bash, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;nohup matlab -nodesktop -nosplash -r "run('./RunSimulation10.m');quit;"&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;num2str, numbers cannot be used as string directly&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Subscript indices must either be real positive integers or logicals. you confused matlab with your variable and the built-in function size!!!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;dlmwrite 'precision', edit the corresponding post&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use &lt;code&gt;warning('off','all')&lt;/code&gt; to supress warnings in MATLAB.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;fitlm support the table data structure in R2015a and after but it only support matrix and dataset in R2013b and before.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;matlab's strength is for engineering uses, it is a piece of shit for statistical purposes ... stay away from matlab and live longer!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;matlab about array of string is too stupid, you need to use cell array of string ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="statistics"&gt;Statistics&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Use categorical to create a categorical array from data with values from a finite set of discrete categories. 
To group numeric data into categories, use discretize.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="data-structure"&gt;Data Structure&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Table in matlab is the equivalent data structure of data frame in R.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;table(c1, c2) to join tables/cells/varaibles horizontally &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can use the function &lt;code&gt;readtable&lt;/code&gt; to read the content of a file into a table.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="tips"></category><category term="MATLAB"></category></entry><entry><title>Erase Elements of a Container Using Iterator in C++</title><link href="http://www.legendu.net/misc/blog/erase-elements-of-a-container-using-iterator-in-c++/" rel="alternate"></link><published>2015-03-29T23:08:20-07:00</published><updated>2015-03-29T23:08:20-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-03-29:/misc/blog/erase-elements-of-a-container-using-iterator-in-c++/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;@TODO: make a general discuss about removing elements form containers ...&lt;/p&gt;
&lt;p&gt;vector -&amp;gt; best to remove backwards ...&lt;/p&gt;
&lt;p&gt;You cannot erase elements from …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;@TODO: make a general discuss about removing elements form containers ...&lt;/p&gt;
&lt;p&gt;vector -&amp;gt; best to remove backwards ...&lt;/p&gt;
&lt;p&gt;You cannot erase elements from a container 
using the function &lt;code&gt;std::for_each&lt;/code&gt; 
or the range-based for loop (introduced in C++11).
It is easy to make mistakes while you erases elements using iterator in C++.&lt;/p&gt;
&lt;p&gt;the following discussion is for set only&lt;/p&gt;
&lt;p&gt;Suppose &lt;code&gt;numbers&lt;/code&gt; is a container with integer number,
and we want to erase the even numbers from it.
The following code is a correct way to do this.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;numbers&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;begin&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="n"&gt;numbers&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="c1"&gt;// copy the current iterator then increase it&lt;/span&gt;
    &lt;span class="k"&gt;auto&lt;/span&gt; &lt;span class="n"&gt;cit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;cit&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
        &lt;span class="c1"&gt;// won&amp;#39;t invalidate iterator it, &lt;/span&gt;
        &lt;span class="c1"&gt;// because it is already pointing to the next element&lt;/span&gt;
        &lt;span class="n"&gt;numbers&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;erase&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cit&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="C++"></category><category term="iterator"></category><category term="erase"></category><category term="container"></category></entry><entry><title>Const and Static Variables in C++</title><link href="http://www.legendu.net/misc/blog/const-and-static-variables-in-cpp/" rel="alternate"></link><published>2015-03-25T00:44:03-07:00</published><updated>2015-03-25T00:44:03-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-03-25:/misc/blog/const-and-static-variables-in-cpp/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="const-variables"&gt;Const Variables&lt;/h2&gt;
&lt;p&gt;but you can initialize a &lt;code&gt;static constexpr&lt;/code&gt; variable inside the defintion of a class.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;constexpr&lt;/code&gt; means that the …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="const-variables"&gt;Const Variables&lt;/h2&gt;
&lt;p&gt;but you can initialize a &lt;code&gt;static constexpr&lt;/code&gt; variable inside the defintion of a class.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;constexpr&lt;/code&gt; means that the corresponding value can be dertermined at compile time. &lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="static-variables"&gt;Static Variables&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You cannot initialize a &lt;code&gt;static&lt;/code&gt; member variable of class 
inside the definition of the class 
and you'd better not initialize it in a header file,
instead, 
you should initialize a &lt;code&gt;static&lt;/code&gt; variable in the source file. 
This is because if a &lt;code&gt;static&lt;/code&gt; variable is initialized in a header file 
and the header file is included multiples times,
the code cannot be compiled.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Java has the concept of static blocks while there is no such concept in C++. 
However, by calling a helper function/method (with code intended to be static) in 
a static statement you can achieve similar effect. 
You can also use lambda functions in a static statement to initialize complex objects such as vectors and so on.
For example you can use the following code to statically initialize an integer vector to be 0 to 10 (exclusive). &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[](){&lt;/span&gt;
    &lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push_back&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Static variables can be very useful sometimes, 
however, 
defining static variables inside non-static methods is potentially dangerous.
This is because these static variables are intialized once per program not once per instance,
so that every instances of the class shares the same copy of the variable. 
General speaking, 
it is recommended that you avoid using static variables unless absolutely necessary.
And when you do have to use static variables,
be careful as they are "global".&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Static variables are sometimes used in recursive functions/methods as a way to improve performance. 
In these situations, you can separate the recursive function with static variables into 2 functions/methods.
The first one defines a local object and calls a second recursive function/method which takes a reference argument. Give an example here ...&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="C++"></category><category term="static"></category><category term="const"></category></entry><entry><title>Perl Links</title><link href="http://www.legendu.net/misc/blog/perl-links/" rel="alternate"></link><published>2015-03-15T21:57:27-07:00</published><updated>2015-03-15T21:57:27-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-03-15:/misc/blog/perl-links/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.perl.org/&lt;/p&gt;
&lt;p&gt;https://www.perl.org/books/beginning-perl/&lt;/p&gt;
&lt;p&gt;http://perlmaven.com/how-to-read-a-csv-file-using-perl&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.perl.org/&lt;/p&gt;
&lt;p&gt;https://www.perl.org/books/beginning-perl/&lt;/p&gt;
&lt;p&gt;http://perlmaven.com/how-to-read-a-csv-file-using-perl&lt;/p&gt;</content><category term="programming"></category><category term="links"></category><category term="perl"></category></entry><entry><title>IO in Java</title><link href="http://www.legendu.net/misc/blog/io-in-java/" rel="alternate"></link><published>2015-03-14T22:30:04-07:00</published><updated>2015-03-14T22:30:04-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-03-14:/misc/blog/io-in-java/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;try catch, safe &lt;/li&gt;
&lt;li&gt;text, bin&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;buffered or not ...&lt;/p&gt;
&lt;p&gt;Reader - Abstract class for reading character streams
InputStream - Abstract class is the …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;try catch, safe &lt;/li&gt;
&lt;li&gt;text, bin&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;buffered or not ...&lt;/p&gt;
&lt;p&gt;Reader - Abstract class for reading character streams
InputStream - Abstract class is the superclass of all classes representing an input stream of bytes.
And similary for Writer vs OutputStream&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Scanner is used for parsing tokens from the contents of the stream while BufferedReader just reads the stream and does not do any special parsing.&lt;/p&gt;
&lt;p&gt;In fact you can pass a BufferedReader to a scanner as the source of characters to parse.&lt;/p&gt;
&lt;p&gt;As to the choice, use the Scanner if you want to parse the file, use the BufferedReader if you want to read the file line by line. Also see the introductory text of their aforelinked API documentations.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;A&lt;/span&gt; &lt;span class="nv"&gt;BufferedReader&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;simple&lt;/span&gt; &lt;span class="nv"&gt;class&lt;/span&gt; &lt;span class="nv"&gt;meant&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;efficiently&lt;/span&gt; &lt;span class="nv"&gt;read&lt;/span&gt; &lt;span class="nv"&gt;from&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;underling&lt;/span&gt; &lt;span class="nv"&gt;stream&lt;/span&gt;. &lt;span class="nv"&gt;Generally&lt;/span&gt;, &lt;span class="nv"&gt;each&lt;/span&gt; &lt;span class="nv"&gt;read&lt;/span&gt; &lt;span class="nv"&gt;request&lt;/span&gt; &lt;span class="nv"&gt;made&lt;/span&gt; &lt;span class="nv"&gt;of&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;Reader&lt;/span&gt; &lt;span class="nv"&gt;like&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;FileReader&lt;/span&gt; &lt;span class="nv"&gt;causes&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;corresponding&lt;/span&gt; &lt;span class="nv"&gt;read&lt;/span&gt; &lt;span class="nv"&gt;request&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;be&lt;/span&gt; &lt;span class="nv"&gt;made&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;underlying&lt;/span&gt; &lt;span class="nv"&gt;stream&lt;/span&gt;. &lt;span class="nv"&gt;Each&lt;/span&gt; &lt;span class="nv"&gt;invocation&lt;/span&gt; &lt;span class="nv"&gt;of&lt;/span&gt; &lt;span class="nv"&gt;read&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt; &lt;span class="nv"&gt;or&lt;/span&gt; &lt;span class="nv"&gt;readLine&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt; &lt;span class="nv"&gt;could&lt;/span&gt; &lt;span class="nv"&gt;cause&lt;/span&gt; &lt;span class="nv"&gt;bytes&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;be&lt;/span&gt; &lt;span class="nv"&gt;read&lt;/span&gt; &lt;span class="nv"&gt;from&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;file&lt;/span&gt;, &lt;span class="nv"&gt;converted&lt;/span&gt; &lt;span class="nv"&gt;into&lt;/span&gt; &lt;span class="nv"&gt;characters&lt;/span&gt;, &lt;span class="nv"&gt;and&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt; &lt;span class="nv"&gt;returned&lt;/span&gt;, &lt;span class="nv"&gt;which&lt;/span&gt; &lt;span class="nv"&gt;can&lt;/span&gt; &lt;span class="nv"&gt;be&lt;/span&gt; &lt;span class="nv"&gt;very&lt;/span&gt; &lt;span class="nv"&gt;inefficient&lt;/span&gt;. &lt;span class="nv"&gt;Efficiency&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;improved&lt;/span&gt; &lt;span class="nv"&gt;appreciably&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;Reader&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;warped&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;BufferedReader&lt;/span&gt;.

&lt;span class="nv"&gt;BufferedReader&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;synchronized&lt;/span&gt;, &lt;span class="nv"&gt;so&lt;/span&gt; &lt;span class="nv"&gt;read&lt;/span&gt; &lt;span class="nv"&gt;operations&lt;/span&gt; &lt;span class="nv"&gt;on&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;BufferedReader&lt;/span&gt; &lt;span class="nv"&gt;can&lt;/span&gt; &lt;span class="nv"&gt;safely&lt;/span&gt; &lt;span class="nv"&gt;be&lt;/span&gt; &lt;span class="nv"&gt;done&lt;/span&gt; &lt;span class="nv"&gt;from&lt;/span&gt; &lt;span class="nv"&gt;multiple&lt;/span&gt; &lt;span class="nv"&gt;threads&lt;/span&gt;.

&lt;span class="nv"&gt;A&lt;/span&gt; &lt;span class="nv"&gt;scanner&lt;/span&gt; &lt;span class="nv"&gt;on&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;other&lt;/span&gt; &lt;span class="nv"&gt;hand&lt;/span&gt; &lt;span class="nv"&gt;has&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;lot&lt;/span&gt; &lt;span class="nv"&gt;more&lt;/span&gt; &lt;span class="nv"&gt;cheese&lt;/span&gt; &lt;span class="nv"&gt;built&lt;/span&gt; &lt;span class="nv"&gt;into&lt;/span&gt; &lt;span class="nv"&gt;it&lt;/span&gt;&lt;span class="c1"&gt;; it can do all that a BufferedReader can do and at the same level of efficiency as well. However, in addition a Scanner can parse the underlying stream for primitive types and strings using regular expressions. It can also tokenize the underlying stream with the delimiter of your choice. It can also do forward scanning of the underlying stream disregarding the delimiter!&lt;/span&gt;

&lt;span class="nv"&gt;A&lt;/span&gt; &lt;span class="nv"&gt;scanner&lt;/span&gt; &lt;span class="nv"&gt;however&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;not&lt;/span&gt; &lt;span class="nv"&gt;thread&lt;/span&gt; &lt;span class="nv"&gt;safe&lt;/span&gt;, &lt;span class="nv"&gt;it&lt;/span&gt; &lt;span class="nv"&gt;has&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;be&lt;/span&gt; &lt;span class="nv"&gt;externally&lt;/span&gt; &lt;span class="nv"&gt;synchronized&lt;/span&gt;.

&lt;span class="nv"&gt;The&lt;/span&gt; &lt;span class="nv"&gt;choice&lt;/span&gt; &lt;span class="nv"&gt;of&lt;/span&gt; &lt;span class="nv"&gt;using&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;BufferedReader&lt;/span&gt; &lt;span class="nv"&gt;or&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;Scanner&lt;/span&gt; &lt;span class="nv"&gt;depends&lt;/span&gt; &lt;span class="nv"&gt;on&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;code&lt;/span&gt; &lt;span class="nv"&gt;you&lt;/span&gt; &lt;span class="nv"&gt;are&lt;/span&gt; &lt;span class="nv"&gt;writing&lt;/span&gt;, &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;you&lt;/span&gt; &lt;span class="nv"&gt;are&lt;/span&gt; &lt;span class="nv"&gt;writing&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;simple&lt;/span&gt; &lt;span class="nv"&gt;log&lt;/span&gt; &lt;span class="nv"&gt;reader&lt;/span&gt; &lt;span class="nv"&gt;Buffered&lt;/span&gt; &lt;span class="nv"&gt;reader&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;adequate&lt;/span&gt;. &lt;span class="nv"&gt;However&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;you&lt;/span&gt; &lt;span class="nv"&gt;are&lt;/span&gt; &lt;span class="nv"&gt;writing&lt;/span&gt; &lt;span class="nv"&gt;an&lt;/span&gt; &lt;span class="nv"&gt;XML&lt;/span&gt; &lt;span class="nv"&gt;parser&lt;/span&gt; &lt;span class="nv"&gt;Scanner&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;more&lt;/span&gt; &lt;span class="nv"&gt;natural&lt;/span&gt; &lt;span class="nv"&gt;choice&lt;/span&gt;.

&lt;span class="nv"&gt;Even&lt;/span&gt; &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="nv"&gt;reading&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;input&lt;/span&gt;, &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;want&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;accept&lt;/span&gt; &lt;span class="nv"&gt;user&lt;/span&gt; &lt;span class="nv"&gt;input&lt;/span&gt; &lt;span class="nv"&gt;line&lt;/span&gt; &lt;span class="nv"&gt;by&lt;/span&gt; &lt;span class="nv"&gt;line&lt;/span&gt; &lt;span class="nv"&gt;and&lt;/span&gt; &lt;span class="nv"&gt;say&lt;/span&gt; &lt;span class="nv"&gt;just&lt;/span&gt; &lt;span class="nv"&gt;add&lt;/span&gt; &lt;span class="nv"&gt;it&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;file&lt;/span&gt;, &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;BufferedReader&lt;/span&gt; &lt;span class="nv"&gt;is&lt;/span&gt; &lt;span class="nv"&gt;good&lt;/span&gt; &lt;span class="nv"&gt;enough&lt;/span&gt;. &lt;span class="nv"&gt;On&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;other&lt;/span&gt; &lt;span class="nv"&gt;hand&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;you&lt;/span&gt; &lt;span class="nv"&gt;want&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;accept&lt;/span&gt; &lt;span class="nv"&gt;user&lt;/span&gt; &lt;span class="nv"&gt;input&lt;/span&gt; &lt;span class="nv"&gt;as&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;command&lt;/span&gt; &lt;span class="nv"&gt;with&lt;/span&gt; &lt;span class="nv"&gt;multiple&lt;/span&gt; &lt;span class="nv"&gt;options&lt;/span&gt;, &lt;span class="nv"&gt;and&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt; &lt;span class="nv"&gt;intend&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;perform&lt;/span&gt; &lt;span class="nv"&gt;different&lt;/span&gt; &lt;span class="nv"&gt;operations&lt;/span&gt; &lt;span class="nv"&gt;based&lt;/span&gt; &lt;span class="nv"&gt;on&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;command&lt;/span&gt; &lt;span class="nv"&gt;and&lt;/span&gt; &lt;span class="nv"&gt;options&lt;/span&gt; &lt;span class="nv"&gt;specified&lt;/span&gt;, &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;Scanner&lt;/span&gt; &lt;span class="nv"&gt;will&lt;/span&gt; &lt;span class="nv"&gt;suit&lt;/span&gt; &lt;span class="nv"&gt;better&lt;/span&gt;.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;PrintWriter is the output equivalent of the Scanner class&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;PrintWriter&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;for&lt;/span&gt; &lt;span class="n"&gt;writng&lt;/span&gt; &lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;package&lt;/span&gt; &lt;span class="n"&gt;study&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.io.FileNotFoundException&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.io.PrintWriter&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TestPrintWriter&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;static&lt;/span&gt; &lt;span class="n"&gt;void&lt;/span&gt; &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;throws&lt;/span&gt; &lt;span class="n"&gt;FileNotFoundException&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;PrintWriter&lt;/span&gt; &lt;span class="n"&gt;out&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;PrintWriter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;java_out.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.11111111&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;2.2&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;3.3&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="input-and-output"&gt;Input and Output&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;System.out.println&lt;/code&gt; is super fast. Generally speaking, you do not
have worry much about the overheading of printing information to the
console in Java.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="reading-and-writing-text-file"&gt;Reading and Writing Text File&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Scanner&lt;/code&gt; is convenient for parsing text data.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;PrintWriter&lt;/code&gt; is for writing text file.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="reading-and-writing-binary-file"&gt;Reading and Writing Binary File&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;To read in binary data (through byte) from a file, you can use
&lt;code&gt;FileInputStream&lt;/code&gt;; to write binary data into a file, you can use
&lt;code&gt;FileOutputStream&lt;/code&gt;. To read in binary data into primitive types
from a file, you can wrap a FileInputStream in DataInputStream;
to write primitive types into a binary file directly, you can
wrap a FileOutputStream in DataOutputStream. Note that
DataInputStream and DataOutputStream is compatible, i.e., they
recognize the format of each other. However, DataInputStream is
not compatible with &lt;code&gt;writeBin&lt;/code&gt; in R; neither is DataOutputStream
compatible with &lt;code&gt;readBin&lt;/code&gt; in R. To communicate binary data
between Java and R, you can run Java code which do the right job
for you using &lt;code&gt;rJava&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;FileReader vs FileInputStream?
Or Reader vs InputStream
Writer vs OutputStream
DataInputStream/DataOutPutStream vs FileInputStream/FileOutputStream&lt;/p&gt;
&lt;p&gt;The following is a simple yet very common way&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;try&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;BufferedReader&lt;/span&gt; &lt;span class="nv"&gt;br&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;new&lt;/span&gt; &lt;span class="nv"&gt;BufferedReader&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;new&lt;/span&gt; &lt;span class="nv"&gt;FileReader&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;file.txt&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="ss"&gt;)))&lt;/span&gt; {
    &lt;span class="nv"&gt;StringBuilder&lt;/span&gt; &lt;span class="nv"&gt;sb&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;new&lt;/span&gt; &lt;span class="nv"&gt;StringBuilder&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
    &lt;span class="nv"&gt;String&lt;/span&gt; &lt;span class="nv"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;br&lt;/span&gt;.&lt;span class="nv"&gt;readLine&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;line&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="nv"&gt;null&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; {
        &lt;span class="nv"&gt;sb&lt;/span&gt;.&lt;span class="nv"&gt;append&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;line&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
        &lt;span class="nv"&gt;sb&lt;/span&gt;.&lt;span class="nv"&gt;append&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;System&lt;/span&gt;.&lt;span class="nv"&gt;lineSeparator&lt;/span&gt;&lt;span class="ss"&gt;())&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
        &lt;span class="nv"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;br&lt;/span&gt;.&lt;span class="nv"&gt;readLine&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
    }
    &lt;span class="nv"&gt;String&lt;/span&gt; &lt;span class="nv"&gt;everything&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;sb&lt;/span&gt;.&lt;span class="nv"&gt;toString&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;


&lt;hr&gt;
&lt;p&gt;In Java 7: similar to BufferedReader(FileInputStream...)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;Charset&lt;/span&gt; &lt;span class="nv"&gt;charset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;Charset&lt;/span&gt;.&lt;span class="nv"&gt;forName&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;US-ASCII&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;try&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;BufferedReader&lt;/span&gt; &lt;span class="nv"&gt;reader&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;Files&lt;/span&gt;.&lt;span class="nv"&gt;newBufferedReader&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;file&lt;/span&gt;, &lt;span class="nv"&gt;charset&lt;/span&gt;&lt;span class="ss"&gt;))&lt;/span&gt; {
    &lt;span class="nv"&gt;String&lt;/span&gt; &lt;span class="nv"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;null&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="ss"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;reader&lt;/span&gt;.&lt;span class="nv"&gt;readLine&lt;/span&gt;&lt;span class="ss"&gt;())&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="nv"&gt;null&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; {
        &lt;span class="nv"&gt;System&lt;/span&gt;.&lt;span class="nv"&gt;out&lt;/span&gt;.&lt;span class="nv"&gt;println&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;line&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
    }
} &lt;span class="nv"&gt;catch&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;IOException&lt;/span&gt; &lt;span class="nv"&gt;x&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; {
    &lt;span class="nv"&gt;System&lt;/span&gt;.&lt;span class="nv"&gt;err&lt;/span&gt;.&lt;span class="nv"&gt;format&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;IOException: %s%n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;, &lt;span class="nv"&gt;x&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;


&lt;hr&gt;
&lt;p&gt;The difference between the two methods is what to use to construct a BufferedReader. Method 1 uses InputStreamReader and Method 2 uses FileReader. What's the difference between the two classes?&lt;/p&gt;
&lt;p&gt;From Java Doc, "An InputStreamReader is a bridge from byte streams to character streams: It reads bytes and decodes them into characters using a specified charset." InputStreamReader can handle other input streams than files, such as network connections, classpath resources, ZIP files, etc.&lt;/p&gt;
&lt;p&gt;FileReader is "Convenience class for reading character files. The constructors of this class assume that the default character encoding and the default byte-buffer size are appropriate." FileReader does not allow you to specify an encoding other than the platform default encoding. Therefore, it is not a good idea to use it if the program will run on systems with different platform encoding.&lt;/p&gt;
&lt;p&gt;In summary, InputStreamReader is always a safer choice than FileReader.&lt;/p&gt;
&lt;p&gt;Scanner in = new Scanner(new FileReader("filename.txt"));&lt;/p&gt;
&lt;p&gt;http://www.javapractices.com/topic/TopicAction.do?Id=42&lt;/p&gt;
&lt;p&gt;http://howtodoinjava.com/2013/05/01/3-ways-to-read-files-using-java-nio/&lt;/p&gt;
&lt;p&gt;http://www.programcreek.com/2011/03/java-read-a-file-line-by-line-code-example/&lt;/p&gt;
&lt;p&gt;http://www.baeldung.com/java-read-lines-large-file
Faster file copy with mapped byte buffer&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;package&lt;/span&gt; &lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;howtodoinjava&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nio&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.io.IOException&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.io.RandomAccessFile&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.nio.MappedByteBuffer&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.nio.channels.FileChannel&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ReadFileWithMappedByteBuffer&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;static&lt;/span&gt; &lt;span class="n"&gt;void&lt;/span&gt; &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;throws&lt;/span&gt; &lt;span class="n"&gt;IOException&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;RandomAccessFile&lt;/span&gt; &lt;span class="n"&gt;aFile&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;RandomAccessFile&lt;/span&gt;
                &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;test.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;r&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;FileChannel&lt;/span&gt; &lt;span class="n"&gt;inChannel&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;aFile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getChannel&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;MappedByteBuffer&lt;/span&gt; &lt;span class="nb"&gt;buffer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;inChannel&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FileChannel&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MapMode&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;READ_ONLY&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;inChannel&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
        &lt;span class="nb"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; 
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nb"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;limit&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;char&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nb"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="nb"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;clear&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="n"&gt;do&lt;/span&gt; &lt;span class="n"&gt;something&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;clear&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;compact&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
        &lt;span class="n"&gt;inChannel&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;aFile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;There are too many ways to read files from Java. Best practice?&lt;/p&gt;
&lt;p&gt;FileReader vs FileInputStream?
Or Reader vs InputStream
Writer vs OutputStream
DataInputStream/DataOutPutStream vs FileInputStream/FileOutputStream&lt;/p&gt;
&lt;p&gt;The following is a simple yet very common way&lt;/p&gt;
&lt;p&gt;try(BufferedReader br = new BufferedReader(new FileReader("file.txt"))) {
        StringBuilder sb = new StringBuilder();
        String line = br.readLine();&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;line&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="nv"&gt;null&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; {
        &lt;span class="nv"&gt;sb&lt;/span&gt;.&lt;span class="nv"&gt;append&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;line&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
        &lt;span class="nv"&gt;sb&lt;/span&gt;.&lt;span class="nv"&gt;append&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;System&lt;/span&gt;.&lt;span class="nv"&gt;lineSeparator&lt;/span&gt;&lt;span class="ss"&gt;())&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
        &lt;span class="nv"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;br&lt;/span&gt;.&lt;span class="nv"&gt;readLine&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
    }
    &lt;span class="nv"&gt;String&lt;/span&gt; &lt;span class="nv"&gt;everything&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;sb&lt;/span&gt;.&lt;span class="nv"&gt;toString&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;}&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;In Java 7: similar to BufferedReader(FileInputStream...)
Charset charset = Charset.forName("US-ASCII");
try (BufferedReader reader = Files.newBufferedReader(file, charset)) {
    String line = null;
    while ((line = reader.readLine()) != null) {
        System.out.println(line);
    }
} catch (IOException x) {
    System.err.format("IOException: %s%n", x);
}&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;The difference between the two methods is what to use to construct a BufferedReader. Method 1 uses InputStreamReader and Method 2 uses FileReader. What's the difference between the two classes?&lt;/p&gt;
&lt;p&gt;From Java Doc, "An InputStreamReader is a bridge from byte streams to character streams: It reads bytes and decodes them into characters using a specified charset." InputStreamReader can handle other input streams than files, such as network connections, classpath resources, ZIP files, etc.&lt;/p&gt;
&lt;p&gt;FileReader is "Convenience class for reading character files. The constructors of this class assume that the default character encoding and the default byte-buffer size are appropriate." FileReader does not allow you to specify an encoding other than the platform default encoding. Therefore, it is not a good idea to use it if the program will run on systems with different platform encoding.&lt;/p&gt;
&lt;p&gt;In summary, InputStreamReader is always a safer choice than FileReader.&lt;/p&gt;
&lt;p&gt;Scanner in = new Scanner(new FileReader("filename.txt"));&lt;/p&gt;
&lt;p&gt;http://www.javapractices.com/topic/TopicAction.do?Id=42&lt;/p&gt;
&lt;p&gt;http://howtodoinjava.com/2013/05/01/3-ways-to-read-files-using-java-nio/&lt;/p&gt;
&lt;p&gt;http://www.programcreek.com/2011/03/java-read-a-file-line-by-line-code-example/&lt;/p&gt;
&lt;p&gt;http://www.baeldung.com/java-read-lines-large-file
Faster file copy with mapped byte buffer&lt;/p&gt;
&lt;p&gt;package com.howtodoinjava.test.nio;&lt;/p&gt;
&lt;p&gt;import java.io.IOException;
import java.io.RandomAccessFile;
import java.nio.MappedByteBuffer;
import java.nio.channels.FileChannel;&lt;/p&gt;
&lt;p&gt;public class ReadFileWithMappedByteBuffer
{
    public static void main(String[] args) throws IOException
    {
        RandomAccessFile aFile = new RandomAccessFile
                ("test.txt", "r");
        FileChannel inChannel = aFile.getChannel();
        MappedByteBuffer buffer = inChannel.map(FileChannel.MapMode.READ_ONLY, 0, inChannel.size());
        buffer.load(); 
        for (int i = 0; i &amp;lt; buffer.limit(); i++)
        {
            System.out.print((char) buffer.get());
        }
        buffer.clear(); // do something with the data and clear/compact it.
        inChannel.close();
        aFile.close();
    }
}&lt;/p&gt;</content><category term="IO"></category><category term="programming"></category><category term="Java"></category><category term="input"></category><category term="output"></category></entry><entry><title>Some Links for C++</title><link href="http://www.legendu.net/misc/blog/cpp-links/" rel="alternate"></link><published>2015-03-14T22:00:40-07:00</published><updated>2015-03-14T22:00:40-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-03-14:/misc/blog/cpp-links/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml#Header_Files"&gt;Google C++ Style Guide&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="http://en.cppreference.com/w/"&gt;C++ Reference&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.justsoftwaresolutions.co.uk/threading/multithreading-in-c++0x-part-1-starting-threads.html"&gt;C++11 Concurrency&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.stroustrup.com/"&gt;Bjarne Stroustrup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://isocpp.org/"&gt;ISO C++&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.meetingcpp.com/index.php/start.html"&gt;Meeting C++&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://herbsutter.com/"&gt;Herb Sutter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://cpprocks.com/regex-cheatsheet/"&gt;Regular Expression&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://gcc.gnu.org/onlinedocs/libstdc++/manual/status.html#status.iso.tr1"&gt;GCC …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml#Header_Files"&gt;Google C++ Style Guide&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="http://en.cppreference.com/w/"&gt;C++ Reference&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.justsoftwaresolutions.co.uk/threading/multithreading-in-c++0x-part-1-starting-threads.html"&gt;C++11 Concurrency&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.stroustrup.com/"&gt;Bjarne Stroustrup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://isocpp.org/"&gt;ISO C++&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.meetingcpp.com/index.php/start.html"&gt;Meeting C++&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://herbsutter.com/"&gt;Herb Sutter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://cpprocks.com/regex-cheatsheet/"&gt;Regular Expression&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://gcc.gnu.org/onlinedocs/libstdc++/manual/status.html#status.iso.tr1"&gt;GCC Status&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://gcc.gnu.org/onlinedocs/libstdc++/manual/index.html"&gt;GNC C++ Library Manual&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://channel9.msdn.com/Events/GoingNative/GoingNative-2012/Keynote-Bjarne-Stroustrup-Cpp11-Style"&gt;Day 1 Keynote - Bjarne Stroustrup: C++11 Style&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://channel9.msdn.com/Shows/Going+Deep/C-and-Beyond-2012-Andrei-Alexandrescu-Systematic-Error-Handling-in-C"&gt;C++ and Beyond 2012: Andrei Alexandrescu - Systematic Error Handling in C++&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="C++ and Beyond 2012: Herb Sutter - You don't know [blank] and [blank]"&gt;C++ and Beyond 2012: Herb Sutter - You don't know [blank] and [blank]&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://channel9.msdn.com/Shows/Going+Deep/C-and-Beyond-2012-Herb-Sutter-Concurrency-and-Parallelism"&gt;C++ and Beyond 2012: Herb Sutter - C++ Concurrency&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.youtube.com/watch?v=Ct8ykaKrKOA"&gt;Learn STL: Vector vs. Deque - part I&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.youtube.com/watch?v=pW2jDTf82IM"&gt;Learn STL: Vector vs. Deque - part II&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.danielhall.me/2010/01/writing-a-daemon-in-c/"&gt;Writing a Daemon in C&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;http://blogs.msdn.com/b/vcblog/archive/2015/02/13/find-your-favorite-library-for-c-in-nuget.aspx&lt;/p&gt;
&lt;p&gt;http://tgockel.github.io/json-voorhees/index.html&lt;/p&gt;
&lt;p&gt;https://en.wikibooks.org/wiki/More_C%2B%2B_Idioms&lt;/p&gt;</content><category term="links"></category><category term="programming"></category><category term="C++"></category><category term="cpp"></category></entry><entry><title>Calculating Quantiles in SAS</title><link href="http://www.legendu.net/misc/blog/calculating-quantiles-in-sas/" rel="alternate"></link><published>2015-03-13T16:49:45-07:00</published><updated>2015-03-13T16:49:45-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-03-13:/misc/blog/calculating-quantiles-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use the quantile function. Don't use distribution specific function models.&lt;/p&gt;
&lt;p&gt;BETAINV
returns a quantile from the beta distribution
CINV
returns …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Use the quantile function. Don't use distribution specific function models.&lt;/p&gt;
&lt;p&gt;BETAINV
returns a quantile from the beta distribution
CINV
returns a quantile from the chi-squared distribution
FINV
returns a quantile from the F distribution
GAMINV
returns a quantile from the gamma distribution
PROBIT
returns a quantile from the standard normal distribution
QUANTILE
returns the quantile from the specified distribution
TINV
returns a quantile from the  distribution&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="quantile"></category></entry><entry><title>User-defined Modules in IML</title><link href="http://www.legendu.net/misc/blog/user-defined-modules-in-iml/" rel="alternate"></link><published>2015-03-13T14:49:32-07:00</published><updated>2015-03-13T14:49:32-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-03-13:/misc/blog/user-defined-modules-in-iml/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;There are in general 2 types of modules. 
Modules with or without arguments.
A module without arguments CANNOT return values …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;There are in general 2 types of modules. 
Modules with or without arguments.
A module without arguments CANNOT return values.
A module with arguments can return values,
and it is called a function module if it returns values.
&amp;lt;@TODO: use a picture or a math formula to illustrate this, and also search path ...&amp;gt;
Variables defined in a module without arguments are GLOBAL
while variables defined in a module with arguments are local to the module.
It is recommended that you avoid using modules without arguments.
If your module does not need any argument,
you can add a fake argument (never use by the module) just to make your code more modulized.
Notice that you cannot define a function module with the same name as a built-in module 
as it will be hidden by the built-in module.
For a module that does not return values,
you can invoke it with either &lt;code&gt;run&lt;/code&gt; or &lt;code&gt;call&lt;/code&gt;.
The following is an illustration.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;    proc iml;&lt;/span&gt;
    start f(&lt;span class="k"&gt;x&lt;/span&gt;);
        &lt;span class="k"&gt;x&lt;/span&gt; = &lt;span class="m"&gt;1&lt;/span&gt;
    finish f;
    start g;
    finish&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;    run &lt;/span&gt;f;
    &lt;span class="k"&gt;call&lt;/span&gt; g&lt;span class="kr"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;    quit;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;When &lt;code&gt;run&lt;/code&gt; is used use-defined functions are searched before built-in modules
while &lt;code&gt;call&lt;/code&gt; is used built-in functions are searched before user-defined modules.
It is suggested that you always use &lt;code&gt;run&lt;/code&gt; to invoke a module that does not return values.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If a module has a dependency (user-defined module) that is not intend for users (but rather pure helper modules), 
put into an IML procedure and store it using &lt;code&gt;store module_name;&lt;/code&gt;.
Otherwise, put the definition of the module into a plain text file (you can use .sas as the file extension). 
This way keeps good balance between easy access and code encapsulation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In SAS 9.3, 
you cannot define function modules with default or optional arguments in the IML procedure.
However, 
this is supported starting from SAS IML 12.1 (IML has an independent version number).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="SAS"></category><category term="IML"></category><category term="function"></category><category term="module"></category><category term="user-defined"></category></entry><entry><title>Some Questions About MongoDB</title><link href="http://www.legendu.net/misc/blog/mongodb-questions/" rel="alternate"></link><published>2015-03-13T11:14:12-07:00</published><updated>2015-03-13T11:14:12-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-03-13:/misc/blog/mongodb-questions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;cannot connect to remote server, not sure why?&lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;cannot connect to remote server, not sure why?&lt;/li&gt;
&lt;/ol&gt;</content><category term="questions"></category><category term="programming"></category><category term="MongoDB"></category><category term="database"></category><category term="NoSQL"></category></entry><entry><title>Popular Functions in IML</title><link href="http://www.legendu.net/misc/blog/popular-functions-in-iml/" rel="alternate"></link><published>2015-03-02T18:09:00-08:00</published><updated>2015-03-02T18:09:00-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-03-02:/misc/blog/popular-functions-in-iml/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dif&lt;/code&gt;: lagged difference, keep missing values, may or may not what you want,
can use negative lag,
always return a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dif&lt;/code&gt;: lagged difference, keep missing values, may or may not what you want,
can use negative lag,
always return a matrix, with columns corresponding to differences of specified lags
if only 1 lag is specified, return a matrix with 1 column.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;lag&lt;/code&gt;: the usage is similar to dif&lt;/p&gt;
&lt;p&gt;the &lt;code&gt;dif&amp;lt;n&amp;gt;&lt;/code&gt; and &lt;code&gt;lag&amp;lt;n&amp;gt;&lt;/code&gt; are for the data steps&lt;/p&gt;
&lt;p&gt;&lt;code&gt;loc&lt;/code&gt; equivalence of &lt;code&gt;which&lt;/code&gt; in R&lt;/p&gt;
&lt;p&gt;&lt;code&gt;j&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;repeat&lt;/code&gt;
REPEAT Function
Returns a character value that consists of the first argument repeated n+1 times.&lt;/p&gt;
&lt;p&gt;colvec
rowvec&lt;/p&gt;
&lt;p&gt;&lt;code&gt;shape&lt;/code&gt;
SHAPE Function
SHAPE (matrix, nrow &amp;lt;, ncol&amp;gt; &amp;lt;, pad-value&amp;gt; ) ;
The SHAPE function reshapes and repeats values in a matrix.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;choose&lt;/code&gt;, kind of like &lt;code&gt;ifelse&lt;/code&gt; in R&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cuSum&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;&lt;code&gt;cuProd&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;&lt;code&gt;diag&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sample&lt;/code&gt; (x &amp;lt;, n&amp;gt; &amp;lt;, method&amp;gt; &amp;lt;, prob&amp;gt; ) ;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ssq&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;shape&lt;/code&gt; for numeric&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cshape&lt;/code&gt; for character&lt;/p&gt;
&lt;p&gt;&lt;code&gt;concat&lt;/code&gt; like paste in R&lt;/p&gt;
&lt;p&gt;&lt;code&gt;change&lt;/code&gt; like replace&lt;/p&gt;
&lt;p&gt;&lt;code&gt;qntl&lt;/code&gt; Call for sample quantile&lt;/p&gt;
&lt;p&gt;&lt;code&gt;quantile&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;corr&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;standard&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;var&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mean&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mod&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;EXPANDGRID Function
EXPANDGRID (x1, x2 &amp;lt;, x3&amp;gt; …&amp;lt;, x15&amp;gt;) ;
The EXPANDGRID function is part of the IMLMLIB library. The arguments to the EXPANDGRID function are &lt;span class="math"&gt;\(k\)&lt;/span&gt; vectors, &lt;span class="math"&gt;\(2 \leq k \leq 15\)&lt;/span&gt;. The EXPANDGRID function returns a matrix that contains the Cartesian product of elements from the specified vectors. If the &lt;span class="math"&gt;\(i\)&lt;/span&gt;th argument has &lt;span class="math"&gt;\(n_ i\)&lt;/span&gt; elements, the return matrix has &lt;span class="math"&gt;\(\Pi _{i\leq k}n_ i\)&lt;/span&gt; rows and &lt;span class="math"&gt;\(k\)&lt;/span&gt; columns.&lt;/p&gt;
&lt;p&gt;ROWVEC Function
ROWVEC (matrix) ;&lt;/p&gt;
&lt;p&gt;SHAPECOL Function
SHAPECOL (matrix, nrow &amp;lt;, ncol&amp;gt; &amp;lt;, pad-value&amp;gt; ) ;
The SHAPECOL function reshapes and repeats values in a matrix. It is similar to the SHAPE function except that the SHAPECOL function produces the result matrix by traversing the argument matrix in column-major order.&lt;/p&gt;
&lt;h2 id="string"&gt;String&lt;/h2&gt;
&lt;p&gt;strip works both in the data step and the iml procedure&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="programming"></category><category term="SAS"></category><category term="IML"></category><category term="function"></category><category term="module"></category></entry><entry><title>For Loops in C++</title><link href="http://www.legendu.net/misc/blog/for-loops-in-C++/" rel="alternate"></link><published>2015-03-01T14:03:21-08:00</published><updated>2015-03-01T14:03:21-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-03-01:/misc/blog/for-loops-in-C++/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There are 3 for loops in C++,
the usual for loop, the range-based for loop (introduced in C++11) and …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There are 3 for loops in C++,
the usual for loop, the range-based for loop (introduced in C++11) and the &lt;code&gt;std::for_each&lt;/code&gt; for loop.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Both the range-based for loop and the &lt;code&gt;std::for_each&lt;/code&gt; for loop 
applies operations on each eleemnt in a specified container/range.
Both of them are able to mutate elements of a container/range,
but you should never use them to erase elements from a container.
You have to use the usual for loop to erase elements from a container.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you use the range-based for loop (introduced in C++11)
in place of &lt;code&gt;std::for_each&lt;/code&gt; when applicable 
as the range-based for loop is simpler and more readable.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="C++"></category><category term="for loop"></category><category term="container"></category><category term="range"></category></entry><entry><title>Some Tips for HTML and CSS</title><link href="http://www.legendu.net/misc/blog/html_css-tips/" rel="alternate"></link><published>2015-02-24T13:33:13-08:00</published><updated>2015-02-24T13:33:13-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-02-24:/misc/blog/html_css-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;HTML is not case sensitive, 
    but it's suggested that you alway use lower case for tags.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;!-- ... --&amp;gt;&lt;/code&gt; comment &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;always use &lt;code&gt;&amp;lt;!DOCTYPE …&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;HTML is not case sensitive, 
    but it's suggested that you alway use lower case for tags.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;!-- ... --&amp;gt;&lt;/code&gt; comment &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;always use &lt;code&gt;&amp;lt;!DOCTYPE&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;code is for verbatim code while &lt;code&gt;&amp;lt;script&amp;gt; ... &amp;lt;/script&amp;gt;&lt;/code&gt; 
    is for scripting code that will acutally run.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;you'd better use percent for width when formating paragraphs and so on, 
    this is more portable &lt;code&gt;&amp;lt;p style="width:79%"&amp;gt; ... &amp;lt;/p&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;it seems that figcaption in html5 cannot align correctly, must rely on div to align, 
    but only center works perfect.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;no difference between double vs single quotes in HTML&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="tips"></category><category term="HTML"></category><category term="CSS"></category><category term="web"></category><category term="programming"></category></entry><entry><title>Function Programming in Python</title><link href="http://www.legendu.net/misc/blog/map-function-in-python/" rel="alternate"></link><published>2015-02-05T22:58:56-08:00</published><updated>2015-02-05T22:58:56-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-02-05:/misc/blog/map-function-in-python/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The built-in function &lt;code&gt;map&lt;/code&gt; applies a function to each element of an iterable.
    &lt;code&gt;map&lt;/code&gt; is not useful mostly of time …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The built-in function &lt;code&gt;map&lt;/code&gt; applies a function to each element of an iterable.
    &lt;code&gt;map&lt;/code&gt; is not useful mostly of time as Python has list comprehension, etc.
    &lt;code&gt;map&lt;/code&gt; support iterating multiple iterables at the same time.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sequence1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sequence2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;which is equivalent to&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[&lt;span class="nv"&gt;f&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;x1&lt;/span&gt;, &lt;span class="nv"&gt;x2&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;x1&lt;/span&gt;, &lt;span class="nv"&gt;x2&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;zip&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;sequence1&lt;/span&gt;, &lt;span class="nv"&gt;sequence2&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;]
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are some useful functions in the modules &lt;code&gt;functools&lt;/code&gt; and &lt;code&gt;operator&lt;/code&gt;.
    Below is the functional programming way of summing all elements in an array.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;functools&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reduce&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;operator&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;add&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;http://briansimulator.org/&lt;/p&gt;
&lt;p&gt;https://pypi.python.org/pypi/brian/&lt;/p&gt;</content><category term="programming"></category><category term="Python"></category><category term="map"></category><category term="functional programming"></category><category term="reduce"></category><category term="apply"></category></entry><entry><title>Simple Data Manipulating Example</title><link href="http://www.legendu.net/misc/blog/simple-data-manipulating-example/" rel="alternate"></link><published>2015-01-09T15:47:17-08:00</published><updated>2015-01-09T15:47:17-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-01-09:/misc/blog/simple-data-manipulating-example/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Suppose there is a data &lt;code&gt;s&lt;/code&gt; in SAS containing a variable &lt;code&gt;x&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;x
3
3
4
5
2
3
9 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Suppose there is a data &lt;code&gt;s&lt;/code&gt; in SAS containing a variable &lt;code&gt;x&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;x
3
3
4
5
2
3
9
7
1
100
3
5
0&lt;/p&gt;
&lt;p&gt;Now we want to create another variable &lt;code&gt;y&lt;/code&gt; such that&lt;/p&gt;
&lt;p&gt;y = 3 if x =3
y = B_2 y + 2, o.w.&lt;/p&gt;
&lt;p&gt;This is very hard to using the data step in SAS 
while very easy to do in R or the SAS IML procedure.&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="IML"></category><category term="R"></category><category term="CRAN"></category><category term="example"></category></entry><entry><title>Program Termination in SAS</title><link href="http://www.legendu.net/misc/blog/program-termination-in-sas/" rel="alternate"></link><published>2015-01-05T09:14:13-08:00</published><updated>2015-01-05T09:14:13-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2015-01-05:/misc/blog/program-termination-in-sas/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;To print an error message into the SAS log&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%put&lt;/span&gt; &lt;span class="nl"&gt;ERROR&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;error_message&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To print a warning message into the SAS …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;To print an error message into the SAS log&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%put&lt;/span&gt; &lt;span class="nl"&gt;ERROR&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;error_message&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To print a warning message into the SAS log&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%put&lt;/span&gt; &lt;span class="nl"&gt;WARNING&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;warning_message&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To print a note message into the SAS log&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;%put&lt;/span&gt; &lt;span class="nl"&gt;NOTE&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;note_message&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To terminate an user-defined module in the IML procedure use &lt;code&gt;stop;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;exit; 
quit;&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="termination"></category><category term="exit"></category><category term="quit"></category><category term="stop"></category><category term="error"></category></entry><entry><title>VBA Tips</title><link href="http://www.legendu.net/misc/blog/vba-tips/" rel="alternate"></link><published>2014-11-07T04:44:03-08:00</published><updated>2014-11-07T04:44:03-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2014-11-07:/misc/blog/vba-tips/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are 
fragmentary and immature notes/thoughts of the author.
It is not meant to readers 
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="syntax"&gt;Syntax&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;In some programming languages, an ending semicolon is optional. 
However, you cannot end statements with semicolons in VBA.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="string"&gt;String …&lt;/h2&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are 
fragmentary and immature notes/thoughts of the author.
It is not meant to readers 
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="syntax"&gt;Syntax&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;In some programming languages, an ending semicolon is optional. 
However, you cannot end statements with semicolons in VBA.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="string"&gt;String&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;String must quoted by double quotation marks instead of single quotation marks.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="array"&gt;Array&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;By default, array or string comparion/search is 1-based in VBA.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You must use pass an array by reference in VBA (use the keyword byref)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;UBound returns the upper bound (inclusive) of an array 
and LBound gets the lower bound (inclusive) of an array.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you define an array in a usual way, 
e.g., 
&lt;code&gt;Dim arr(10) as Integer&lt;/code&gt;,
the array &lt;code&gt;arr&lt;/code&gt; is 0-based (the default), 
but the upper bound (10) is inclusive 
which is different from most other programming languages (upper bound is pass-by-1).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VBA use parentheses &lt;code&gt;()&lt;/code&gt; for slicing arrays and array index starts from 1 by default in VBA.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;define a dynamic integer arrary&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Dim&lt;/span&gt; &lt;span class="n"&gt;Zombies&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;As&lt;/span&gt; &lt;span class="nb"&gt;Integer&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;however, you have populate it using ReDim before you can use it&lt;/p&gt;
&lt;h2 id="object"&gt;Object&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can assign values to non-object variables directly (e.g., a = 3),
however, you must assign values to an object variable using &lt;code&gt;set&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Selection is an object not a type.
Selection of cells in Excel share many properties with the range object.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="range-object"&gt;Range Object&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;Offset&lt;/code&gt; method of the &lt;code&gt;Range&lt;/code&gt; object counts from the top-left most cell. 
        Range("A1").Offset(2,3).Value = 4&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You cannot do vector/matrix calculations directly on &lt;code&gt;Range&lt;/code&gt; values.
For example, &lt;code&gt;range.value + 1&lt;/code&gt;, &lt;code&gt;range.value / 10&lt;/code&gt;, etc. raise errors.
However, you can use set a value for all cells in a range. 
For example, &lt;code&gt;Range("A1:F5").value = 1&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;prompt to select range&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;Set&lt;/span&gt; &lt;span class="nv"&gt;UserRange&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;Application&lt;/span&gt;.&lt;span class="k"&gt;InputBox&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Prompt&lt;/span&gt;:&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;Please Select Range&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;, &lt;span class="nv"&gt;Title&lt;/span&gt;:&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;Range Select&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;, &lt;span class="nv"&gt;Type&lt;/span&gt;:&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If you want to the range to be highlighted after OK is clicked &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="n"&gt;Application&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;GoTo&lt;/span&gt; &lt;span class="n"&gt;UserRange&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="misc"&gt;Misc&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You can either omit an optional argument of a function or leave it blank (i.e., pass a blank value to it) in VBA. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There is no loop control statement such as next/continue, break, etc. in VBA. 
You have to use the goto statement instead. 
You can also use &lt;code&gt;Exit For&lt;/code&gt;, &lt;code&gt;Exit Do&lt;/code&gt; and &lt;code&gt;Exit While&lt;/code&gt; as alternatives to &lt;code&gt;break&lt;/code&gt;.
You can use &lt;code&gt;Exit Sub&lt;/code&gt; and &lt;code&gt;Exit Function&lt;/code&gt; to exit subroutines and functions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Application.CountA: number of cells in the selected range.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;One way to call an Excel function is 
to assign the Excel function as a formula to a cell 
and then extract the value of the cell.
Mostly of the time, 
you can call an Excel function directly by &lt;code&gt;application.funname&lt;/code&gt;. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VBA uses parentheses to slice array, 
which is the same as matlab 
and different from most other programming languages 
(which uses square brackets to slice array).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="error-handling"&gt;Error Handling&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;The &lt;code&gt;On Error GoTo line_label&lt;/code&gt; trick for handling errors.
&lt;code&gt;On Error GoTo 0&lt;/code&gt; 
turns off error handling.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="tricks-and-traps"&gt;Tricks and Traps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Code that relies on selction/activation to work is considered harmful
unless the selection/activation is temporary and absolutely won't cause problems.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="user-defined-modulesfunctionssubroutinsmacro"&gt;User-defined Modules/Functions/Subroutins/Macro&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Subroutins in VBA perform actions but does not return any value 
while a function can perform actions and return a value.
You cannot change values of others cells in a function? &lt;check it&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You'd better use modules instead of plain functions in code editor, 
not sure about the difference&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can run macro defined in another workbook&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;Private&lt;/span&gt; &lt;span class="nv"&gt;Sub&lt;/span&gt; &lt;span class="nv"&gt;Workbook_Open&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt; 
    &lt;span class="nv"&gt;Workbooks&lt;/span&gt;.&lt;span class="nv"&gt;Open&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s"&gt;scsrv-03\mktgdata$\Adcopy\Ad Master2.xls&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; 
    &lt;span class="nv"&gt;Application&lt;/span&gt;.&lt;span class="nv"&gt;Run&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Ad Master2.xls&amp;#39;!DisplayBriefDetails&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; 
    &lt;span class="nv"&gt;Workbooks&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;Ad Master2.xls&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;.&lt;span class="nv"&gt;Close&lt;/span&gt; &lt;span class="nv"&gt;True&lt;/span&gt; 
&lt;span class="k"&gt;End&lt;/span&gt; &lt;span class="nv"&gt;Sub&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="VBA"></category><category term="tips"></category></entry><entry><title>Check the Type of a SAS Variable</title><link href="http://www.legendu.net/misc/blog/check-the-type-of-a-sas-variable/" rel="alternate"></link><published>2014-10-22T16:59:20-07:00</published><updated>2014-10-22T16:59:20-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2014-10-22:/misc/blog/check-the-type-of-a-sas-variable/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are 
fragmentary and immature notes/thoughts of the author.
It is not meant to readers 
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;SAS has only 2 data types, numerical and character. 
Date, time and datetime, etc. are all represented as numerical values …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are 
fragmentary and immature notes/thoughts of the author.
It is not meant to readers 
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;SAS has only 2 data types, numerical and character. 
Date, time and datetime, etc. are all represented as numerical values inside SAS. 
You have to manually format them to display more meaningful soutput.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;prefer numerical values to character values: 
first, character variables has a default length of 8 which is usually too short
while numerical values are 64 bits. 
Second, the IML procedure accepts matrices only, 
so you cannot mix numeric and character values in the IML procedure.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;prefer nested than distinct (many) levels,
for example, instead of 1-9, 
prefer 1-3 inside another factor of 3 levels. 
This is a performance concern. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There is no concept of return types when you use macros in SAS,
as everything is text to macro. 
However, when you use functions in a data step or other procedures,
the return type of functions matter.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAS implicitly convert a numeric value to a character one
and vice versa.
You should be very careful about implicit conversion 
from a numeric value to a character one. 
When the numeric value is too short (with length &amp;lt; 12), 
the returned character value is right aligned with leading blanks;
when the numeric value too long (with length &amp;gt; 12), 
the returned character value has a scientific representation.
It is suggested that you use a long enough format 
(&lt;code&gt;32.&lt;/code&gt; is the longest format that SAS supports and is thus suggested)
to convert a numeric value to a character one 
and then strip out (using the function &lt;code&gt;strip&lt;/code&gt;) the leading blanks.
For the same reason, 
you'd better alwasy strip a character variable 
converted from a numeric variable using the format &lt;code&gt;k.&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I think it is very silly to define as macro variable with numerical or character suffix, 
because a macro variable does not have a type.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAS can handle integers with lengths of at most 32.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A tricky thing in SAS is 
whether a semicolon in needed in certain statements (e.g., a SQL statement).
This become more tricky when you use macros functions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The statement &lt;code&gt;retain&lt;/code&gt; causes a variable created by an &lt;code&gt;input&lt;/code&gt; or assignment statement 
to retain its value from one iteration of the data step to the next.
It is helpful when you want to operate on 2 consecutive records at the same time,
e.g., 
when you want to calculate lag/difference of variables.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="check-the-type-of-variables"&gt;Check the Type of Variables&lt;/h2&gt;
&lt;p&gt;You can use the procedure content to output descriptions (e.g., type of columns) of a data set.
For example,
the following code checks the types of output of the function &lt;code&gt;putn&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;data&lt;/span&gt; &lt;span class="nb"&gt;date&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;07Aug2014&amp;quot;&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;x1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;putn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;date9.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;x2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;putn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;date7.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;x3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;putn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;yymmdd10.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;x4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;putn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;yymmdd8.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;x5&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;putn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;yymmdd6.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;x6&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;putn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;mmddyy6.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;x7&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;putn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;yymmn.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;x8&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;putn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;&amp;quot;yymmddn8.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="n"&gt;proc&lt;/span&gt; &lt;span class="n"&gt;contents&lt;/span&gt; &lt;span class="k"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;date&lt;/span&gt; &lt;span class="n"&gt;out2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dd&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="n"&gt;proc&lt;/span&gt; &lt;span class="n"&gt;print&lt;/span&gt; &lt;span class="k"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dd&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The output containing types of variables is as below.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;Alphabetic List of Variables and Attributes&lt;/th&gt;
&lt;th align="center"&gt;&lt;/th&gt;
&lt;th align="center"&gt;&lt;/th&gt;
&lt;th align="center"&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;#&lt;/td&gt;
&lt;td align="center"&gt;Variable&lt;/td&gt;
&lt;td align="center"&gt;Type&lt;/td&gt;
&lt;td align="center"&gt;Len&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;d&lt;/td&gt;
&lt;td align="center"&gt;Num&lt;/td&gt;
&lt;td align="center"&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;2&lt;/td&gt;
&lt;td align="center"&gt;x1&lt;/td&gt;
&lt;td align="center"&gt;Char&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;x2&lt;/td&gt;
&lt;td align="center"&gt;Char&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;4&lt;/td&gt;
&lt;td align="center"&gt;x3&lt;/td&gt;
&lt;td align="center"&gt;Char&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;x4&lt;/td&gt;
&lt;td align="center"&gt;Char&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;6&lt;/td&gt;
&lt;td align="center"&gt;x5&lt;/td&gt;
&lt;td align="center"&gt;Char&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;7&lt;/td&gt;
&lt;td align="center"&gt;x6&lt;/td&gt;
&lt;td align="center"&gt;Char&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;8&lt;/td&gt;
&lt;td align="center"&gt;x7&lt;/td&gt;
&lt;td align="center"&gt;Char&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;9&lt;/td&gt;
&lt;td align="center"&gt;x8&lt;/td&gt;
&lt;td align="center"&gt;Char&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;From the results above we can see that
when converting a numeric value to format &lt;code&gt;date9.&lt;/code&gt;, &lt;code&gt;date7.&lt;/code&gt;, &lt;code&gt;yymmdd10.&lt;/code&gt;, &lt;code&gt;yymmdd8.&lt;/code&gt;, &lt;code&gt;yymmdd6.&lt;/code&gt;, &lt;code&gt;mmddyy6.&lt;/code&gt;, &lt;code&gt;yymmn.&lt;/code&gt; and &lt;code&gt;yymmddn8.&lt;/code&gt;
using the function putn, 
the returned type is always character.&lt;/p&gt;
&lt;h3 id="convert-between-numeric-and-character-values"&gt;Convert Between Numeric and Character Values&lt;/h3&gt;
&lt;p&gt;Please refer to the input and put post.&lt;/p&gt;</content><category term="programming"></category><category term="SAS"></category><category term="data type"></category><category term="variable"></category><category term="proc content"></category><category term="putn"></category></entry><entry><title>VBA Questions</title><link href="http://www.legendu.net/misc/blog/vba%20questions/" rel="alternate"></link><published>2014-10-20T16:50:32-07:00</published><updated>2014-10-20T16:50:32-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2014-10-20:/misc/blog/vba questions/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;how to rename module in Excel VBA?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;best way to document user functions in VBA? comment and help clue for …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;how to rename module in Excel VBA?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;best way to document user functions in VBA? comment and help clue for user defined functions in Excel?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="VBA"></category><category term="questions"></category><category term="Excel"></category><category term="MS Office"></category></entry><entry><title>Generating Random Numbers in Java</title><link href="http://www.legendu.net/misc/blog/generating-random-numbers-in-java/" rel="alternate"></link><published>2014-10-19T19:40:40-07:00</published><updated>2014-10-19T19:40:40-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2014-10-19:/misc/blog/generating-random-numbers-in-java/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The java.util.Random class provides a low-quallity generator 
suitable for "informal" uses of random numbers.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The java.util.Random class provides a low-quallity generator 
suitable for "informal" uses of random numbers.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is suggested that you use the classs 
  &lt;a href="http://commons.apache.org/proper/commons-math/javadocs/api-3.6/org/apache/commons/math3/random/RandomDataGenerator.html"&gt;org.apache.commons.math3.random.RandomDataGenerator&lt;/a&gt;
  for generating random numbers if quality is of a concern. 
  Please refer to 
  &lt;a href="http://www.legendu.net/en/blog/summary-random-number-generators/"&gt;Summary on Random Number Generators&lt;/a&gt;
  for more details.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="random number generating"></category><category term="Java"></category></entry><entry><title>Abstract Class and Interface in Java</title><link href="http://www.legendu.net/misc/blog/java-difference-abstract-interface/" rel="alternate"></link><published>2014-09-23T11:15:19-07:00</published><updated>2014-09-23T11:15:19-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2014-09-23:/misc/blog/java-difference-abstract-interface/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;An abstract class is a partial implementation.&lt;/li&gt;
&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;An abstract class is a partial implementation.&lt;/li&gt;
&lt;/ol&gt;</content><category term="abstract class"></category><category term="Java"></category><category term="interface"></category><category term="programming"></category></entry><entry><title>Environments in R</title><link href="http://www.legendu.net/misc/blog/environments-in-r/" rel="alternate"></link><published>2014-09-05T01:22:21-07:00</published><updated>2014-09-05T01:22:21-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2014-09-05:/misc/blog/environments-in-r/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The option &lt;code&gt;pos=1&lt;/code&gt; of the function &lt;code&gt;assign&lt;/code&gt; refers to the global environment, 
i.e., the user's workspace. 
Containers in …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The option &lt;code&gt;pos=1&lt;/code&gt; of the function &lt;code&gt;assign&lt;/code&gt; refers to the global environment, 
i.e., the user's workspace. 
Containers in R are 1-based, 
so it is easy to understand (and remember) that R use 1 to stand for the global enviroment (user's workspace).
Notice that &lt;code&gt;..GlobalEnv&lt;/code&gt; is a variable standing for the global environment and &lt;code&gt;globalenv()&lt;/code&gt; returns the global environment,
&lt;code&gt;pos=1&lt;/code&gt; is equivalent to say &lt;code&gt;pos=.GlobalEnv&lt;/code&gt; or &lt;code&gt;pos=globalenv()&lt;/code&gt;.
If you want to create a global variable in a function,
you can use the function &lt;code&gt;assign&lt;/code&gt; by specifying &lt;code&gt;pos=1&lt;/code&gt; (or &lt;code&gt;pos=.GlobalEnv&lt;/code&gt; or &lt;code&gt;pos=globalenv&lt;/code&gt;).
Another easier but less powerful way is to the &lt;code&gt;&amp;lt;&amp;lt;-&lt;/code&gt; or &lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; to assign/create global variables. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;new.env&lt;/code&gt; creates a new environment. 
If you want to source in some code 
but would rather let the code in a new environment (so that the environment sourcing the code is not contaminated),
you can use &lt;code&gt;source(path_to_file, local=new.env())&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The function &lt;code&gt;emptyenv&lt;/code&gt; returns an immutable empty environment. 
The empty environment is not used to evaluate expressions or run code but rather to check whether nested environments end.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="R"></category><category term="programming"></category><category term="environment"></category></entry><entry><title>Comparison of Containers in C++ and Java</title><link href="http://www.legendu.net/misc/blog/comparison-of-containers-in-cpp-and-java/" rel="alternate"></link><published>2013-11-08T09:50:03-08:00</published><updated>2013-11-08T09:50:03-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2013-11-08:/misc/blog/comparison-of-containers-in-cpp-and-java/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="plain-old-array"&gt;Plain Old Array&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The length/size of array is as in the declaration.
Each element of the array is initialized …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id="plain-old-array"&gt;Plain Old Array&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The length/size of array is as in the declaration.
Each element of the array is initialized to the default value (null for object).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Array in Java does not have a size method, 
but it has a length member. 
This is because the length of an array won't change.
Since String in Java is immutable, 
a string also has a length method instead of size method.
But I think there inconsistent here, they should make String has a length member.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;int[] a = new int[5];
int a[5];&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Array in Java is both static and dynatic while array is C/C++ is static. 
Because array is Java is actually object, so the memory is managed automatically.
In C++, array is not object, if you want to make it dynamic, you must manage memory automatically.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You almost never need to use array is C++. 
You can use vector instead of array. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="class-containers"&gt;Class Containers&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;If you create a vector/list in C++ using the constructor taking a capacity parameter,
the vector/list is fully initialized, 
i.e., every element of the vector/list is initialized.
This is different from Java.
If you create an ArrayList in Java using the constructor taking a capacity parameter,
there's no element in the ArrayList, i.e., the ArrayList is empty,
not to mention initialization of elements.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The difference is because, an element of a vector/list in C++ is an object 
and it must have a valid value while an element of an ArrayList in in Java is a reference.
A reference not necessarily has a valid value. 
Rather than initialize every element to be null,
Java is lazy not to do anything.&lt;/p&gt;</content><category term="programming"></category><category term="C++"></category><category term="Java"></category><category term="tips"></category><category term="container"></category></entry><entry><title>Some Links for R</title><link href="http://www.legendu.net/misc/blog/r-links/" rel="alternate"></link><published>2013-10-20T00:00:00-07:00</published><updated>2013-10-20T00:00:00-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2013-10-20:/misc/blog/r-links/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://statisticsr.blogspot.com/"&gt;Experience with R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://cran.r-project.org/web/views/"&gt;CRAN Task Views&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.statmethods.net/index.html"&gt;Quick R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rdatamining.com/"&gt;RDataMining&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.talkstats.com/forumdisplay.php/14-R"&gt;Talk Stats&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rbresearch"&gt;rbresearch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dirk.eddelbuettel.com/code/rcpp.html"&gt;Rcpp Homepage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dirk.eddelbuettel.com/code/rcpp/html/index.html"&gt;Rcpp Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hadley/devtools/wiki/Rcpp"&gt;Rcpp Hadley&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rbresearch/LearningRcpp"&gt;LearningRcpp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are fragmentary and immature notes/thoughts of the author. 
It is not meant to readers but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://statisticsr.blogspot.com/"&gt;Experience with R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://cran.r-project.org/web/views/"&gt;CRAN Task Views&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.statmethods.net/index.html"&gt;Quick R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rdatamining.com/"&gt;RDataMining&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.talkstats.com/forumdisplay.php/14-R"&gt;Talk Stats&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rbresearch"&gt;rbresearch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dirk.eddelbuettel.com/code/rcpp.html"&gt;Rcpp Homepage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dirk.eddelbuettel.com/code/rcpp/html/index.html"&gt;Rcpp Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hadley/devtools/wiki/Rcpp"&gt;Rcpp Hadley&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rbresearch/LearningRcpp"&gt;LearningRcpp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="links"></category><category term="programming"></category><category term="R"></category><category term="CRAN"></category></entry><entry><title>Hide 3D Graph in Mathematica</title><link href="http://www.legendu.net/misc/blog/hide-3d-graph-in-mathematica/" rel="alternate"></link><published>2013-10-07T00:00:00-07:00</published><updated>2013-10-07T00:00:00-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2013-10-07:/misc/blog/hide-3d-graph-in-mathematica/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;EdgeForm[] and Opacity[]&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;EdgeForm[] and Opacity[]&lt;/p&gt;</content><category term="image"></category><category term="mathematica"></category><category term="visualization"></category><category term="graphics"></category><category term="programming"></category></entry><entry><title>Java Features</title><link href="http://www.legendu.net/misc/blog/java-features/" rel="alternate"></link><published>2012-12-03T00:00:00-08:00</published><updated>2012-12-03T00:00:00-08:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2012-12-03:/misc/blog/java-features/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;h1 id="string-in-switch"&gt;String in Switch&lt;/h1&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Java 7 allows use of strings in switch instead of just integers,
which make things much more …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Things on this page are fragmentary and immature notes/thoughts of the author. It is not meant to readers but rather for convenient reference of the author and future improvement.&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;h1 id="string-in-switch"&gt;String in Switch&lt;/h1&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Java 7 allows use of strings in switch instead of just integers,
which make things much more convenient (see the following example).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;public&lt;/span&gt; &lt;span class="nv"&gt;void&lt;/span&gt; &lt;span class="nv"&gt;foo&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;Foo&lt;/span&gt; &lt;span class="nv"&gt;t&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; {
    &lt;span class="nv"&gt;String&lt;/span&gt; &lt;span class="nv"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;t&lt;/span&gt;.&lt;span class="nv"&gt;getName&lt;/span&gt;&lt;span class="ss"&gt;()&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
        &lt;span class="nv"&gt;switch&lt;/span&gt; &lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;name&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt; {
        &lt;span class="nv"&gt;case&lt;/span&gt; &lt;span class="nv"&gt;John&lt;/span&gt;:
            ...
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
        &lt;span class="nv"&gt;case&lt;/span&gt; &lt;span class="nv"&gt;Jackie&lt;/span&gt;:
            ...
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
        &lt;span class="nv"&gt;case&lt;/span&gt; &lt;span class="nv"&gt;Ben&lt;/span&gt;:
            ...
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
        &lt;span class="nv"&gt;default&lt;/span&gt;:
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
    }
}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In the above program, the variable &lt;code&gt;name&lt;/code&gt; is always compared to &lt;code&gt;John&lt;/code&gt;, &lt;code&gt;Jackie&lt;/code&gt; and &lt;code&gt;Ben&lt;/code&gt; using the &lt;code&gt;String.equals&lt;/code&gt; method.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;h1 id="better-way-to-handle-exceptions"&gt;Better Way to Handle Exceptions&lt;/h1&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Java 7 has a better way to handle exceptions&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;h1 id="auto-resource-management"&gt;Auto Resource Management&lt;/h1&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h1 id="infinity-in-float-computing"&gt;Infinity in Float Computing&lt;/h1&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Java support "infinity" in float computing, 
for example &lt;code&gt;Math.log(0)&lt;/code&gt; return &lt;span class="math"&gt;\(-\infty\)&lt;/span&gt; in Java.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;h1 id="unavailable-features-seen-in-other-languages"&gt;Unavailable Features Seen in Other Languages&lt;/h1&gt;
As a compiled language, 
Java does not support variant number of parameters and default parameters directly, 
but this is totally unnecessary in Java since Java allows overriding functions. 
The only inconvenient place is the &lt;code&gt;main&lt;/code&gt; function in Java. 
The main method cannot be override, 
so you must use its argument &lt;code&gt;args&lt;/code&gt; of type &lt;code&gt;String[]&lt;/code&gt; 
to parse input arguments passed to the &lt;code&gt;main&lt;/code&gt; function. 
This is not as convenient as varadic template in C++11.&lt;/li&gt;
&lt;/ol&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' &amp;&amp; location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' }, Macros: {} }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="switch"></category><category term="string"></category><category term="Java"></category><category term="programming"></category><category term="features"></category></entry><entry><title>Template Meta Programming</title><link href="http://www.legendu.net/misc/blog/template-meta-programming/" rel="alternate"></link><published>2012-10-21T00:00:00-07:00</published><updated>2012-10-21T00:00:00-07:00</updated><author><name>Ben Chuanlong Du</name></author><id>tag:www.legendu.net,2012-10-21:/misc/blog/template-meta-programming/</id><summary type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Illustrative examples for the following discussions can be found 
&lt;a href="https://github.com/dclong/cearn/tree/master/template"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Do not use templated generic function/method unless necessary. 
Templated …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;
Things on this page are
fragmentary and immature notes/thoughts of the author.
It is not meant to readers
but rather for convenient reference of the author and future improvement.
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Illustrative examples for the following discussions can be found 
&lt;a href="https://github.com/dclong/cearn/tree/master/template"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Do not use templated generic function/method unless necessary. 
Templated generic function are more useful generally speaking.
However, templated function/method are inconvenient to use sometimes,
and they are often error prone.
Always keep in mind the first programming rule "KISS" (keep it simple stupid).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A good design is essential in template meta programming. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you write templated class/function/method, 
it is suggested that you use as fewer template arguments as possible. 
Because it is often much harder and requires much more work to specialize a 
templated class/function/method with more template arguments. 
By using templated methods, one can often reduced the number of arguments 
required by a template class. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you call a template function,
the compile try to find the right version to call.
If a template function does not take any argument,
then there is no way for the compiler to figure out the right version from argument (as there is no argument)
So in this case, 
you must supply the template argument manually.
If a template argument is supply manually,
then the argument passed to the template function are
casted to the right type (specified by the template argument) if necessary.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If a type depends on a template argument, 
then you have to use &lt;code&gt;typename&lt;/code&gt; before the type to let the compiler 
know that it is a template type. (This is not right ..., sometimes you need it sometimes not ...)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Whenever you refer to a template class, 
you must specify the template arguemnts. 
If all template arguments have default values, 
then they can omitted, 
however, you still have to use &lt;code&gt;&amp;lt;&amp;gt;&lt;/code&gt; after the name of the class
to let the compiler know that it is a template class.
Forgetting template arguments is a common mistake when using template classes. 
When you implemente a template method outside the definition of its class,
you must start with &lt;code&gt;template&amp;lt;...&amp;gt;&lt;/code&gt;.
This is because the template arguments of the template class is only in effect
inside the scope of the class. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A specialization of a template class does not have access to members in the 
general version of the class if these members are not defined in the specialized class.
That is when you specialize a class, 
what you define in the specialized class is what is available to it.
Different specializations of a template class usually have members with same names. 
This make it convenient to write template functions which can 
handle different versions of the template class. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Template functions/methods can only be "full" specialized. 
That is when you specialize a template function/method, 
you must specialize all template arguments. 
If a template method is inside a template class, 
then you must first specialize the template class so that
you can specialize the template method. 
On the contrary, you can specialize a class without specialize 
its template methods. 
"Partial" specialized member functions are achieved through specialization of class.
Relative to the specialized class, 
the "partial" specialized member function is still full specialized. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The implementations of specializations of a template method must be outside 
the definition of the class. 
Also the orer of specialization of template functions/methods
matters if one depends on another.
This is similar to the concept that the order of functions matters if one depends 
on another.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Except types, you can also use values that are essentially integers 
(e.g., values of long, int, char, bool and so on) as template arguments.
However, you cannot use values that are essentially float point types 
(e.g., values of float, double and so on) as template arguments. 
For example, &lt;code&gt;std::get&amp;lt;2&amp;gt;&lt;/code&gt; takes an integer as template argument. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Specializing a template class is often tedious. 
There are some ways to avoid specializing template classes. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Avoid specializing template methods in template classes unless the template class has only one argument 
(in this case you can full specialize template methods), 
because specializing a template method in a template class often 
requires specialization of the template class. 
Instead, a better way is to use overloaded methods. 
Some examples using this trick can be found 
&lt;a href="https://github.com/dclong/cearn/tree/master/template/overload-vs-specialization"&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;If different versions of a template class requires different temporary variables, 
it is often good idea to group these temporary variables into a struct and specialize 
the small struct instead of the template class.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Functions operate on containers in STL often take iterators as arguments,
which is for the concern of writing more generic and easier-maintain code. 
However, this make it slightly inconvenient to use these functions and 
make the code insecure.&lt;br&gt;
When you write your own functions/methods that operate on containers, 
keep them simple and use containers as arguments unless generic is necessary. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you want to member types of a template type, add &lt;code&gt;typename&lt;/code&gt; before it. 
For example, &lt;code&gt;template&amp;lt;class InputIt, class set&amp;lt;InputIt::value_type&amp;gt;&amp;gt; void f(...){...}&lt;/code&gt; won't compile, 
but &lt;code&gt;template&amp;lt;class InputIt, class set&amp;lt;typename InputIt::value_type&amp;gt;&amp;gt; void f(...){...}&lt;/code&gt; is OK.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When inheritating a template base class, 
protected members in the base class is not directly available.
You have to use them by &lt;code&gt;this&lt;/code&gt; pointer. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A template method cannot be virtual. 
Template is sort of static polymorphism while virtual is sort of dynamic polymorphism.
They cannot be mixed together. &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="overload"></category><category term="programming"></category><category term="TMP"></category><category term="specialization"></category><category term="C++"></category><category term="template"></category></entry></feed>