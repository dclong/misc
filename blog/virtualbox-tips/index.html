<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Tips on Virtualbox</title>
  <meta name="author" content="Ben Chuanlong Du">

  <link href="https://misc.legendu.net/atom.xml" type="application/atom+xml" rel="alternate"
        title="Ben Chuanlong Du's Blog Atom Feed" />


  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://misc.legendu.net/favicon.png" rel="icon">
  <link href="https://misc.legendu.net/theme/css/main_2.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="https://misc.legendu.net/theme/js/modernizr-2.0.js"></script>
  <script src="https://misc.legendu.net/theme/js/ender.js"></script>
  <script src="https://misc.legendu.net/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <script data-ad-client="ca-pub-3836424032203369" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="https://misc.legendu.net/">Ben Chuanlong Du's Blog</a></h1>
    <h2>It is never too late to learn.</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="https://misc.legendu.net/atom.xml" rel="subscribe-rss">RSS</a></li>
</ul>

<form name="search" action="https://www.bing.com/search" method="get" onSubmit="return build_query()">
  <fieldset role="search">
      <!--
    <input type="hidden" name="q" value="site:https://misc.legendu.net" />
        -->
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<script type = "text/javascript">
    function build_query() {
        var query = document.forms["search"]["q"].value;
        var prefix = "site:https://misc.legendu.net "
        if (!query.startsWith(prefix)) {
            query = prefix + query;
            document.forms["search"]["q"].value = query;
        }
        return true;
    }
</script>

<ul class="main-navigation">
    <li><a href="https://www.legendu.net">Home</a></li>
    <li><a href="https://misc.legendu.net">Blog</a></li>
    <li><a href="https://misc.legendu.net/archives.html">Archives</a></li>
    <li><a href="https://misc.legendu.net/categories.html">Categories</a></li>
    <li><a href="https://misc.legendu.net/tags.html">Tags</a></li>
    <li><a href="https://www.legendu.net/pages/about">About</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">Tips on Virtualbox</h1>
      <p class="meta"><time datetime="2013-10-03T10:42:46-07:00" pubdate>Oct 03, 2013</time></p>
</header>

  <div class="entry-content"><p><strong>Things on this page are fragmentary and immature notes/thoughts of the author. Please read with your own judgement!</strong></p>
<div class="highlight"><pre><span></span><code>sudo mount -t vboxsf -o uid=$(whoami),gid=$(whoami),fmask=177,dmask=077
</code></pre></div>

<ol>
<li>
<p>If the graphics resolution is not correct
    and you cannot see the whole desktop 
    when installing a Linux distribution in VirtualBox,
    quit the installation,
    enable the EFI mode for the virtual machine in VirtualBox,
    and try installing the Linux distribution again.</p>
<p><img alt="virtualbox-efi" src="https://user-images.githubusercontent.com/824507/166753101-f3723b7f-d3a1-4199-8a39-e9ff106e5fdb.png"></p>
</li>
<li>
<p>use command line to export guest machines (see vbvm.export.sh),
    not recommended, directly copy everything is easier,
    especially for windows machines</p>
</li>
<li>
<p>Check if you set a UUID for virtualbox, whether re-activation is still needed for MS word.
    Another thing is too see whether VM can access usb.</p>
</li>
<li>
<p>The activation has to do with the uuid change when creating the guest. 
    Windows sees this as a changed motherboard and that is enough to trigger activation.
    However, 
    instead of exporting and importing which does trigger this 
    you can (since version 4.x of VirtualBox) simply copy the entire guests folder out 
    to a saved location, 
    then copy it back into the new install 
    and place it back in the VirtualBox VMs folder and dbl click the <code>*.vbox</code> file. 
    Since this does not re-install anything it does not require re-activation.</p>
</li>
<li>
<p>Word 2010 require reactivation on Virtualbox even if you COPY The entire virtual machine 
    Word 2007 not sure, probably will work</p>
</li>
<li>
<p>If you install a backported linux image, 
    the usually version of Virtualbox might not work. 
    You can try the backported version of Virtualbox which will probably work.</p>
</li>
<li>
<p>The "Shared Clipboard" functionality relies on the VirtualBox Guest Additions to work.</p>
</li>
<li>
<p>you probably need to restart after if you encounter problems in virtualbox and are required to install dkms to solve it ...</p>
</li>
</ol>
<h2 id="settings">Settings</h2>
<ol>
<li>You'd better check "Enable PAE/NX" under the "Processor" tab in the "System" settings group
    when you use a Linux guest machine on a Windows host.
    This is because a Linux machine usually support Physical Address Extension (PAE),
    and if PAE is not enable in VirtualBox, 
    the Linux guest machine might fail to start.</li>
</ol>
<h2 id="enable-fullscreen">Enable Fullscreen</h2>
<ol>
<li>
<p>Install gcc and make. </p>
<div class="highlight"><pre><span></span><code>wajig install gcc make
</code></pre></div>

</li>
<li>
<p>Install VBoxAdditions.</p>
</li>
<li>
<p>Reboot.</p>
</li>
<li>
<p>Set the scale of the virtual display to something other than "100% (unscaled output)".</p>
<p><img alt="virtual_display" src="https://user-images.githubusercontent.com/824507/127074652-f319d5f7-5f91-442f-966c-6c522b4daea0.png"></p>
</li>
</ol>
<h2 id="error-messages">Error Messages</h2>
<ol>
<li>
<p>VirtualBox Version 4.3.10</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="nx">mount</span><span class="p">:</span><span class="w"> </span><span class="nx">wrong</span><span class="w"> </span><span class="nx">fs</span><span class="w"> </span><span class="k">type</span><span class="p">,</span><span class="w"> </span><span class="nx">bad</span><span class="w"> </span><span class="nx">option</span><span class="p">,</span><span class="w"> </span><span class="nx">bad</span><span class="w"> </span><span class="nx">superblock</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">UbuntuShared</span><span class="p">,</span>
<span class="w">        </span><span class="nx">missing</span><span class="w"> </span><span class="nx">codepage</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="nx">helper</span><span class="w"> </span><span class="nx">program</span><span class="p">,</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="nx">other</span><span class="w"> </span><span class="nx">error</span>
<span class="w">        </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="nx">several</span><span class="w"> </span><span class="nx">filesystems</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">g</span><span class="p">.</span><span class="w"> </span><span class="nx">nfs</span><span class="p">,</span><span class="w"> </span><span class="nx">cifs</span><span class="p">)</span><span class="w"> </span><span class="nx">you</span><span class="w"> </span><span class="nx">might</span>
<span class="w">        </span><span class="nx">need</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">/</span><span class="nx">sbin</span><span class="o">/</span><span class="nx">mount</span><span class="p">.&lt;</span><span class="k">type</span><span class="p">&gt;</span><span class="w"> </span><span class="nx">helper</span><span class="w"> </span><span class="nx">program</span><span class="p">)</span>
<span class="w">        </span><span class="nx">In</span><span class="w"> </span><span class="nx">some</span><span class="w"> </span><span class="nx">cases</span><span class="w"> </span><span class="nx">useful</span><span class="w"> </span><span class="nx">info</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="nx">found</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nx">syslog</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">try</span>
<span class="w">    </span><span class="nx">dmesg</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">tail</span><span class="w">  </span><span class="k">or</span><span class="w"> </span><span class="nx">so</span>
</code></pre></div>

<p>This is probably because of a bad symbolic link.
Adding a symblic link might solve the problem.</p>
<p>sudo ln -s /opt/VBoxGuestAdditions-4.3.10/lib/VBoxGuestAdditions /usr/lib/VBoxGuestAdditions</p>
</li>
</ol>
<h2 id="speedup-virtualbox">Speedup Virtualbox</h2>
<ol>
<li>
<p>use fixed size disk</p>
</li>
<li>
<p>install guest additions</p>
</li>
</ol>
<h2 id="vboxmanage">VBOXManage</h2>
<ol>
<li>
<p>to create a shared folder </p>
<p>VBoxManage sharedfolder add "VM name" --name "sharename" --hostpath "C:\test"</p>
</li>
<li>
<p>To change the UUID of a Virtual Machine disk.</p>
<p>VBoxManage internalcommands sethduuid WinTPC.vdi </p>
<p>If you change the UUID of a disk of an existing Virtual Machine, 
it probably won't work any more. 
You can simply create a new Virtual Machine using the disk.</p>
</li>
<li>
<p>Fail to install VirtualBox Guest Additions on antiX. 
    Couldn't figure out what caused the problem. 
    The problem is the Linux kernel. 
    After installing an older version 3.2 of kernel, VirtualBox Guest Additions can be installed successfully.</p>
</li>
<li>
<p>Better to make 32 bit virtual machines as it runs OK on both 32 and 64 bit computers.</p>
</li>
<li>
<p>Virtual machine is a good way to learn new technologies, 
    summary steps to learn Oracle SQL ... and big data, virtual machines ...</p>
</li>
</ol>
<h2 id="vboxadditions">VBoxAdditions</h2>
<ol>
<li>Sometimes the virtual machine fails to load VBoxAdditions iso image into the CD/DVD drive. 
    You can manually download the image, mount it (using mount) and then install it.</li>
</ol>
<h2 id="issues">Issues</h2>
<ol>
<li>
<p>it seems that VirtualBox has caused the blue screen problem on the office laptop, 
    avoid using it for a while to see whether the problem comes up again.
    NEVER appeared. So VirtualBox caused the problem.</p>
</li>
<li>
<p>sometimes cannot run .exe from ...
    This is usually a problem when running .exe files 
    from a virtual box shared folder on the windows guest. 
    The solution is to run the .exe using UNC paths 
    ie In your Explorer (in Windows) go to \Vboxsvr\your shared folder\path\to\folder\with\exe 
    and run the .exe from there.
    problematic for CygwinPortable, as you cannot install to a network folder</p>
</li>
</ol>
<h2 id="multiscreen">Multiscreen</h2>
<p>View -&gt; Virtual screen 1 -&gt; use host screen 1/2</p>
<h2 id="network">Network</h2>
<p><a href="http://www.virtualbox.org/manual/ch06.html">http://www.virtualbox.org/manual/ch06.html</a> covers the virtualbox networking quite well.</p>
<ol>
<li>To make the guest virtual machine behave like a machine in the local network,
    you have to use the bridged network.
    You must choose the right network device when you use bridged network. 
    For example, if the host machine is using the wireless network, 
    you might have to choose <code>wlan0</code> 
    (different according to network settings of the host machine).</li>
</ol>
<p>NAT - Your host will act as a router (firewall) and your hosts will be on a private subnet. 
Use this if you are not running servers on the guests.</p>
<p>Bridged - Your guests will get a ip address on the same subnet as your host. 
Use this if you are running servers on the guest 
and wish to connect from other computers on the LAN.</p>
<p>Host Only - Sort of a hybrid. As the name implies, 
with this option you can connect to the guest servers from the host only. 
Use this for "private" (host only) servers. 
I use this if I am running a test web server.</p>
<p>To make a long story short, 
assuming you have a router, I would use bridged networking.</p>
<h2 id="mouse-control">Mouse Control</h2>
<p><a href="https://www.virtualbox.org/sdkref/interface_i_mouse.html">VirtualBox Main API - IMouse Interface Reference</a></p>
<h2 id="questions">Questions</h2>
<ol>
<li>how to automatically mount a shared folder in VirtualBox ?</li>
</ol>
<h2 id="references">References</h2>
<ul>
<li><a href="http://www.legendu.net/misc/blog/format-a-flash-drive-in-a-linux-virtual-machine">Format a Flash Drive in a Linux Virtual Machine</a></li>
<li><a href="https://www.virtualbox.org/browser/vbox/trunk#src">VirtualBox Source Code</a></li>
<li><a href="http://www.legendu.net/misc/blog/virtualbox-api">VirtualBox API</a></li>
<li><a href="http://www.legendu.net/en/blog/resizing-hard-disk-of-guest-machine-in-virtualbox">Resizing Hard Disk of Guest Machine in Virtualbox</a></li>
<li><a href="http://www.virtualbox.org/manual/">Oracle VM VirtualBox® User Manual</a></li>
<li><a href="http://www.trimentation.com/wp/?p=100">VirtualBox on the command line: Importing, Exporting, and Duplicating VMs</a></li>
<li><a href="http://andunix.net/info/virtualbox/cli">VirtualBox Command Line Interface</a></li>
<li><a href="http://nakkaya.com/2012/08/30/create-manage-virtualBox-vms-from-the-command-line/">Create/Manage VirtualBox VMs from the Command Line</a></li>
<li><a href="http://superuser.com/questions/472951/make-a-clone-of-virtualbox-machine-that-doesnt-cause-windows-re-activation-afte">Make a clone of VirtualBox Machine that doesn't cause Windows Re-Activation after installing Windows</a></li>
<li><a href="http://grahamrhay.wordpress.com/2012/04/22/activation-woes-with-windows-7-virtualbox/">Activation woes with Windows 7 &amp; VirtualBox | Look on my works, ye Mighty, and despair!</a></li>
<li><a href="http://www.windowstablet.tv/windows-tips/190-virtualbox-clone-windows-activation/">VirtualBox: Clone VM without Re-activation of Windows 7</a></li>
</ul></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">Ben Chuanlong Du</span>
  </span>
<time datetime="2013-10-03T10:42:46-07:00" pubdate>Oct 03, 2013</time>  <span class="categories">
    <a class="category" href="https://misc.legendu.net/tag/tips.html">tips</a>
    <a class="category" href="https://misc.legendu.net/tag/virtualbox.html">virtualbox</a>
    <a class="category" href="https://misc.legendu.net/tag/virtualization.html">virtualization</a>
  </span>
</p>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="https://misc.legendu.net/blog/tips-on-health/">Tips on Health</a>
      </li>
      <li class="post">
          <a href="https://misc.legendu.net/blog/tips-on-child-education/">Tips on Child Education</a>
      </li>
      <li class="post">
          <a href="https://misc.legendu.net/blog/tips-on-fd/">Tips on fd</a>
      </li>
      <li class="post">
          <a href="https://misc.legendu.net/blog/the-fzf-command-is-a-great-alternative-to-find/">The fzf Command Is a Great Alternative to find</a>
      </li>
      <li class="post">
          <a href="https://misc.legendu.net/blog/ruff-is-an-extremely-fast-python-linter-written-in-rust/">Ruff Is An Extremely Fast Python Linter Written in Rust</a>
      </li>
    </ul>
  </section>
  <section>
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="https://misc.legendu.net/category/ai.html">AI</a></li>
        <li><a href="https://misc.legendu.net/category/career.html">Career</a></li>
        <li><a href="https://misc.legendu.net/category/cloud.html">Cloud</a></li>
        <li><a href="https://misc.legendu.net/category/computer-science.html">Computer Science</a></li>
        <li><a href="https://misc.legendu.net/category/fiannce.html">Fiannce</a></li>
        <li><a href="https://misc.legendu.net/category/finance.html">Finance</a></li>
        <li><a href="https://misc.legendu.net/category/fun-problems.html">Fun Problems</a></li>
        <li><a href="https://misc.legendu.net/category/hardware.html">Hardware</a></li>
        <li><a href="https://misc.legendu.net/category/health.html">Health</a></li>
        <li><a href="https://misc.legendu.net/category/house.html">House</a></li>
        <li><a href="https://misc.legendu.net/category/internet.html">Internet</a></li>
        <li><a href="https://misc.legendu.net/category/investment.html">Investment</a></li>
        <li><a href="https://misc.legendu.net/category/life.html">life</a></li>
        <li><a href="https://misc.legendu.net/category/linux.html">Linux</a></li>
        <li><a href="https://misc.legendu.net/category/os.html">OS</a></li>
        <li><a href="https://misc.legendu.net/category/people.html">People</a></li>
        <li><a href="https://misc.legendu.net/category/philosophy.html">Philosophy</a></li>
        <li><a href="https://misc.legendu.net/category/research.html">Research</a></li>
        <li><a href="https://misc.legendu.net/category/shopping.html">Shopping</a></li>
        <li><a href="https://misc.legendu.net/category/soft-skills.html">soft skills</a></li>
        <li><a href="https://misc.legendu.net/category/software.html">Software</a></li>
        <li><a href="https://misc.legendu.net/category/statistics.html">Statistics</a></li>
        <li><a href="https://misc.legendu.net/category/tools.html">Tools</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
  <ul class="tagcloud">
  </ul>
  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/legendu-net">@legendu-net</a> on GitHub
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'https://misc.legendu.net/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'legendu-net',
              count: 5,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="https://misc.legendu.net/theme/js/github.js" type="text/javascript"> </script>
  </section>

    <section>
        <h1>Social</h2>
        <ul>
            <li><a href="https://www.linkedin.com/in/ben-chuanlong-du-1239b221/" target="_blank">LinkedIn</a></li>
            <li><a href="https://hub.docker.com/u/dclong" target="_blank">Docker Hub</a></li>
            <li><a href="https://stackoverflow.com/users/7808204/benjamin-du?tab=profile" target="_blank">Stack Overflow</a></li>
            <li><a href="https://twitter.com/longendu" target="_blank">Twitter</a></li>
        <!--
            <li><a href="https://misc.legendu.net/" type="application/rss+xml" rel="alternate">RSS</a></li>
            -->
        </ul>
    </section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Ben Chuanlong Du -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3STS9BVPF6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3STS9BVPF6');
</script>
	<script type="text/javascript">
	  var disqus_shortname = 'dclong';
          var disqus_identifier = '/blog/virtualbox-tips/';
          var disqus_url = 'https://misc.legendu.net/blog/virtualbox-tips/';
          var disqus_title = 'Tips on Virtualbox';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>